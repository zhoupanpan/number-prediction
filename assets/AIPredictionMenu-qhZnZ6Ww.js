var _=Object.defineProperty,g=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var P=(t,e,i)=>e in t?_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,p=(t,e)=>{for(var i in e||(e={}))R.call(e,i)&&P(t,i,e[i]);if(f)for(var i of f(e))A.call(e,i)&&P(t,i,e[i]);return t},b=(t,e)=>g(t,I(e));var h=(t,e,i)=>new Promise((v,u)=>{var r=d=>{try{c(i.next(d))}catch(m){u(m)}},o=d=>{try{c(i.throw(d))}catch(m){u(m)}},c=d=>d.done?v(d.value):Promise.resolve(d.value).then(r,o);c((i=i.apply(t,e)).next())});import{y as L,z as H,A as C,c as n,a as s,b as y,l as k,v as S,t as l,f as M,F as z,B,o as a,n as F}from"./vendor-XXQc_yx5.js";import{_ as w,b as T}from"./index-BXDNWbx7.js";import"./utils-DurHG9wo.js";const N={name:"AIPredictionMenu",data(){return{isFetching:!1}},computed:b(p({},C(["lotteryResult","lotteryPeriod","lotteryHistorySize","lotteryHistoryRecords","aiPredictionResult","isPredicting"])),{hasLotteryHistory(){return this.lotteryHistoryRecords.length>0},lotteryHistorySizeInput:{get(){return this.lotteryHistorySize},set(t){this.setLotteryHistorySize(t)}}}),methods:b(p(p({},H(["setLotteryHistorySize","setCurrentCombination","setGenerationMethod"])),L(["performAIPrediction","fetchLatestLotteryResult","clearLotteryCache","clearPersistedLotteryHistory"])),{getModelLabel(t){const e=T.getAvailableModels().find(i=>i.value===t);return e?e.label:t},fetchLotteryResult(){return h(this,null,function*(){this.isFetching=!0;try{yield this.fetchLatestLotteryResult()}catch(t){alert(t.message)}finally{this.isFetching=!1}})},performAIPrediction(){return h(this,null,function*(){try{console.log("å¼€å§‹AIé¢„æµ‹...");const t=yield this.$store.dispatch("performAIPrediction");console.log("AIé¢„æµ‹å®Œæˆï¼Œç»“æžœ:",t),t.prediction||alert("AIé¢„æµ‹å¤±è´¥ï¼Œè¯·é‡è¯•")}catch(t){console.error("AIé¢„æµ‹é”™è¯¯:",t),alert(t.message)}})},addAIPredictionToBet(){return h(this,null,function*(){if(!this.aiPredictionResult.prediction||!this.lotteryResult){alert("è¯·å…ˆå®ŒæˆAIé¢„æµ‹å¹¶èŽ·å–å¼€å¥–ç»“æžœ");return}try{this.setCurrentCombination(this.aiPredictionResult.prediction),this.setGenerationMethod("ai");const t=yield this.$store.dispatch("performPrediction");alert(`AIé¢„æµ‹ç»“æžœå·²æ·»åŠ åˆ°æŠ•æ³¨è®°å½•ï¼é¢„æµ‹ç»“æžœï¼š${t}`),this.$router.push("/betting-records")}catch(t){alert(t.message)}})},clearCache(){return h(this,null,function*(){try{const[t,e]=yield Promise.all([this.$store.dispatch("clearLotteryCache"),this.$store.dispatch("clearPersistedLotteryHistory")]);alert(`æ¸…é™¤æˆåŠŸï¼ç¼“å­˜è®°å½•ï¼š${t}æ¡ï¼ŒæŒä¹…åŒ–è®°å½•ï¼š${e}æ¡`),this.loadLotteryHistory()}catch(t){alert("æ¸…é™¤ç¼“å­˜å¤±è´¥ï¼š"+t.message)}})},loadLotteryHistory(){this.fetchLotteryResult()}})},V={class:"ai-prediction-menu"},D={class:"control-panel"},G={class:"panel-section"},E={class:"lottery-controls"},U={class:"input-group"},j={class:"lottery-actions"},q=["disabled"],J={key:0,class:"lottery-info"},K={class:"lottery-period"},O={class:"lottery-result"},Q={class:"panel-section"},W={class:"prediction-controls"},X=["disabled"],Y={key:0,class:"prediction-tip"},Z={key:0,class:"ai-prediction-panel"},$={class:"ai-prediction-result"},x={class:"prediction-number"},tt={class:"value"},et={class:"prediction-reason"},st={class:"value"},it={class:"prediction-model"},ot={class:"value"},rt={key:0,class:"prediction-actions"},lt=["disabled"],nt={key:0,class:"prediction-tip"},at={key:1,class:"lottery-history-panel"},dt={class:"lottery-history-list"},ct={class:"lottery-history-info"},yt={class:"period"},ut={class:"result"},ht={class:"date"};function pt(t,e,i,v,u,r){return a(),n("div",V,[s("div",D,[s("div",G,[e[6]||(e[6]=s("h3",null,"å¼€å¥–ç»“æžœèŽ·å–",-1)),s("div",E,[s("div",U,[e[5]||(e[5]=s("label",null,"èŽ·å–æœŸæ•°ï¼š",-1)),k(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.lotteryHistorySizeInput=o),type:"number",min:"1",max:"50",class:"input-field"},null,512),[[S,r.lotteryHistorySizeInput,void 0,{number:!0}]])]),s("div",j,[s("button",{onClick:e[1]||(e[1]=(...o)=>r.fetchLotteryResult&&r.fetchLotteryResult(...o)),disabled:u.isFetching,class:"btn btn-primary"},l(u.isFetching?"èŽ·å–ä¸­...":"èŽ·å–å¼€å¥–ç»“æžœ"),9,q),s("button",{onClick:e[2]||(e[2]=(...o)=>t.clearLotteryCache&&t.clearLotteryCache(...o)),class:"btn btn-secondary"},"æ¸…é™¤ç¼“å­˜")]),t.lotteryResult?(a(),n("div",J,[s("div",K,"æœ€æ–°æœŸå·ï¼š"+l(t.lotteryPeriod),1),s("div",O,"å¼€å¥–ç»“æžœï¼š"+l(t.lotteryResult),1)])):y("",!0)])]),s("div",Q,[e[8]||(e[8]=s("h3",null,"AIæ™ºèƒ½é¢„æµ‹",-1)),s("div",W,[s("button",{onClick:e[3]||(e[3]=(...o)=>r.performAIPrediction&&r.performAIPrediction(...o)),disabled:t.isPredicting,class:"btn btn-ai"},[e[7]||(e[7]=s("span",{class:"btn-icon"},"ðŸ¤–",-1)),M(" "+l(t.isPredicting?"AIé¢„æµ‹ä¸­...":"AIæ™ºèƒ½é¢„æµ‹"),1)],8,X),r.hasLotteryHistory?y("",!0):(a(),n("div",Y," ï¼ˆè¯·å…ˆèŽ·å–å¼€å¥–ç»“æžœæ‰èƒ½è¿›è¡ŒAIé¢„æµ‹ï¼‰ "))])])]),t.aiPredictionResult?(a(),n("div",Z,[e[12]||(e[12]=s("h3",null,"AIæ™ºèƒ½é¢„æµ‹ç»“æžœ",-1)),s("div",$,[s("div",x,[e[9]||(e[9]=s("span",{class:"label"},"é¢„æµ‹å·ç ï¼š",-1)),s("span",tt,l(t.aiPredictionResult.prediction),1)]),s("div",et,[e[10]||(e[10]=s("span",{class:"label"},"é¢„æµ‹ç†ç”±ï¼š",-1)),s("span",st,l(t.aiPredictionResult.reason),1)]),s("div",it,[e[11]||(e[11]=s("span",{class:"label"},"ä½¿ç”¨æ¨¡åž‹ï¼š",-1)),s("span",ot,l(r.getModelLabel(t.aiPredictionService?t.aiPredictionService.getSelectedModel():"")),1)]),t.aiPredictionResult.prediction?(a(),n("div",rt,[s("button",{onClick:e[4]||(e[4]=(...o)=>r.addAIPredictionToBet&&r.addAIPredictionToBet(...o)),disabled:!t.lotteryResult,class:"btn btn-ai-action"},l(t.lotteryResult?"æ·»åŠ åˆ°æŠ•æ³¨è®°å½•":"è¯·å…ˆèŽ·å–å¼€å¥–ç»“æžœ"),9,lt),t.lotteryResult?y("",!0):(a(),n("span",nt," ï¼ˆéœ€è¦èŽ·å–æœ€æ–°å¼€å¥–ç»“æžœæ‰èƒ½æ·»åŠ åˆ°æŠ•æ³¨è®°å½•ï¼‰ "))])):y("",!0)])])):y("",!0),t.lotteryHistoryRecords.length>0?(a(),n("div",at,[s("h3",null,"å¼€å¥–åŽ†å²è®°å½•ï¼ˆå…±"+l(t.lotteryHistoryRecords.length)+"æœŸï¼‰",1),s("div",dt,[(a(!0),n(z,null,B(t.lotteryHistoryRecords,(o,c)=>(a(),n("div",{key:c,class:F(["lottery-history-item",{latest:c===0}])},[s("div",ct,[s("span",yt,"ç¬¬"+l(o.period)+"æœŸ",1),s("span",ut,l(o.result),1),s("span",ht,l(o.date),1)])],2))),128))])])):y("",!0)])}const Pt=w(N,[["render",pt],["__scopeId","data-v-37781c53"]]);export{Pt as default};
