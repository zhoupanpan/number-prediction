const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./LoginPage-Bb4GPYQO.js","./vendor-XXQc_yx5.js","./utils-DurHG9wo.js","./LoginPage-DcB1NrUp.css","./AIPredictionMenu-qhZnZ6Ww.js","./AIPredictionMenu-DuFmUe0-.css","./BettingRecordsMenu-VFrV3Vja.js","./BettingRecordsMenu-C6lkHX7G.css","./NumberExtraction-kz_xQcal.js","./NumberExtraction-DX1ofK5p.css","./FourCodeMaintenance-CTMPr1Ah.js","./FourCodeMaintenance-DmoQC5hK.css","./KillCodeMaintenance-CjqEwUpT.js","./KillCodeMaintenance-DJhDa6vn.css","./FiveCodeMaintenance-KCJD0LNG.js","./FiveCodeMaintenance-CIKaygDS.css","./CodeMaintenance-BeeoPrBL.js","./CodeMaintenance-_5T7BBsZ.css","./MatchFourCodeByDanma-CZO2xztj.js","./MatchFourCodeByDanma-9ItWNkaH.css","./AdvancedNumberPrediction-D1YqON3Y.js","./AdvancedNumberPrediction-D3ID-AVQ.css","./KillTwoCodeMaintenance-DKYUqtra.js","./KillTwoCodeMaintenance-BgSQ2hLu.css","./DataRecovery-DvXPYpTT.js","./DataRecovery-DPKbRiof.css","./AdvancedDataRecovery-Cp98PuJG.js","./AdvancedDataRecovery-DMYZ58CZ.css","./ThreeCodeDeduplication-dXCclG-J.js","./ThreeCodeDeduplication-CtDLBwOk.css","./PeriodManagement-w8UCSQn3.js","./PeriodManagement-CcSdvZ0K.css","./ThreeCodeFilter-B_3TX9AB.js","./ThreeCodeFilter-BeJiH8Qo.css","./NotFound-BaNmkUm0.js","./NotFound-D_8T6Y_X.css"])))=>i.map(i=>d[i]);
var Ti=Object.defineProperty,Li=Object.defineProperties;var Hi=Object.getOwnPropertyDescriptors;var Ut=Object.getOwnPropertySymbols,Ni=Object.getPrototypeOf,F0=Object.prototype.hasOwnProperty,D0=Object.prototype.propertyIsEnumerable,Wi=Reflect.get;var nt=(n,e)=>(e=Symbol[n])?e:Symbol.for("Symbol."+n),qi=n=>{throw TypeError(n)};var B0=(n,e,t)=>e in n?Ti(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,b=(n,e)=>{for(var t in e||(e={}))F0.call(e,t)&&B0(n,t,e[t]);if(Ut)for(var t of Ut(e))D0.call(e,t)&&B0(n,t,e[t]);return n},S=(n,e)=>Li(n,Hi(e));var re=(n,e)=>{var t={};for(var r in n)F0.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Ut)for(var r of Ut(n))e.indexOf(r)<0&&D0.call(n,r)&&(t[r]=n[r]);return t};var k0=(n,e,t)=>Wi(Ni(n),t,e);var $=(n,e,t)=>new Promise((r,s)=>{var a=p=>{try{c(t.next(p))}catch(o){s(o)}},i=p=>{try{c(t.throw(p))}catch(o){s(o)}},c=p=>p.done?r(p.value):Promise.resolve(p.value).then(a,i);c((t=t.apply(n,e)).next())}),oe=function(n,e){this[0]=n,this[1]=e},Le=(n,e,t)=>{var r=(i,c,p,o)=>{try{var u=t[i](c),x=(c=u.value)instanceof oe,l=u.done;Promise.resolve(x?c[0]:c).then(d=>x?r(i==="return"?i:"next",c[1]?{done:d.done,value:d.value}:d,p,o):p({value:d,done:l})).catch(d=>r("throw",d,p,o))}catch(d){o(d)}},s=i=>a[i]=c=>new Promise((p,o)=>r(i,c,p,o)),a={};return t=t.apply(n,e),a[nt("asyncIterator")]=()=>a,s("next"),s("throw"),s("return"),a},S0=n=>{var e=n[nt("asyncIterator")],t=!1,r,s={};return e==null?(e=n[nt("iterator")](),r=a=>s[a]=i=>e[a](i)):(e=e.call(n),r=a=>s[a]=i=>{if(t){if(t=!1,a==="throw")throw i;return i}return t=!0,{done:!1,value:new oe(new Promise(c=>{var p=e[a](i);p instanceof Object||qi("Object expected"),c(p)}),1)}}),s[nt("iterator")]=()=>s,r("next"),"throw"in e?r("throw"):s.throw=a=>{throw a},"return"in e&&r("return"),s},me=(n,e,t)=>(e=n[nt("asyncIterator")])?e.call(n):(n=n[nt("iterator")](),e={},t=(r,s)=>(s=n[r])&&(e[r]=a=>new Promise((i,c,p)=>(a=s.call(n,a),p=a.done,Promise.resolve(a.value).then(o=>i({value:o,done:p}),c)))),t("next"),t("return"),e);import{c as Re,a as H,b as Oe,w as Or,t as wt,d as ne,e as ae,n as zt,f as we,r as R0,o as Ie,g as Ui,h as zi,i as ji,j as Xi}from"./vendor-XXQc_yx5.js";import{g as Ki,c as V,a as Vi,b as Gi,l as qn}from"./utils-DurHG9wo.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();const Qi="modulepreload",Ji=function(n,e){return new URL(n,e).href},I0={},fe=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){const i=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),p=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(t.map(o=>{if(o=Ji(o,r),o in I0)return;I0[o]=!0;const u=o.endsWith(".css"),x=u?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const _=i[f];if(_.href===o&&(!u||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${x}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Qi,u||(d.as="script"),d.crossOrigin="",d.href=o,p&&d.setAttribute("nonce",p),document.head.appendChild(d),u)return new Promise((f,_)=>{d.addEventListener("load",f),d.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return s.then(i=>{for(const c of i||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function j(n,e,t,r,s){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}function k(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}let Ns=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return Ns=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^t()&15>>+r/4).toString(16))};function Fn(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const Dn=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch(e){}try{return new Error(JSON.stringify(n))}catch(e){}}return new Error(n)};class z extends Error{}class pe extends z{constructor(e,t,r,s){super(`${pe.makeMessage(e,t,r)}`),this.status=e,this.headers=s,this.requestID=s==null?void 0:s.get("x-request-id"),this.error=t;const a=t;this.code=a==null?void 0:a.code,this.param=a==null?void 0:a.param,this.type=a==null?void 0:a.type}static makeMessage(e,t,r){const s=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,t,r,s){if(!e||!s)return new yr({message:r,cause:Dn(t)});const a=t==null?void 0:t.error;return e===400?new Ws(e,a,r,s):e===401?new qs(e,a,r,s):e===403?new Us(e,a,r,s):e===404?new zs(e,a,r,s):e===409?new js(e,a,r,s):e===422?new Xs(e,a,r,s):e===429?new Ks(e,a,r,s):e>=500?new Vs(e,a,r,s):new pe(e,a,r,s)}}class De extends pe{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class yr extends pe{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class Un extends yr{constructor({message:e}={}){super({message:e!=null?e:"Request timed out."})}}class Ws extends pe{}class qs extends pe{}class Us extends pe{}class zs extends pe{}class js extends pe{}class Xs extends pe{}class Ks extends pe{}class Vs extends pe{}class Gs extends z{constructor(){super("Could not parse response content as the length limit was reached")}}class Qs extends z{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Ct extends Error{constructor(e){super(e)}}const Yi=/^[a-z][a-z0-9+.-]*:/i,Zi=n=>Yi.test(n);let _e=n=>(_e=Array.isArray,_e(n)),P0=_e;function Js(n){return typeof n!="object"?{}:n!=null?n:{}}function eo(n){if(!n)return!0;for(const e in n)return!1;return!0}function to(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Mr(n){return n!=null&&typeof n=="object"&&!Array.isArray(n)}const ro=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new z(`${n} must be an integer`);if(e<0)throw new z(`${n} must be a positive integer`);return e},no=n=>{try{return JSON.parse(n)}catch(e){return}},Tt=n=>new Promise(e=>setTimeout(e,n)),ct="6.8.1",so=()=>typeof window!="undefined"&&typeof window.document!="undefined"&&typeof navigator!="undefined";function ao(){return typeof Deno!="undefined"&&Deno.build!=null?"deno":typeof EdgeRuntime!="undefined"?"edge":Object.prototype.toString.call(typeof globalThis.process!="undefined"?globalThis.process:0)==="[object process]"?"node":"unknown"}const io=()=>{var t,r,s,a,i;const n=ao();if(n==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ct,"X-Stainless-OS":M0(Deno.build.os),"X-Stainless-Arch":O0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(r=(t=Deno.version)==null?void 0:t.deno)!=null?r:"unknown"};if(typeof EdgeRuntime!="undefined")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ct,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(n==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ct,"X-Stainless-OS":M0((s=globalThis.process.platform)!=null?s:"unknown"),"X-Stainless-Arch":O0((a=globalThis.process.arch)!=null?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!=null?i:"unknown"};const e=oo();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ct,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ct,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function oo(){if(typeof navigator=="undefined"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const r=t.exec(navigator.userAgent);if(r){const s=r[1]||0,a=r[2]||0,i=r[3]||0;return{browser:e,version:`${s}.${a}.${i}`}}}return null}const O0=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",M0=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let jt;const co=()=>jt!=null?jt:jt=io();function lo(){if(typeof fetch!="undefined")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ys(...n){const e=globalThis.ReadableStream;if(typeof e=="undefined")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function Zs(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return Ys({start(){},pull(r){return $(this,null,function*(){const{done:s,value:a}=yield e.next();s?r.close():r.enqueue(a)})},cancel(){return $(this,null,function*(){var r;yield(r=e.return)==null?void 0:r.call(e)})}})}function ea(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{next(){return $(this,null,function*(){try{const r=yield e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}})},return(){return $(this,null,function*(){const r=e.cancel();return e.releaseLock(),yield r,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}function uo(n){return $(this,null,function*(){var r,s;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){yield(s=(r=n[Symbol.asyncIterator]()).return)==null?void 0:s.call(r);return}const e=n.getReader(),t=e.cancel();e.releaseLock(),yield t})}const fo=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),ta="RFC3986",ra=n=>String(n),$0={RFC1738:n=>String(n).replace(/%20/g,"+"),RFC3986:ra},xo="RFC1738";let kn=(n,e)=>{var t;return kn=(t=Object.hasOwn)!=null?t:Function.prototype.call.bind(Object.prototype.hasOwnProperty),kn(n,e)};const Me=(()=>{const n=[];for(let e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n})(),$r=1024,ho=(n,e,t,r,s)=>{if(n.length===0)return n;let a=n;if(typeof n=="symbol"?a=Symbol.prototype.toString.call(n):typeof n!="string"&&(a=String(n)),t==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let i="";for(let c=0;c<a.length;c+=$r){const p=a.length>=$r?a.slice(c,c+$r):a,o=[];for(let u=0;u<p.length;++u){let x=p.charCodeAt(u);if(x===45||x===46||x===95||x===126||x>=48&&x<=57||x>=65&&x<=90||x>=97&&x<=122||s===xo&&(x===40||x===41)){o[o.length]=p.charAt(u);continue}if(x<128){o[o.length]=Me[x];continue}if(x<2048){o[o.length]=Me[192|x>>6]+Me[128|x&63];continue}if(x<55296||x>=57344){o[o.length]=Me[224|x>>12]+Me[128|x>>6&63]+Me[128|x&63];continue}u+=1,x=65536+((x&1023)<<10|p.charCodeAt(u)&1023),o[o.length]=Me[240|x>>18]+Me[128|x>>12&63]+Me[128|x>>6&63]+Me[128|x&63]}i+=o.join("")}return i};function po(n){return!n||typeof n!="object"?!1:!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))}function T0(n,e){if(_e(n)){const t=[];for(let r=0;r<n.length;r+=1)t.push(e(n[r]));return t}return e(n)}const na={brackets(n){return String(n)+"[]"},comma:"comma",indices(n,e){return String(n)+"["+e+"]"},repeat(n){return String(n)}},sa=function(n,e){Array.prototype.push.apply(n,_e(e)?e:[e])};let Xt;const le={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ho,encodeValuesOnly:!1,format:ta,formatter:ra,indices:!1,serializeDate(n){return(Xt!=null?Xt:Xt=Function.prototype.call.bind(Date.prototype.toISOString))(n)},skipNulls:!1,strictNullHandling:!1};function mo(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"}const Tr={};function aa(n,e,t,r,s,a,i,c,p,o,u,x,l,d,f,_,v,y){let h=n,m=y,g=0,A=!1;for(;(m=m.get(Tr))!==void 0&&!A;){const w=m.get(n);if(g+=1,typeof w!="undefined"){if(w===g)throw new RangeError("Cyclic object value");A=!0}typeof m.get(Tr)=="undefined"&&(g=0)}if(typeof o=="function"?h=o(e,h):h instanceof Date?h=l==null?void 0:l(h):t==="comma"&&_e(h)&&(h=T0(h,function(w){return w instanceof Date?l==null?void 0:l(w):w})),h===null){if(a)return p&&!_?p(e,le.encoder,v,"key",d):e;h=""}if(mo(h)||po(h)){if(p){const w=_?e:p(e,le.encoder,v,"key",d);return[(f==null?void 0:f(w))+"="+(f==null?void 0:f(p(h,le.encoder,v,"value",d)))]}return[(f==null?void 0:f(e))+"="+(f==null?void 0:f(String(h)))]}const C=[];if(typeof h=="undefined")return C;let B;if(t==="comma"&&_e(h))_&&p&&(h=T0(h,p)),B=[{value:h.length>0?h.join(",")||null:void 0}];else if(_e(o))B=o;else{const w=Object.keys(h);B=u?w.sort(u):w}const D=c?String(e).replace(/\./g,"%2E"):String(e),R=r&&_e(h)&&h.length===1?D+"[]":D;if(s&&_e(h)&&h.length===0)return R+"[]";for(let w=0;w<B.length;++w){const E=B[w],F=typeof E=="object"&&typeof E.value!="undefined"?E.value:h[E];if(i&&F===null)continue;const I=x&&c?E.replace(/\./g,"%2E"):E,W=_e(h)?typeof t=="function"?t(R,I):R:R+(x?"."+I:"["+I+"]");y.set(n,g);const q=new WeakMap;q.set(Tr,y),sa(C,aa(F,W,t,r,s,a,i,c,t==="comma"&&_&&_e(h)?null:p,o,u,x,l,d,f,_,v,q))}return C}function vo(n=le){if(typeof n.allowEmptyArrays!="undefined"&&typeof n.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof n.encodeDotInKeys!="undefined"&&typeof n.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(n.encoder!==null&&typeof n.encoder!="undefined"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=n.charset||le.charset;if(typeof n.charset!="undefined"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let t=ta;if(typeof n.format!="undefined"){if(!kn($0,n.format))throw new TypeError("Unknown format option provided.");t=n.format}const r=$0[t];let s=le.filter;(typeof n.filter=="function"||_e(n.filter))&&(s=n.filter);let a;if(n.arrayFormat&&n.arrayFormat in na?a=n.arrayFormat:"indices"in n?a=n.indices?"indices":"repeat":a=le.arrayFormat,"commaRoundTrip"in n&&typeof n.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const i=typeof n.allowDots=="undefined"?n.encodeDotInKeys?!0:le.allowDots:!!n.allowDots;return{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:le.addQueryPrefix,allowDots:i,allowEmptyArrays:typeof n.allowEmptyArrays=="boolean"?!!n.allowEmptyArrays:le.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:le.charsetSentinel,commaRoundTrip:!!n.commaRoundTrip,delimiter:typeof n.delimiter=="undefined"?le.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:le.encode,encodeDotInKeys:typeof n.encodeDotInKeys=="boolean"?n.encodeDotInKeys:le.encodeDotInKeys,encoder:typeof n.encoder=="function"?n.encoder:le.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:le.encodeValuesOnly,filter:s,format:t,formatter:r,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:le.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:le.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:le.strictNullHandling}}function go(n,e={}){let t=n;const r=vo(e);let s,a;typeof r.filter=="function"?(a=r.filter,t=a("",t)):_e(r.filter)&&(a=r.filter,s=a);const i=[];if(typeof t!="object"||t===null)return"";const c=na[r.arrayFormat],p=c==="comma"&&r.commaRoundTrip;s||(s=Object.keys(t)),r.sort&&s.sort(r.sort);const o=new WeakMap;for(let l=0;l<s.length;++l){const d=s[l];r.skipNulls&&t[d]===null||sa(i,aa(t[d],d,c,p,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,o))}const u=i.join(r.delimiter);let x=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),u.length>0?x+u:""}function _o(n){let e=0;for(const s of n)e+=s.length;const t=new Uint8Array(e);let r=0;for(const s of n)t.set(s,r),r+=s.length;return t}let Kt;function zn(n){let e;return(Kt!=null?Kt:(e=new globalThis.TextEncoder,Kt=e.encode.bind(e)))(n)}let Vt;function L0(n){let e;return(Vt!=null?Vt:(e=new globalThis.TextDecoder,Vt=e.decode.bind(e)))(n)}var Ae,Ce;class br{constructor(){Ae.set(this,void 0),Ce.set(this,void 0),j(this,Ae,new Uint8Array),j(this,Ce,null)}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?zn(e):e;j(this,Ae,_o([k(this,Ae,"f"),t]));const r=[];let s;for(;(s=yo(k(this,Ae,"f"),k(this,Ce,"f")))!=null;){if(s.carriage&&k(this,Ce,"f")==null){j(this,Ce,s.index);continue}if(k(this,Ce,"f")!=null&&(s.index!==k(this,Ce,"f")+1||s.carriage)){r.push(L0(k(this,Ae,"f").subarray(0,k(this,Ce,"f")-1))),j(this,Ae,k(this,Ae,"f").subarray(k(this,Ce,"f"))),j(this,Ce,null);continue}const a=k(this,Ce,"f")!==null?s.preceding-1:s.preceding,i=L0(k(this,Ae,"f").subarray(0,a));r.push(i),j(this,Ae,k(this,Ae,"f").subarray(s.index)),j(this,Ce,null)}return r}flush(){return k(this,Ae,"f").length?this.decode(`
`):[]}}Ae=new WeakMap,Ce=new WeakMap;br.NEWLINE_CHARS=new Set([`
`,"\r"]);br.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function yo(n,e){for(let s=e!=null?e:0;s<n.length;s++){if(n[s]===10)return{preceding:s,index:s+1,carriage:!1};if(n[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function bo(n){for(let r=0;r<n.length-1;r++){if(n[r]===10&&n[r+1]===10||n[r]===13&&n[r+1]===13)return r+2;if(n[r]===13&&n[r+1]===10&&r+3<n.length&&n[r+2]===13&&n[r+3]===10)return r+4}return-1}const dr={off:0,error:200,warn:300,info:400,debug:500},H0=(n,e,t)=>{if(n){if(to(dr,n))return n;xe(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(dr))}`)}};function Et(){}function Gt(n,e,t){return!e||dr[n]>dr[t]?Et:e[n].bind(e)}const wo={error:Et,warn:Et,info:Et,debug:Et};let N0=new WeakMap;function xe(n){var a;const e=n.logger,t=(a=n.logLevel)!=null?a:"off";if(!e)return wo;const r=N0.get(e);if(r&&r[0]===t)return r[1];const s={error:Gt("error",e,t),warn:Gt("warn",e,t),info:Gt("info",e,t),debug:Gt("debug",e,t)};return N0.set(e,[t,s]),s}const Ke=n=>(n.options&&(n.options=b({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);var At;class Te{constructor(e,t,r){this.iterator=e,At.set(this,void 0),this.controller=t,j(this,At,r)}static fromSSEResponse(e,t,r){let s=!1;const a=r?xe(r):console;function i(){return Le(this,null,function*(){if(s)throw new z("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let c=!1;try{try{for(var p=me(Ao(e,t)),o,u,x;o=!(u=yield new oe(p.next())).done;o=!1){const l=u.value;if(!c){if(l.data.startsWith("[DONE]")){c=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let d;try{d=JSON.parse(l.data)}catch(f){throw a.error("Could not parse message into JSON:",l.data),a.error("From chunk:",l.raw),f}if(d&&d.error)throw new pe(void 0,d.error,void 0,e.headers);yield d}else{let d;try{d=JSON.parse(l.data)}catch(f){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),f}if(l.event=="error")throw new pe(void 0,d.error,d.message,void 0);yield{event:l.event,data:d}}}}}catch(u){x=[u]}finally{try{o&&(u=p.return)&&(yield new oe(u.call(p)))}finally{if(x)throw x[0]}}c=!0}catch(l){if(Fn(l))return;throw l}finally{c||t.abort()}})}return new Te(i,t,r)}static fromReadableStream(e,t,r){let s=!1;function a(){return Le(this,null,function*(){const c=new br,p=ea(e);try{for(var o=me(p),u,x,l;u=!(x=yield new oe(o.next())).done;u=!1){const d=x.value;for(const f of c.decode(d))yield f}}catch(x){l=[x]}finally{try{u&&(x=o.return)&&(yield new oe(x.call(o)))}finally{if(l)throw l[0]}}for(const d of c.flush())yield d})}function i(){return Le(this,null,function*(){if(s)throw new z("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let c=!1;try{try{for(var p=me(a()),o,u,x;o=!(u=yield new oe(p.next())).done;o=!1){const l=u.value;c||l&&(yield JSON.parse(l))}}catch(u){x=[u]}finally{try{o&&(u=p.return)&&(yield new oe(u.call(p)))}finally{if(x)throw x[0]}}c=!0}catch(l){if(Fn(l))return;throw l}finally{c||t.abort()}})}return new Te(i,t,r)}[(At=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),s=a=>({next:()=>{if(a.length===0){const i=r.next();e.push(i),t.push(i)}return a.shift()}});return[new Te(()=>s(e),this.controller,k(this,At,"f")),new Te(()=>s(t),this.controller,k(this,At,"f"))]}toReadableStream(){const e=this;let t;return Ys({start(){return $(this,null,function*(){t=e[Symbol.asyncIterator]()})},pull(s){return $(this,null,function*(){try{const{value:a,done:i}=yield t.next();if(i)return s.close();const c=zn(JSON.stringify(a)+`
`);s.enqueue(c)}catch(a){s.error(a)}})},cancel(){return $(this,null,function*(){var s;yield(s=t.return)==null?void 0:s.call(t)})}})}}function Ao(n,e){return Le(this,null,function*(){if(!n.body)throw e.abort(),typeof globalThis.navigator!="undefined"&&globalThis.navigator.product==="ReactNative"?new z("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new z("Attempted to iterate over a response with no body");const t=new Eo,r=new br,s=ea(n.body);try{for(var a=me(Co(s)),i,c,p;i=!(c=yield new oe(a.next())).done;i=!1){const o=c.value;for(const u of r.decode(o)){const x=t.decode(u);x&&(yield x)}}}catch(c){p=[c]}finally{try{i&&(c=a.return)&&(yield new oe(c.call(a)))}finally{if(p)throw p[0]}}for(const o of r.flush()){const u=t.decode(o);u&&(yield u)}})}function Co(n){return Le(this,null,function*(){let e=new Uint8Array;try{for(var t=me(n),r,s,a;r=!(s=yield new oe(t.next())).done;r=!1){const i=s.value;if(i==null)continue;const c=i instanceof ArrayBuffer?new Uint8Array(i):typeof i=="string"?zn(i):i;let p=new Uint8Array(e.length+c.length);p.set(e),p.set(c,e.length),e=p;let o;for(;(o=bo(e))!==-1;)yield e.slice(0,o),e=e.slice(o)}}catch(s){a=[s]}finally{try{r&&(s=t.return)&&(yield new oe(s.call(t)))}finally{if(a)throw a[0]}}e.length>0&&(yield e)})}class Eo{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,s]=Bo(e,":");return s.startsWith(" ")&&(s=s.substring(1)),t==="event"?this.event=s:t==="data"&&this.data.push(s),null}}function Bo(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}function ia(n,e){return $(this,null,function*(){const{response:t,requestLogID:r,retryOfRequestLogID:s,startTime:a}=e,i=yield $(this,null,function*(){var x;if(e.options.stream)return xe(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):Te.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const c=t.headers.get("content-type"),p=(x=c==null?void 0:c.split(";")[0])==null?void 0:x.trim();if((p==null?void 0:p.includes("application/json"))||(p==null?void 0:p.endsWith("+json"))){const l=yield t.json();return oa(l,t)}return yield t.text()});return xe(n).debug(`[${r}] response parsed`,Ke({retryOfRequestLogID:s,url:t.url,status:t.status,body:i,durationMs:Date.now()-a})),i})}function oa(n,e){return!n||typeof n!="object"||Array.isArray(n)?n:Object.defineProperty(n,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Bt;class wr extends Promise{constructor(e,t,r=ia){super(s=>{s(null)}),this.responsePromise=t,this.parseResponse=r,Bt.set(this,void 0),j(this,Bt,e)}_thenUnwrap(e){return new wr(k(this,Bt,"f"),this.responsePromise,(t,r)=>$(this,null,function*(){return oa(e(yield this.parseResponse(t,r),r),r.response)}))}asResponse(){return this.responsePromise.then(e=>e.response)}withResponse(){return $(this,null,function*(){const[e,t]=yield Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}})}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(k(this,Bt,"f"),e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Bt=new WeakMap;var Qt;class jn{constructor(e,t,r,s){Qt.set(this,void 0),j(this,Qt,e),this.options=s,this.response=t,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}getNextPage(){return $(this,null,function*(){const e=this.nextPageRequestOptions();if(!e)throw new z("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return yield k(this,Qt,"f").requestAPIList(this.constructor,e)})}iterPages(){return Le(this,null,function*(){let e=this;for(yield e;e.hasNextPage();)e=yield new oe(e.getNextPage()),yield e})}[(Qt=new WeakMap,Symbol.asyncIterator)](){return Le(this,null,function*(){try{for(var e=me(this.iterPages()),t,r,s;t=!(r=yield new oe(e.next())).done;t=!1){const a=r.value;for(const i of a.getPaginatedItems())yield i}}catch(r){s=[r]}finally{try{t&&(r=e.return)&&(yield new oe(r.call(e)))}finally{if(s)throw s[0]}}})}}class Fo extends wr{constructor(e,t,r){super(e,t,(s,a)=>$(this,null,function*(){return new r(s,a.response,yield ia(s,a),a.options)}))}[Symbol.asyncIterator](){return Le(this,null,function*(){const e=yield new oe(this);try{for(var t=me(e),r,s,a;r=!(s=yield new oe(t.next())).done;r=!1){const i=s.value;yield i}}catch(s){a=[s]}finally{try{r&&(s=t.return)&&(yield new oe(s.call(t)))}finally{if(a)throw a[0]}}})}}class Ar extends jn{constructor(e,t,r,s){super(e,t,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){var e;return(e=this.data)!=null?e:[]}nextPageRequestOptions(){return null}}class ie extends jn{constructor(e,t,r,s){super(e,t,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){var e;return(e=this.data)!=null?e:[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const e=this.getPaginatedItems(),t=(r=e[e.length-1])==null?void 0:r.id;return t?S(b({},this.options),{query:S(b({},Js(this.options.query)),{after:t})}):null}}class fr extends jn{constructor(e,t,r,s){super(e,t,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){var e;return(e=this.data)!=null?e:[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?S(b({},this.options),{query:S(b({},Js(this.options.query)),{after:e})}):null}}const ca=()=>{var n;if(typeof File=="undefined"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)==null?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ot(n,e,t){return ca(),new File(n,e!=null?e:"unknown_file",t)}function rr(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const Xn=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function",W0=(n,e)=>$(void 0,null,function*(){return Sn(n.body)?S(b({},n),{body:yield la(n.body,e)}):n}),Je=(n,e)=>$(void 0,null,function*(){return S(b({},n),{body:yield la(n.body,e)})}),q0=new WeakMap;function Do(n){const e=typeof n=="function"?n:n.fetch,t=q0.get(e);if(t)return t;const r=$(this,null,function*(){try{const s="Response"in e?e.Response:(yield e("data:,")).constructor,a=new FormData;return a.toString()!==(yield new s(a).text())}catch(s){return!0}});return q0.set(e,r),r}const la=(n,e)=>$(void 0,null,function*(){if(!(yield Do(e)))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const t=new FormData;return yield Promise.all(Object.entries(n||{}).map(([r,s])=>Rn(t,r,s))),t}),ua=n=>n instanceof Blob&&"name"in n,ko=n=>typeof n=="object"&&n!==null&&(n instanceof Response||Xn(n)||ua(n)),Sn=n=>{if(ko(n))return!0;if(Array.isArray(n))return n.some(Sn);if(n&&typeof n=="object"){for(const e in n)if(Sn(n[e]))return!0}return!1},Rn=(n,e,t)=>$(void 0,null,function*(){if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")n.append(e,String(t));else if(t instanceof Response)n.append(e,Ot([yield t.blob()],rr(t)));else if(Xn(t))n.append(e,Ot([yield new Response(Zs(t)).blob()],rr(t)));else if(ua(t))n.append(e,t,rr(t));else if(Array.isArray(t))yield Promise.all(t.map(r=>Rn(n,e+"[]",r)));else if(typeof t=="object")yield Promise.all(Object.entries(t).map(([r,s])=>Rn(n,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}}),da=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",So=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&da(n),Ro=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";function Io(n,e,t){return $(this,null,function*(){if(ca(),n=yield n,So(n))return n instanceof File?n:Ot([yield n.arrayBuffer()],n.name);if(Ro(n)){const s=yield n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Ot(yield In(s),e,t)}const r=yield In(n);if(e||(e=rr(n)),!(t!=null&&t.type)){const s=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof s=="string"&&(t=S(b({},t),{type:s}))}return Ot(r,e,t)})}function In(n){return $(this,null,function*(){var i;let e=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)e.push(n);else if(da(n))e.push(n instanceof Blob?n:yield n.arrayBuffer());else if(Xn(n))try{for(var t=me(n),r,s,a;r=!(s=yield t.next()).done;r=!1){const c=s.value;e.push(...yield In(c))}}catch(s){a=[s]}finally{try{r&&(s=t.return)&&(yield s.call(t))}finally{if(a)throw a[0]}}else{const c=(i=n==null?void 0:n.constructor)==null?void 0:i.name;throw new Error(`Unexpected data type: ${typeof n}${c?`; constructor: ${c}`:""}${Po(n)}`)}return e})}function Po(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}class U{constructor(e){this._client=e}}function fa(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const U0=Object.freeze(Object.create(null)),Oo=(n=fa)=>function(t,...r){if(t.length===1)return t[0];let s=!1;const a=[],i=t.reduce((u,x,l)=>{var _,v,y;/[?#]/.test(x)&&(s=!0);const d=r[l];let f=(s?encodeURIComponent:n)(""+d);return l!==r.length&&(d==null||typeof d=="object"&&d.toString===((y=Object.getPrototypeOf((v=Object.getPrototypeOf((_=d.hasOwnProperty)!=null?_:U0))!=null?v:U0))==null?void 0:y.toString))&&(f=d+"",a.push({start:u.length+x.length,length:f.length,error:`Value of type ${Object.prototype.toString.call(d).slice(8,-1)} is not a valid path parameter`})),u+x+(l===r.length?"":f)},""),c=i.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let o;for(;(o=p.exec(c))!==null;)a.push({start:o.index,length:o[0].length,error:`Value "${o[0]}" can't be safely passed as a path parameter`});if(a.sort((u,x)=>u.start-x.start),a.length>0){let u=0;const x=a.reduce((l,d)=>{const f=" ".repeat(d.start-u),_="^".repeat(d.length);return u=d.start+d.length,l+f+_},"");throw new z(`Path parameters result in path with invalid segments:
${a.map(l=>l.error).join(`
`)}
${i}
${x}`)}return i},T=Oo(fa);let xa=class extends U{list(e,t={},r){return this._client.getAPIList(T`/chat/completions/${e}/messages`,ie,b({query:t},r))}};function xr(n){return n!==void 0&&"function"in n&&n.function!==void 0}function Kn(n){return(n==null?void 0:n.$brand)==="auto-parseable-response-format"}function Lt(n){return(n==null?void 0:n.$brand)==="auto-parseable-tool"}function Mo(n,e){return!e||!ha(e)?S(b({},n),{choices:n.choices.map(t=>(pa(t.message.tool_calls),S(b({},t),{message:b(S(b({},t.message),{parsed:null}),t.message.tool_calls?{tool_calls:t.message.tool_calls}:void 0)})))}):Vn(n,e)}function Vn(n,e){const t=n.choices.map(r=>{var s,a;if(r.finish_reason==="length")throw new Gs;if(r.finish_reason==="content_filter")throw new Qs;return pa(r.message.tool_calls),S(b({},r),{message:S(b(b({},r.message),r.message.tool_calls?{tool_calls:(a=(s=r.message.tool_calls)==null?void 0:s.map(i=>To(e,i)))!=null?a:void 0}:void 0),{parsed:r.message.content&&!r.message.refusal?$o(e,r.message.content):null})})});return S(b({},n),{choices:t})}function $o(n,e){var t,r;return((t=n.response_format)==null?void 0:t.type)!=="json_schema"?null:((r=n.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in n.response_format?n.response_format.$parseRaw(e):JSON.parse(e):null}function To(n,e){var r;const t=(r=n.tools)==null?void 0:r.find(s=>{var a;return xr(s)&&((a=s.function)==null?void 0:a.name)===e.function.name});return S(b({},e),{function:S(b({},e.function),{parsed_arguments:Lt(t)?t.$parseRaw(e.function.arguments):t!=null&&t.function.strict?JSON.parse(e.function.arguments):null})})}function Lo(n,e){var r;if(!n||!("tools"in n)||!n.tools)return!1;const t=(r=n.tools)==null?void 0:r.find(s=>{var a;return xr(s)&&((a=s.function)==null?void 0:a.name)===e.function.name});return xr(t)&&(Lt(t)||(t==null?void 0:t.function.strict)||!1)}function ha(n){var e,t;return Kn(n.response_format)?!0:(t=(e=n.tools)==null?void 0:e.some(r=>Lt(r)||r.type==="function"&&r.function.strict===!0))!=null?t:!1}function pa(n){for(const e of n||[])if(e.type!=="function")throw new z(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function Ho(n){for(const e of n!=null?n:[]){if(e.type!=="function")throw new z(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new z(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const hr=n=>(n==null?void 0:n.role)==="assistant",ma=n=>(n==null?void 0:n.role)==="tool";var Pn,nr,sr,Ft,Dt,ar,kt,Ne,St,pr,mr,lt,va;class Gn{constructor(){Pn.add(this),this.controller=new AbortController,nr.set(this,void 0),sr.set(this,()=>{}),Ft.set(this,()=>{}),Dt.set(this,void 0),ar.set(this,()=>{}),kt.set(this,()=>{}),Ne.set(this,{}),St.set(this,!1),pr.set(this,!1),mr.set(this,!1),lt.set(this,!1),j(this,nr,new Promise((e,t)=>{j(this,sr,e,"f"),j(this,Ft,t,"f")})),j(this,Dt,new Promise((e,t)=>{j(this,ar,e,"f"),j(this,kt,t,"f")})),k(this,nr,"f").catch(()=>{}),k(this,Dt,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},k(this,Pn,"m",va).bind(this))},0)}_connected(){this.ended||(k(this,sr,"f").call(this),this._emit("connect"))}get ended(){return k(this,St,"f")}get errored(){return k(this,pr,"f")}get aborted(){return k(this,mr,"f")}abort(){this.controller.abort()}on(e,t){return(k(this,Ne,"f")[e]||(k(this,Ne,"f")[e]=[])).push({listener:t}),this}off(e,t){const r=k(this,Ne,"f")[e];if(!r)return this;const s=r.findIndex(a=>a.listener===t);return s>=0&&r.splice(s,1),this}once(e,t){return(k(this,Ne,"f")[e]||(k(this,Ne,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{j(this,lt,!0),e!=="error"&&this.once("error",r),this.once(e,t)})}done(){return $(this,null,function*(){j(this,lt,!0),yield k(this,Dt,"f")})}_emit(e,...t){if(k(this,St,"f"))return;e==="end"&&(j(this,St,!0),k(this,ar,"f").call(this));const r=k(this,Ne,"f")[e];if(r&&(k(this,Ne,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...t))),e==="abort"){const s=t[0];!k(this,lt,"f")&&!(r!=null&&r.length)&&Promise.reject(s),k(this,Ft,"f").call(this,s),k(this,kt,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=t[0];!k(this,lt,"f")&&!(r!=null&&r.length)&&Promise.reject(s),k(this,Ft,"f").call(this,s),k(this,kt,"f").call(this,s),this._emit("end")}}_emitFinal(){}}nr=new WeakMap,sr=new WeakMap,Ft=new WeakMap,Dt=new WeakMap,ar=new WeakMap,kt=new WeakMap,Ne=new WeakMap,St=new WeakMap,pr=new WeakMap,mr=new WeakMap,lt=new WeakMap,Pn=new WeakSet,va=function(e){if(j(this,pr,!0),e instanceof Error&&e.name==="AbortError"&&(e=new De),e instanceof De)return j(this,mr,!0),this._emit("abort",e);if(e instanceof z)return this._emit("error",e);if(e instanceof Error){const t=new z(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new z(String(e)))};function No(n){return typeof n.parse=="function"}var ve,On,vr,Mn,$n,Tn,ga,_a;const Wo=10;class ya extends Gn{constructor(){super(...arguments),ve.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=(r=e.choices[0])==null?void 0:r.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t){if(this._emit("message",e),ma(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(hr(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}finalChatCompletion(){return $(this,null,function*(){yield this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new z("stream ended without producing a ChatCompletion");return e})}finalContent(){return $(this,null,function*(){return yield this.done(),k(this,ve,"m",On).call(this)})}finalMessage(){return $(this,null,function*(){return yield this.done(),k(this,ve,"m",vr).call(this)})}finalFunctionToolCall(){return $(this,null,function*(){return yield this.done(),k(this,ve,"m",Mn).call(this)})}finalFunctionToolCallResult(){return $(this,null,function*(){return yield this.done(),k(this,ve,"m",$n).call(this)})}totalUsage(){return $(this,null,function*(){return yield this.done(),k(this,ve,"m",Tn).call(this)})}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=k(this,ve,"m",vr).call(this);t&&this._emit("finalMessage",t);const r=k(this,ve,"m",On).call(this);r&&this._emit("finalContent",r);const s=k(this,ve,"m",Mn).call(this);s&&this._emit("finalFunctionToolCall",s);const a=k(this,ve,"m",$n).call(this);a!=null&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some(i=>i.usage)&&this._emit("totalUsage",k(this,ve,"m",Tn).call(this))}_createChatCompletion(e,t,r){return $(this,null,function*(){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),k(this,ve,"m",ga).call(this,t);const a=yield e.chat.completions.create(S(b({},t),{stream:!1}),S(b({},r),{signal:this.controller.signal}));return this._connected(),this._addChatCompletion(Vn(a,t))})}_runChatCompletion(e,t,r){return $(this,null,function*(){for(const s of t.messages)this._addMessage(s,!1);return yield this._createChatCompletion(e,t,r)})}_runTools(e,t,r){return $(this,null,function*(){var f,_,v;const s="tool",d=t,{tool_choice:a="auto",stream:i}=d,c=re(d,["tool_choice","stream"]),p=typeof a!="string"&&a.type==="function"&&((f=a==null?void 0:a.function)==null?void 0:f.name),{maxChatCompletions:o=Wo}=r||{},u=t.tools.map(y=>{if(Lt(y)){if(!y.$callback)throw new z("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:y.$callback,name:y.function.name,description:y.function.description||"",parameters:y.function.parameters,parse:y.$parseRaw,strict:!0}}}return y}),x={};for(const y of u)y.type==="function"&&(x[y.function.name||y.function.function.name]=y.function);const l="tools"in t?u.map(y=>y.type==="function"?{type:"function",function:{name:y.function.name||y.function.function.name,parameters:y.function.parameters,description:y.function.description,strict:y.function.strict}}:y):void 0;for(const y of t.messages)this._addMessage(y,!1);for(let y=0;y<o;++y){const m=(_=(yield this._createChatCompletion(e,S(b({},c),{tool_choice:a,tools:l,messages:[...this.messages]}),r)).choices[0])==null?void 0:_.message;if(!m)throw new z("missing message in ChatCompletion response");if(!((v=m.tool_calls)!=null&&v.length))return;for(const g of m.tool_calls){if(g.type!=="function")continue;const A=g.id,{name:C,arguments:B}=g.function,D=x[C];if(D){if(p&&p!==C){const F=`Invalid tool_call: ${JSON.stringify(C)}. ${JSON.stringify(p)} requested. Please try again`;this._addMessage({role:s,tool_call_id:A,content:F});continue}}else{const F=`Invalid tool_call: ${JSON.stringify(C)}. Available options are: ${Object.keys(x).map(I=>JSON.stringify(I)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:A,content:F});continue}let R;try{R=No(D)?yield D.parse(B):B}catch(F){const I=F instanceof Error?F.message:String(F);this._addMessage({role:s,tool_call_id:A,content:I});continue}const w=yield D.function(R,this),E=k(this,ve,"m",_a).call(this,w);if(this._addMessage({role:s,tool_call_id:A,content:E}),p)return}}})}}ve=new WeakSet,On=function(){var e;return(e=k(this,ve,"m",vr).call(this).content)!=null?e:null},vr=function(){var t,r;let e=this.messages.length;for(;e-- >0;){const s=this.messages[e];if(hr(s))return S(b({},s),{content:(t=s.content)!=null?t:null,refusal:(r=s.refusal)!=null?r:null})}throw new z("stream ended without producing a ChatCompletionMessage with role=assistant")},Mn=function(){var e,t;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(hr(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(t=s.tool_calls.filter(a=>a.type==="function").at(-1))==null?void 0:t.function}},$n=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(ma(t)&&t.content!=null&&typeof t.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(a=>a.type==="function"&&a.id===t.tool_call_id))}))return t.content}},Tn=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},ga=function(e){if(e.n!=null&&e.n>1)throw new z("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},_a=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Qn extends ya{static runTools(e,t,r){const s=new Qn,a=S(b({},r),{headers:S(b({},r==null?void 0:r.headers),{"X-Stainless-Helper-Method":"runTools"})});return s._run(()=>s._runTools(e,t,a)),s}_addMessage(e,t=!0){super._addMessage(e,t),hr(e)&&e.content&&this._emit("content",e.content)}}const ba=1,wa=2,Aa=4,Ca=8,Ea=16,Ba=32,Fa=64,Da=128,ka=256,Sa=Da|ka,Ra=Ea|Ba|Sa|Fa,Ia=ba|wa|Ra,Pa=Aa|Ca,qo=Ia|Pa,ue={STR:ba,NUM:wa,ARR:Aa,OBJ:Ca,NULL:Ea,BOOL:Ba,NAN:Fa,INFINITY:Da,MINUS_INFINITY:ka,INF:Sa,SPECIAL:Ra,ATOM:Ia,COLLECTION:Pa,ALL:qo};class Uo extends Error{}class zo extends Error{}function jo(n,e=ue.ALL){if(typeof n!="string")throw new TypeError(`expecting str, got ${typeof n}`);if(!n.trim())throw new Error(`${n} is empty`);return Xo(n.trim(),e)}const Xo=(n,e)=>{const t=n.length;let r=0;const s=l=>{throw new Uo(`${l} at position ${r}`)},a=l=>{throw new zo(`${l} at position ${r}`)},i=()=>(x(),r>=t&&s("Unexpected end of input"),n[r]==='"'?c():n[r]==="{"?p():n[r]==="["?o():n.substring(r,r+4)==="null"||ue.NULL&e&&t-r<4&&"null".startsWith(n.substring(r))?(r+=4,null):n.substring(r,r+4)==="true"||ue.BOOL&e&&t-r<4&&"true".startsWith(n.substring(r))?(r+=4,!0):n.substring(r,r+5)==="false"||ue.BOOL&e&&t-r<5&&"false".startsWith(n.substring(r))?(r+=5,!1):n.substring(r,r+8)==="Infinity"||ue.INFINITY&e&&t-r<8&&"Infinity".startsWith(n.substring(r))?(r+=8,1/0):n.substring(r,r+9)==="-Infinity"||ue.MINUS_INFINITY&e&&1<t-r&&t-r<9&&"-Infinity".startsWith(n.substring(r))?(r+=9,-1/0):n.substring(r,r+3)==="NaN"||ue.NAN&e&&t-r<3&&"NaN".startsWith(n.substring(r))?(r+=3,NaN):u()),c=()=>{const l=r;let d=!1;for(r++;r<t&&(n[r]!=='"'||d&&n[r-1]==="\\");)d=n[r]==="\\"?!d:!1,r++;if(n.charAt(r)=='"')try{return JSON.parse(n.substring(l,++r-Number(d)))}catch(f){a(String(f))}else if(ue.STR&e)try{return JSON.parse(n.substring(l,r-Number(d))+'"')}catch(f){return JSON.parse(n.substring(l,n.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},p=()=>{r++,x();const l={};try{for(;n[r]!=="}";){if(x(),r>=t&&ue.OBJ&e)return l;const d=c();x(),r++;try{const f=i();Object.defineProperty(l,d,{value:f,writable:!0,enumerable:!0,configurable:!0})}catch(f){if(ue.OBJ&e)return l;throw f}x(),n[r]===","&&r++}}catch(d){if(ue.OBJ&e)return l;s("Expected '}' at end of object")}return r++,l},o=()=>{r++;const l=[];try{for(;n[r]!=="]";)l.push(i()),x(),n[r]===","&&r++}catch(d){if(ue.ARR&e)return l;s("Expected ']' at end of array")}return r++,l},u=()=>{if(r===0){n==="-"&&ue.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(n)}catch(d){if(ue.NUM&e)try{return n[n.length-1]==="."?JSON.parse(n.substring(0,n.lastIndexOf("."))):JSON.parse(n.substring(0,n.lastIndexOf("e")))}catch(f){}a(String(d))}}const l=r;for(n[r]==="-"&&r++;n[r]&&!",]}".includes(n[r]);)r++;r==t&&!(ue.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(n.substring(l,r))}catch(d){n.substring(l,r)==="-"&&ue.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(n.substring(l,n.lastIndexOf("e")))}catch(f){a(String(f))}}},x=()=>{for(;r<t&&` 
\r	`.includes(n[r]);)r++};return i()},z0=n=>jo(n,ue.ALL^ue.NUM);var ce,He,st,Ue,Lr,Jt,Hr,Nr,Wr,Yt,qr,j0;class ft extends ya{constructor(e){super(),ce.add(this),He.set(this,void 0),st.set(this,void 0),Ue.set(this,void 0),j(this,He,e),j(this,st,[])}get currentChatCompletionSnapshot(){return k(this,Ue,"f")}static fromReadableStream(e){const t=new ft(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,r){const s=new ft(t);return s._run(()=>s._runChatCompletion(e,S(b({},t),{stream:!0}),S(b({},r),{headers:S(b({},r==null?void 0:r.headers),{"X-Stainless-Helper-Method":"stream"})}))),s}_createChatCompletion(e,t,r){return $(this,null,function*(){var u;k0(ft.prototype,this,"_createChatCompletion");const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),k(this,ce,"m",Lr).call(this);const a=yield e.chat.completions.create(S(b({},t),{stream:!0}),S(b({},r),{signal:this.controller.signal}));this._connected();try{for(var i=me(a),c,p,o;c=!(p=yield i.next()).done;c=!1){const x=p.value;k(this,ce,"m",Hr).call(this,x)}}catch(p){o=[p]}finally{try{c&&(p=i.return)&&(yield p.call(i))}finally{if(o)throw o[0]}}if((u=a.controller.signal)!=null&&u.aborted)throw new De;return this._addChatCompletion(k(this,ce,"m",Yt).call(this))})}_fromReadableStream(e,t){return $(this,null,function*(){var u;const r=t==null?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),k(this,ce,"m",Lr).call(this),this._connected();const s=Te.fromReadableStream(e,this.controller);let a;try{for(var i=me(s),c,p,o;c=!(p=yield i.next()).done;c=!1){const x=p.value;a&&a!==x.id&&this._addChatCompletion(k(this,ce,"m",Yt).call(this)),k(this,ce,"m",Hr).call(this,x),a=x.id}}catch(p){o=[p]}finally{try{c&&(p=i.return)&&(yield p.call(i))}finally{if(o)throw o[0]}}if((u=s.controller.signal)!=null&&u.aborted)throw new De;return this._addChatCompletion(k(this,ce,"m",Yt).call(this))})}[(He=new WeakMap,st=new WeakMap,Ue=new WeakMap,ce=new WeakSet,Lr=function(){this.ended||j(this,Ue,void 0)},Jt=function(t){let r=k(this,st,"f")[t.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},k(this,st,"f")[t.index]=r,r)},Hr=function(t){var s,a,i,c,p,o,u,x,l,d,f,_,v,y,h,m,g,A,C,B;if(this.ended)return;const r=k(this,ce,"m",j0).call(this,t);this._emit("chunk",t,r);for(const D of t.choices){const R=r.choices[D.index];D.delta.content!=null&&((s=R.message)==null?void 0:s.role)==="assistant"&&((a=R.message)!=null&&a.content)&&(this._emit("content",D.delta.content,R.message.content),this._emit("content.delta",{delta:D.delta.content,snapshot:R.message.content,parsed:R.message.parsed})),D.delta.refusal!=null&&((i=R.message)==null?void 0:i.role)==="assistant"&&((c=R.message)!=null&&c.refusal)&&this._emit("refusal.delta",{delta:D.delta.refusal,snapshot:R.message.refusal}),((p=D.logprobs)==null?void 0:p.content)!=null&&((o=R.message)==null?void 0:o.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(u=D.logprobs)==null?void 0:u.content,snapshot:(l=(x=R.logprobs)==null?void 0:x.content)!=null?l:[]}),((d=D.logprobs)==null?void 0:d.refusal)!=null&&((f=R.message)==null?void 0:f.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(_=D.logprobs)==null?void 0:_.refusal,snapshot:(y=(v=R.logprobs)==null?void 0:v.refusal)!=null?y:[]});const w=k(this,ce,"m",Jt).call(this,R);R.finish_reason&&(k(this,ce,"m",Wr).call(this,R),w.current_tool_call_index!=null&&k(this,ce,"m",Nr).call(this,R,w.current_tool_call_index));for(const E of(h=D.delta.tool_calls)!=null?h:[])w.current_tool_call_index!==E.index&&(k(this,ce,"m",Wr).call(this,R),w.current_tool_call_index!=null&&k(this,ce,"m",Nr).call(this,R,w.current_tool_call_index)),w.current_tool_call_index=E.index;for(const E of(m=D.delta.tool_calls)!=null?m:[]){const F=(g=R.message.tool_calls)==null?void 0:g[E.index];F!=null&&F.type&&((F==null?void 0:F.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(A=F.function)==null?void 0:A.name,index:E.index,arguments:F.function.arguments,parsed_arguments:F.function.parsed_arguments,arguments_delta:(B=(C=E.function)==null?void 0:C.arguments)!=null?B:""}):(F==null||F.type,void 0))}}},Nr=function(t,r){var i,c,p;if(k(this,ce,"m",Jt).call(this,t).done_tool_calls.has(r))return;const a=(i=t.message.tool_calls)==null?void 0:i[r];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const o=(p=(c=k(this,He,"f"))==null?void 0:c.tools)==null?void 0:p.find(u=>xr(u)&&u.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:r,arguments:a.function.arguments,parsed_arguments:Lt(o)?o.$parseRaw(a.function.arguments):o!=null&&o.function.strict?JSON.parse(a.function.arguments):null})}else a.type},Wr=function(t){var s,a;const r=k(this,ce,"m",Jt).call(this,t);if(t.message.content&&!r.content_done){r.content_done=!0;const i=k(this,ce,"m",qr).call(this);this._emit("content.done",{content:t.message.content,parsed:i?i.$parseRaw(t.message.content):null})}t.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:t.message.refusal})),(s=t.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:t.logprobs.content})),(a=t.logprobs)!=null&&a.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:t.logprobs.refusal}))},Yt=function(){if(this.ended)throw new z("stream has ended, this shouldn't happen");const t=k(this,Ue,"f");if(!t)throw new z("request ended without sending any chunks");return j(this,Ue,void 0),j(this,st,[]),Ko(t,k(this,He,"f"))},qr=function(){var r;const t=(r=k(this,He,"f"))==null?void 0:r.response_format;return Kn(t)?t:null},j0=function(t){var l,d,_,v,y,h;var r,s,a,i;let c=k(this,Ue,"f");const u=t,{choices:p}=u,o=re(u,["choices"]);c?Object.assign(c,o):c=j(this,Ue,S(b({},o),{choices:[]}));for(const A of t.choices){const C=A,{delta:B,finish_reason:D,index:R,logprobs:w=null}=C,E=re(C,["delta","finish_reason","index","logprobs"]);let F=c.choices[R];if(F||(F=c.choices[R]=b({finish_reason:D,index:R,message:{},logprobs:w},E)),w)if(!F.logprobs)F.logprobs=Object.assign({},w);else{const x=w,{content:J,refusal:Q}=x,P=re(x,["content","refusal"]);Object.assign(F.logprobs,P),J&&((l=(r=F.logprobs).content)!=null||(r.content=[]),F.logprobs.content.push(...J)),Q&&((d=(s=F.logprobs).refusal)!=null||(s.refusal=[]),F.logprobs.refusal.push(...Q))}if(D&&(F.finish_reason=D,k(this,He,"f")&&ha(k(this,He,"f")))){if(D==="length")throw new Gs;if(D==="content_filter")throw new Qs}if(Object.assign(F,E),!B)continue;const f=B,{content:I,refusal:W,function_call:q,role:X,tool_calls:ee}=f,Z=re(f,["content","refusal","function_call","role","tool_calls"]);if(Object.assign(F.message,Z),W&&(F.message.refusal=(F.message.refusal||"")+W),X&&(F.message.role=X),q&&(F.message.function_call?(q.name&&(F.message.function_call.name=q.name),q.arguments&&((_=(a=F.message.function_call).arguments)!=null||(a.arguments=""),F.message.function_call.arguments+=q.arguments)):F.message.function_call=q),I&&(F.message.content=(F.message.content||"")+I,!F.message.refusal&&k(this,ce,"m",qr).call(this)&&(F.message.parsed=z0(F.message.content))),ee){F.message.tool_calls||(F.message.tool_calls=[]);for(const m of ee){const g=m,{index:J,id:Q,type:P,function:M}=g,L=re(g,["index","id","type","function"]);const O=(v=(i=F.message.tool_calls)[J])!=null?v:i[J]={};Object.assign(O,L),Q&&(O.id=Q),P&&(O.type=P),M&&((h=O.function)!=null||(O.function={name:(y=M.name)!=null?y:"",arguments:""})),M!=null&&M.name&&(O.function.name=M.name),M!=null&&M.arguments&&(O.function.arguments+=M.arguments,Lo(k(this,He,"f"),O)&&(O.function.parsed_arguments=z0(O.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("chunk",s=>{const a=t.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of t)s.resolve(void 0);t.length=0}),this.on("abort",s=>{r=!0;for(const a of t)a.reject(s);t.length=0}),this.on("error",s=>{r=!0;for(const a of t)a.reject(s);t.length=0}),{next:()=>$(this,null,function*(){return e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,i)=>t.push({resolve:a,reject:i})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0})}),return:()=>$(this,null,function*(){return this.abort(),{value:void 0,done:!0}})}}toReadableStream(){return new Te(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Ko(n,e){const o=n,{id:t,choices:r,created:s,model:a,system_fingerprint:i}=o,c=re(o,["id","choices","created","model","system_fingerprint"]),p=b(S(b({},c),{id:t,choices:r.map(_=>{var v=_,{message:u,finish_reason:x,index:l,logprobs:d}=v,f=re(v,["message","finish_reason","index","logprobs"]);var B,D,R;if(!x)throw new z(`missing finish_reason for choice ${l}`);const C=u,{content:y=null,function_call:h,tool_calls:m}=C,g=re(C,["content","function_call","tool_calls"]),A=u.role;if(!A)throw new z(`missing role for choice ${l}`);if(h){const{arguments:w,name:E}=h;if(w==null)throw new z(`missing function_call.arguments for choice ${l}`);if(!E)throw new z(`missing function_call.name for choice ${l}`);return S(b({},f),{message:{content:y,function_call:{arguments:w,name:E},role:A,refusal:(B=u.refusal)!=null?B:null},finish_reason:x,index:l,logprobs:d})}return m?S(b({},f),{index:l,finish_reason:x,logprobs:d,message:S(b({},g),{role:A,content:y,refusal:(D=u.refusal)!=null?D:null,tool_calls:m.map((w,E)=>{const J=w,{function:F,type:I,id:W}=J,q=re(J,["function","type","id"]),Q=F||{},{arguments:X,name:ee}=Q,Z=re(Q,["arguments","name"]);if(W==null)throw new z(`missing choices[${l}].tool_calls[${E}].id
${Zt(n)}`);if(I==null)throw new z(`missing choices[${l}].tool_calls[${E}].type
${Zt(n)}`);if(ee==null)throw new z(`missing choices[${l}].tool_calls[${E}].function.name
${Zt(n)}`);if(X==null)throw new z(`missing choices[${l}].tool_calls[${E}].function.arguments
${Zt(n)}`);return S(b({},q),{id:W,type:I,function:S(b({},Z),{name:ee,arguments:X})})})})}):S(b({},f),{message:S(b({},g),{content:y,role:A,refusal:(R=u.refusal)!=null?R:null}),finish_reason:x,index:l,logprobs:d})}),created:s,model:a,object:"chat.completion"}),i?{system_fingerprint:i}:{});return Mo(p,e)}function Zt(n){return JSON.stringify(n)}class gr extends ft{static fromReadableStream(e){const t=new gr(null);return t._run(()=>t._fromReadableStream(e)),t}static runTools(e,t,r){const s=new gr(t),a=S(b({},r),{headers:S(b({},r==null?void 0:r.headers),{"X-Stainless-Helper-Method":"runTools"})});return s._run(()=>s._runTools(e,t,a)),s}}let Jn=class extends U{constructor(){super(...arguments),this.messages=new xa(this._client)}create(e,t){var r;return this._client.post("/chat/completions",S(b({body:e},t),{stream:(r=e.stream)!=null?r:!1}))}retrieve(e,t){return this._client.get(T`/chat/completions/${e}`,t)}update(e,t,r){return this._client.post(T`/chat/completions/${e}`,b({body:t},r))}list(e={},t){return this._client.getAPIList("/chat/completions",ie,b({query:e},t))}delete(e,t){return this._client.delete(T`/chat/completions/${e}`,t)}parse(e,t){return Ho(e.tools),this._client.chat.completions.create(e,S(b({},t),{headers:S(b({},t==null?void 0:t.headers),{"X-Stainless-Helper-Method":"chat.completions.parse"})}))._thenUnwrap(r=>Vn(r,e))}runTools(e,t){return e.stream?gr.runTools(this._client,e,t):Qn.runTools(this._client,e,t)}stream(e,t){return ft.createChatCompletion(this._client,e,t)}};Jn.Messages=xa;class Yn extends U{constructor(){super(...arguments),this.completions=new Jn(this._client)}}Yn.Completions=Jn;const Oa=Symbol("brand.privateNullableHeaders");function*Vo(n){if(!n)return;if(Oa in n){const{values:r,nulls:s}=n;yield*S0(r.entries());for(const a of s)yield[a,null];return}let e=!1,t;n instanceof Headers?t=n.entries():P0(n)?t=n:(e=!0,t=Object.entries(n!=null?n:{}));for(let r of t){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const a=P0(r[1])?r[1]:[r[1]];let i=!1;for(const c of a)c!==void 0&&(e&&!i&&(i=!0,yield[s,null]),yield[s,c])}}const N=n=>{const e=new Headers,t=new Set;for(const r of n){const s=new Set;for(const[a,i]of Vo(r)){const c=a.toLowerCase();s.has(c)||(e.delete(a),s.add(c)),i===null?(e.delete(a),t.add(c)):(e.append(a,i),t.delete(c))}}return{[Oa]:!0,values:e,nulls:t}};class Ma extends U{create(e,t){return this._client.post("/audio/speech",S(b({body:e},t),{headers:N([{Accept:"application/octet-stream"},t==null?void 0:t.headers]),__binaryResponse:!0}))}}class $a extends U{create(e,t){var r;return this._client.post("/audio/transcriptions",Je(S(b({body:e},t),{stream:(r=e.stream)!=null?r:!1,__metadata:{model:e.model}}),this._client))}}class Ta extends U{create(e,t){return this._client.post("/audio/translations",Je(S(b({body:e},t),{__metadata:{model:e.model}}),this._client))}}class Ht extends U{constructor(){super(...arguments),this.transcriptions=new $a(this._client),this.translations=new Ta(this._client),this.speech=new Ma(this._client)}}Ht.Transcriptions=$a;Ht.Translations=Ta;Ht.Speech=Ma;class La extends U{create(e,t){return this._client.post("/batches",b({body:e},t))}retrieve(e,t){return this._client.get(T`/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/batches",ie,b({query:e},t))}cancel(e,t){return this._client.post(T`/batches/${e}/cancel`,t)}}class Ha extends U{create(e,t){return this._client.post("/assistants",S(b({body:e},t),{headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])}))}retrieve(e,t){return this._client.get(T`/assistants/${e}`,S(b({},t),{headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])}))}update(e,t,r){return this._client.post(T`/assistants/${e}`,S(b({body:t},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}list(e={},t){return this._client.getAPIList("/assistants",ie,S(b({query:e},t),{headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])}))}delete(e,t){return this._client.delete(T`/assistants/${e}`,S(b({},t),{headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])}))}}let Na=class extends U{create(e,t){return this._client.post("/realtime/sessions",S(b({body:e},t),{headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])}))}};class Wa extends U{create(e,t){return this._client.post("/realtime/transcription_sessions",S(b({body:e},t),{headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])}))}}let Cr=class extends U{constructor(){super(...arguments),this.sessions=new Na(this._client),this.transcriptionSessions=new Wa(this._client)}};Cr.Sessions=Na;Cr.TranscriptionSessions=Wa;class qa extends U{create(e,t){return this._client.post("/chatkit/sessions",S(b({body:e},t),{headers:N([{"OpenAI-Beta":"chatkit_beta=v1"},t==null?void 0:t.headers])}))}cancel(e,t){return this._client.post(T`/chatkit/sessions/${e}/cancel`,S(b({},t),{headers:N([{"OpenAI-Beta":"chatkit_beta=v1"},t==null?void 0:t.headers])}))}}let Ua=class extends U{retrieve(e,t){return this._client.get(T`/chatkit/threads/${e}`,S(b({},t),{headers:N([{"OpenAI-Beta":"chatkit_beta=v1"},t==null?void 0:t.headers])}))}list(e={},t){return this._client.getAPIList("/chatkit/threads",fr,S(b({query:e},t),{headers:N([{"OpenAI-Beta":"chatkit_beta=v1"},t==null?void 0:t.headers])}))}delete(e,t){return this._client.delete(T`/chatkit/threads/${e}`,S(b({},t),{headers:N([{"OpenAI-Beta":"chatkit_beta=v1"},t==null?void 0:t.headers])}))}listItems(e,t={},r){return this._client.getAPIList(T`/chatkit/threads/${e}/items`,fr,S(b({query:t},r),{headers:N([{"OpenAI-Beta":"chatkit_beta=v1"},r==null?void 0:r.headers])}))}};class Er extends U{constructor(){super(...arguments),this.sessions=new qa(this._client),this.threads=new Ua(this._client)}}Er.Sessions=qa;Er.Threads=Ua;class za extends U{create(e,t,r){return this._client.post(T`/threads/${e}/messages`,S(b({body:t},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}retrieve(e,t,r){const{thread_id:s}=t;return this._client.get(T`/threads/${s}/messages/${e}`,S(b({},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}update(e,t,r){const i=t,{thread_id:s}=i,a=re(i,["thread_id"]);return this._client.post(T`/threads/${s}/messages/${e}`,S(b({body:a},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}list(e,t={},r){return this._client.getAPIList(T`/threads/${e}/messages`,ie,S(b({query:t},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}delete(e,t,r){const{thread_id:s}=t;return this._client.delete(T`/threads/${s}/messages/${e}`,S(b({},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}}class ja extends U{retrieve(e,t,r){const c=t,{thread_id:s,run_id:a}=c,i=re(c,["thread_id","run_id"]);return this._client.get(T`/threads/${s}/runs/${a}/steps/${e}`,S(b({query:i},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}list(e,t,r){const i=t,{thread_id:s}=i,a=re(i,["thread_id"]);return this._client.getAPIList(T`/threads/${s}/runs/${e}/steps`,ie,S(b({query:a},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}}const Go=n=>{if(typeof Buffer!="undefined"){const e=Buffer.from(n,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(n),t=e.length,r=new Uint8Array(t);for(let s=0;s<t;s++)r[s]=e.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};var Ur={};const at=n=>{var e,t,r,s,a;if(typeof globalThis.process!="undefined")return(t=(e=Ur==null?void 0:Ur[n])==null?void 0:e.trim())!=null?t:void 0;if(typeof globalThis.Deno!="undefined")return(a=(s=(r=globalThis.Deno.env)==null?void 0:r.get)==null?void 0:s.call(r,n))==null?void 0:a.trim()};var he,Ge,Ln,$e,ir,Pe,Qe,dt,Ve,_r,Ee,or,cr,Mt,Rt,It,X0,K0,V0,G0,Q0,J0,Y0;class $t extends Gn{constructor(){super(...arguments),he.add(this),Ln.set(this,[]),$e.set(this,{}),ir.set(this,{}),Pe.set(this,void 0),Qe.set(this,void 0),dt.set(this,void 0),Ve.set(this,void 0),_r.set(this,void 0),Ee.set(this,void 0),or.set(this,void 0),cr.set(this,void 0),Mt.set(this,void 0)}[(Ln=new WeakMap,$e=new WeakMap,ir=new WeakMap,Pe=new WeakMap,Qe=new WeakMap,dt=new WeakMap,Ve=new WeakMap,_r=new WeakMap,Ee=new WeakMap,or=new WeakMap,cr=new WeakMap,Mt=new WeakMap,he=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("event",s=>{const a=t.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of t)s.resolve(void 0);t.length=0}),this.on("abort",s=>{r=!0;for(const a of t)a.reject(s);t.length=0}),this.on("error",s=>{r=!0;for(const a of t)a.reject(s);t.length=0}),{next:()=>$(this,null,function*(){return e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,i)=>t.push({resolve:a,reject:i})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0})}),return:()=>$(this,null,function*(){return this.abort(),{value:void 0,done:!0}})}}static fromReadableStream(e){const t=new Ge;return t._run(()=>t._fromReadableStream(e)),t}_fromReadableStream(e,t){return $(this,null,function*(){var o;const r=t==null?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=Te.fromReadableStream(e,this.controller);try{for(var a=me(s),i,c,p;i=!(c=yield a.next()).done;i=!1){const u=c.value;k(this,he,"m",Rt).call(this,u)}}catch(c){p=[c]}finally{try{i&&(c=a.return)&&(yield c.call(a))}finally{if(p)throw p[0]}}if((o=s.controller.signal)!=null&&o.aborted)throw new De;return this._addRun(k(this,he,"m",It).call(this))})}toReadableStream(){return new Te(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,r,s){const a=new Ge;return a._run(()=>a._runToolAssistantStream(e,t,r,S(b({},s),{headers:S(b({},s==null?void 0:s.headers),{"X-Stainless-Helper-Method":"stream"})}))),a}_createToolAssistantStream(e,t,r,s){return $(this,null,function*(){var l;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const i=S(b({},r),{stream:!0}),c=yield e.submitToolOutputs(t,i,S(b({},s),{signal:this.controller.signal}));this._connected();try{for(var p=me(c),o,u,x;o=!(u=yield p.next()).done;o=!1){const d=u.value;k(this,he,"m",Rt).call(this,d)}}catch(u){x=[u]}finally{try{o&&(u=p.return)&&(yield u.call(p))}finally{if(x)throw x[0]}}if((l=c.controller.signal)!=null&&l.aborted)throw new De;return this._addRun(k(this,he,"m",It).call(this))})}static createThreadAssistantStream(e,t,r){const s=new Ge;return s._run(()=>s._threadAssistantStream(e,t,S(b({},r),{headers:S(b({},r==null?void 0:r.headers),{"X-Stainless-Helper-Method":"stream"})}))),s}static createAssistantStream(e,t,r,s){const a=new Ge;return a._run(()=>a._runAssistantStream(e,t,r,S(b({},s),{headers:S(b({},s==null?void 0:s.headers),{"X-Stainless-Helper-Method":"stream"})}))),a}currentEvent(){return k(this,or,"f")}currentRun(){return k(this,cr,"f")}currentMessageSnapshot(){return k(this,Pe,"f")}currentRunStepSnapshot(){return k(this,Mt,"f")}finalRunSteps(){return $(this,null,function*(){return yield this.done(),Object.values(k(this,$e,"f"))})}finalMessages(){return $(this,null,function*(){return yield this.done(),Object.values(k(this,ir,"f"))})}finalRun(){return $(this,null,function*(){if(yield this.done(),!k(this,Qe,"f"))throw Error("Final run was not received.");return k(this,Qe,"f")})}_createThreadAssistantStream(e,t,r){return $(this,null,function*(){var x;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a=S(b({},t),{stream:!0}),i=yield e.createAndRun(a,S(b({},r),{signal:this.controller.signal}));this._connected();try{for(var c=me(i),p,o,u;p=!(o=yield c.next()).done;p=!1){const l=o.value;k(this,he,"m",Rt).call(this,l)}}catch(o){u=[o]}finally{try{p&&(o=c.return)&&(yield o.call(c))}finally{if(u)throw u[0]}}if((x=i.controller.signal)!=null&&x.aborted)throw new De;return this._addRun(k(this,he,"m",It).call(this))})}_createAssistantStream(e,t,r,s){return $(this,null,function*(){var l;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const i=S(b({},r),{stream:!0}),c=yield e.create(t,i,S(b({},s),{signal:this.controller.signal}));this._connected();try{for(var p=me(c),o,u,x;o=!(u=yield p.next()).done;o=!1){const d=u.value;k(this,he,"m",Rt).call(this,d)}}catch(u){x=[u]}finally{try{o&&(u=p.return)&&(yield u.call(p))}finally{if(x)throw x[0]}}if((l=c.controller.signal)!=null&&l.aborted)throw new De;return this._addRun(k(this,he,"m",It).call(this))})}static accumulateDelta(e,t){for(const[r,s]of Object.entries(t)){if(!e.hasOwnProperty(r)){e[r]=s;continue}let a=e[r];if(a==null){e[r]=s;continue}if(r==="index"||r==="type"){e[r]=s;continue}if(typeof a=="string"&&typeof s=="string")a+=s;else if(typeof a=="number"&&typeof s=="number")a+=s;else if(Mr(a)&&Mr(s))a=this.accumulateDelta(a,s);else if(Array.isArray(a)&&Array.isArray(s)){if(a.every(i=>typeof i=="string"||typeof i=="number")){a.push(...s);continue}for(const i of s){if(!Mr(i))throw new Error(`Expected array delta entry to be an object but got: ${i}`);const c=i.index;if(c==null)throw console.error(i),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);const p=a[c];p==null?a.push(i):a[c]=this.accumulateDelta(p,i)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${a}`);e[r]=a}return e}_addRun(e){return e}_threadAssistantStream(e,t,r){return $(this,null,function*(){return yield this._createThreadAssistantStream(t,e,r)})}_runAssistantStream(e,t,r,s){return $(this,null,function*(){return yield this._createAssistantStream(t,e,r,s)})}_runToolAssistantStream(e,t,r,s){return $(this,null,function*(){return yield this._createToolAssistantStream(t,e,r,s)})}}Ge=$t,Rt=function(e){if(!this.ended)switch(j(this,or,e),k(this,he,"m",V0).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":k(this,he,"m",Y0).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":k(this,he,"m",K0).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":k(this,he,"m",X0).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},It=function(){if(this.ended)throw new z("stream has ended, this shouldn't happen");if(!k(this,Qe,"f"))throw Error("Final run has not been received");return k(this,Qe,"f")},X0=function(e){const[t,r]=k(this,he,"m",Q0).call(this,e,k(this,Pe,"f"));j(this,Pe,t),k(this,ir,"f")[t.id]=t;for(const s of r){const a=t.content[s.index];(a==null?void 0:a.type)=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let a=s.text,i=t.content[s.index];if(i&&i.type=="text")this._emit("textDelta",a,i.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=k(this,dt,"f")){if(k(this,Ve,"f"))switch(k(this,Ve,"f").type){case"text":this._emit("textDone",k(this,Ve,"f").text,k(this,Pe,"f"));break;case"image_file":this._emit("imageFileDone",k(this,Ve,"f").image_file,k(this,Pe,"f"));break}j(this,dt,s.index)}j(this,Ve,t.content[s.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(k(this,dt,"f")!==void 0){const s=e.data.content[k(this,dt,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,k(this,Pe,"f"));break;case"text":this._emit("textDone",s.text,k(this,Pe,"f"));break}}k(this,Pe,"f")&&this._emit("messageDone",e.data),j(this,Pe,void 0)}},K0=function(e){const t=k(this,he,"m",G0).call(this,e);switch(j(this,Mt,t),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&t.step_details.type=="tool_calls")for(const a of r.step_details.tool_calls)a.index==k(this,_r,"f")?this._emit("toolCallDelta",a,t.step_details.tool_calls[a.index]):(k(this,Ee,"f")&&this._emit("toolCallDone",k(this,Ee,"f")),j(this,_r,a.index),j(this,Ee,t.step_details.tool_calls[a.index]),k(this,Ee,"f")&&this._emit("toolCallCreated",k(this,Ee,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":j(this,Mt,void 0),e.data.step_details.type=="tool_calls"&&k(this,Ee,"f")&&(this._emit("toolCallDone",k(this,Ee,"f")),j(this,Ee,void 0)),this._emit("runStepDone",e.data,t);break}},V0=function(e){k(this,Ln,"f").push(e),this._emit("event",e)},G0=function(e){switch(e.event){case"thread.run.step.created":return k(this,$e,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=k(this,$e,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const s=Ge.accumulateDelta(t,r.delta);k(this,$e,"f")[e.data.id]=s}return k(this,$e,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":k(this,$e,"f")[e.data.id]=e.data;break}if(k(this,$e,"f")[e.data.id])return k(this,$e,"f")[e.data.id];throw new Error("No snapshot available")},Q0=function(e,t){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const a of s.delta.content)if(a.index in t.content){let i=t.content[a.index];t.content[a.index]=k(this,he,"m",J0).call(this,a,i)}else t.content[a.index]=a,r.push(a);return[t,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},J0=function(e,t){return Ge.accumulateDelta(t,e)},Y0=function(e){switch(j(this,cr,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":j(this,Qe,e.data),k(this,Ee,"f")&&(this._emit("toolCallDone",k(this,Ee,"f")),j(this,Ee,void 0));break}};let Zn=class extends U{constructor(){super(...arguments),this.steps=new ja(this._client)}create(e,t,r){var c;const i=t,{include:s}=i,a=re(i,["include"]);return this._client.post(T`/threads/${e}/runs`,S(b({query:{include:s},body:a},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:(c=t.stream)!=null?c:!1}))}retrieve(e,t,r){const{thread_id:s}=t;return this._client.get(T`/threads/${s}/runs/${e}`,S(b({},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}update(e,t,r){const i=t,{thread_id:s}=i,a=re(i,["thread_id"]);return this._client.post(T`/threads/${s}/runs/${e}`,S(b({body:a},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}list(e,t={},r){return this._client.getAPIList(T`/threads/${e}/runs`,ie,S(b({query:t},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}cancel(e,t,r){const{thread_id:s}=t;return this._client.post(T`/threads/${s}/runs/${e}/cancel`,S(b({},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}createAndPoll(e,t,r){return $(this,null,function*(){const s=yield this.create(e,t,r);return yield this.poll(s.id,{thread_id:e},r)})}createAndStream(e,t,r){return $t.createAssistantStream(e,this._client.beta.threads.runs,t,r)}poll(e,t,r){return $(this,null,function*(){var a,i;const s=N([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":(i=(a=r==null?void 0:r.pollIntervalMs)==null?void 0:a.toString())!=null?i:void 0}]);for(;;){const{data:c,response:p}=yield this.retrieve(e,t,S(b({},r),{headers:b(b({},r==null?void 0:r.headers),s)})).withResponse();switch(c.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const u=p.headers.get("openai-poll-after-ms");if(u){const x=parseInt(u);isNaN(x)||(o=x)}}yield Tt(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return c}}})}stream(e,t,r){return $t.createAssistantStream(e,this._client.beta.threads.runs,t,r)}submitToolOutputs(e,t,r){var c;const i=t,{thread_id:s}=i,a=re(i,["thread_id"]);return this._client.post(T`/threads/${s}/runs/${e}/submit_tool_outputs`,S(b({body:a},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:(c=t.stream)!=null?c:!1}))}submitToolOutputsAndPoll(e,t,r){return $(this,null,function*(){const s=yield this.submitToolOutputs(e,t,r);return yield this.poll(s.id,t,r)})}submitToolOutputsStream(e,t,r){return $t.createToolAssistantStream(e,this._client.beta.threads.runs,t,r)}};Zn.Steps=ja;class Br extends U{constructor(){super(...arguments),this.runs=new Zn(this._client),this.messages=new za(this._client)}create(e={},t){return this._client.post("/threads",S(b({body:e},t),{headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])}))}retrieve(e,t){return this._client.get(T`/threads/${e}`,S(b({},t),{headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])}))}update(e,t,r){return this._client.post(T`/threads/${e}`,S(b({body:t},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}delete(e,t){return this._client.delete(T`/threads/${e}`,S(b({},t),{headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])}))}createAndRun(e,t){var r;return this._client.post("/threads/runs",S(b({body:e},t),{headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers]),stream:(r=e.stream)!=null?r:!1}))}createAndRunPoll(e,t){return $(this,null,function*(){const r=yield this.createAndRun(e,t);return yield this.runs.poll(r.id,{thread_id:r.thread_id},t)})}createAndRunStream(e,t){return $t.createThreadAssistantStream(e,this._client.beta.threads,t)}}Br.Runs=Zn;Br.Messages=za;class xt extends U{constructor(){super(...arguments),this.realtime=new Cr(this._client),this.chatkit=new Er(this._client),this.assistants=new Ha(this._client),this.threads=new Br(this._client)}}xt.Realtime=Cr;xt.ChatKit=Er;xt.Assistants=Ha;xt.Threads=Br;class Xa extends U{create(e,t){var r;return this._client.post("/completions",S(b({body:e},t),{stream:(r=e.stream)!=null?r:!1}))}}class Ka extends U{retrieve(e,t,r){const{container_id:s}=t;return this._client.get(T`/containers/${s}/files/${e}/content`,S(b({},r),{headers:N([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0}))}}let e0=class extends U{constructor(){super(...arguments),this.content=new Ka(this._client)}create(e,t,r){return this._client.post(T`/containers/${e}/files`,Je(b({body:t},r),this._client))}retrieve(e,t,r){const{container_id:s}=t;return this._client.get(T`/containers/${s}/files/${e}`,r)}list(e,t={},r){return this._client.getAPIList(T`/containers/${e}/files`,ie,b({query:t},r))}delete(e,t,r){const{container_id:s}=t;return this._client.delete(T`/containers/${s}/files/${e}`,S(b({},r),{headers:N([{Accept:"*/*"},r==null?void 0:r.headers])}))}};e0.Content=Ka;class t0 extends U{constructor(){super(...arguments),this.files=new e0(this._client)}create(e,t){return this._client.post("/containers",b({body:e},t))}retrieve(e,t){return this._client.get(T`/containers/${e}`,t)}list(e={},t){return this._client.getAPIList("/containers",ie,b({query:e},t))}delete(e,t){return this._client.delete(T`/containers/${e}`,S(b({},t),{headers:N([{Accept:"*/*"},t==null?void 0:t.headers])}))}}t0.Files=e0;class Va extends U{create(e,t,r){const i=t,{include:s}=i,a=re(i,["include"]);return this._client.post(T`/conversations/${e}/items`,b({query:{include:s},body:a},r))}retrieve(e,t,r){const i=t,{conversation_id:s}=i,a=re(i,["conversation_id"]);return this._client.get(T`/conversations/${s}/items/${e}`,b({query:a},r))}list(e,t={},r){return this._client.getAPIList(T`/conversations/${e}/items`,fr,b({query:t},r))}delete(e,t,r){const{conversation_id:s}=t;return this._client.delete(T`/conversations/${s}/items/${e}`,r)}}class r0 extends U{constructor(){super(...arguments),this.items=new Va(this._client)}create(e={},t){return this._client.post("/conversations",b({body:e},t))}retrieve(e,t){return this._client.get(T`/conversations/${e}`,t)}update(e,t,r){return this._client.post(T`/conversations/${e}`,b({body:t},r))}delete(e,t){return this._client.delete(T`/conversations/${e}`,t)}}r0.Items=Va;class Ga extends U{create(e,t){const r=!!e.encoding_format;let s=r?e.encoding_format:"base64";r&&xe(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",b({body:S(b({},e),{encoding_format:s})},t));return r?a:(xe(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap(i=>(i&&i.data&&i.data.forEach(c=>{const p=c.embedding;c.embedding=Go(p)}),i)))}}class Qa extends U{retrieve(e,t,r){const{eval_id:s,run_id:a}=t;return this._client.get(T`/evals/${s}/runs/${a}/output_items/${e}`,r)}list(e,t,r){const i=t,{eval_id:s}=i,a=re(i,["eval_id"]);return this._client.getAPIList(T`/evals/${s}/runs/${e}/output_items`,ie,b({query:a},r))}}class n0 extends U{constructor(){super(...arguments),this.outputItems=new Qa(this._client)}create(e,t,r){return this._client.post(T`/evals/${e}/runs`,b({body:t},r))}retrieve(e,t,r){const{eval_id:s}=t;return this._client.get(T`/evals/${s}/runs/${e}`,r)}list(e,t={},r){return this._client.getAPIList(T`/evals/${e}/runs`,ie,b({query:t},r))}delete(e,t,r){const{eval_id:s}=t;return this._client.delete(T`/evals/${s}/runs/${e}`,r)}cancel(e,t,r){const{eval_id:s}=t;return this._client.post(T`/evals/${s}/runs/${e}`,r)}}n0.OutputItems=Qa;class s0 extends U{constructor(){super(...arguments),this.runs=new n0(this._client)}create(e,t){return this._client.post("/evals",b({body:e},t))}retrieve(e,t){return this._client.get(T`/evals/${e}`,t)}update(e,t,r){return this._client.post(T`/evals/${e}`,b({body:t},r))}list(e={},t){return this._client.getAPIList("/evals",ie,b({query:e},t))}delete(e,t){return this._client.delete(T`/evals/${e}`,t)}}s0.Runs=n0;let Ja=class extends U{create(e,t){return this._client.post("/files",Je(b({body:e},t),this._client))}retrieve(e,t){return this._client.get(T`/files/${e}`,t)}list(e={},t){return this._client.getAPIList("/files",ie,b({query:e},t))}delete(e,t){return this._client.delete(T`/files/${e}`,t)}content(e,t){return this._client.get(T`/files/${e}/content`,S(b({},t),{headers:N([{Accept:"application/binary"},t==null?void 0:t.headers]),__binaryResponse:!0}))}waitForProcessing(s){return $(this,arguments,function*(e,{pollInterval:t=5e3,maxWait:r=30*60*1e3}={}){const a=new Set(["processed","error","deleted"]),i=Date.now();let c=yield this.retrieve(e);for(;!c.status||!a.has(c.status);)if(yield Tt(t),c=yield this.retrieve(e),Date.now()-i>r)throw new Un({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return c})}};class Ya extends U{}let Za=class extends U{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",b({body:e},t))}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",b({body:e},t))}};class a0 extends U{constructor(){super(...arguments),this.graders=new Za(this._client)}}a0.Graders=Za;class ei extends U{create(e,t,r){return this._client.getAPIList(T`/fine_tuning/checkpoints/${e}/permissions`,Ar,b({body:t,method:"post"},r))}retrieve(e,t={},r){return this._client.get(T`/fine_tuning/checkpoints/${e}/permissions`,b({query:t},r))}delete(e,t,r){const{fine_tuned_model_checkpoint:s}=t;return this._client.delete(T`/fine_tuning/checkpoints/${s}/permissions/${e}`,r)}}let i0=class extends U{constructor(){super(...arguments),this.permissions=new ei(this._client)}};i0.Permissions=ei;class ti extends U{list(e,t={},r){return this._client.getAPIList(T`/fine_tuning/jobs/${e}/checkpoints`,ie,b({query:t},r))}}class o0 extends U{constructor(){super(...arguments),this.checkpoints=new ti(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",b({body:e},t))}retrieve(e,t){return this._client.get(T`/fine_tuning/jobs/${e}`,t)}list(e={},t){return this._client.getAPIList("/fine_tuning/jobs",ie,b({query:e},t))}cancel(e,t){return this._client.post(T`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},r){return this._client.getAPIList(T`/fine_tuning/jobs/${e}/events`,ie,b({query:t},r))}pause(e,t){return this._client.post(T`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(T`/fine_tuning/jobs/${e}/resume`,t)}}o0.Checkpoints=ti;class ht extends U{constructor(){super(...arguments),this.methods=new Ya(this._client),this.jobs=new o0(this._client),this.checkpoints=new i0(this._client),this.alpha=new a0(this._client)}}ht.Methods=Ya;ht.Jobs=o0;ht.Checkpoints=i0;ht.Alpha=a0;class ri extends U{}class c0 extends U{constructor(){super(...arguments),this.graderModels=new ri(this._client)}}c0.GraderModels=ri;class ni extends U{createVariation(e,t){return this._client.post("/images/variations",Je(b({body:e},t),this._client))}edit(e,t){var r;return this._client.post("/images/edits",Je(S(b({body:e},t),{stream:(r=e.stream)!=null?r:!1}),this._client))}generate(e,t){var r;return this._client.post("/images/generations",S(b({body:e},t),{stream:(r=e.stream)!=null?r:!1}))}}class si extends U{retrieve(e,t){return this._client.get(T`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",Ar,e)}delete(e,t){return this._client.delete(T`/models/${e}`,t)}}class ai extends U{create(e,t){return this._client.post("/moderations",b({body:e},t))}}class ii extends U{accept(e,t,r){return this._client.post(T`/realtime/calls/${e}/accept`,S(b({body:t},r),{headers:N([{Accept:"*/*"},r==null?void 0:r.headers])}))}hangup(e,t){return this._client.post(T`/realtime/calls/${e}/hangup`,S(b({},t),{headers:N([{Accept:"*/*"},t==null?void 0:t.headers])}))}refer(e,t,r){return this._client.post(T`/realtime/calls/${e}/refer`,S(b({body:t},r),{headers:N([{Accept:"*/*"},r==null?void 0:r.headers])}))}reject(e,t={},r){return this._client.post(T`/realtime/calls/${e}/reject`,S(b({body:t},r),{headers:N([{Accept:"*/*"},r==null?void 0:r.headers])}))}}class oi extends U{create(e,t){return this._client.post("/realtime/client_secrets",b({body:e},t))}}class Fr extends U{constructor(){super(...arguments),this.clientSecrets=new oi(this._client),this.calls=new ii(this._client)}}Fr.ClientSecrets=oi;Fr.Calls=ii;function Qo(n,e){return!e||!Yo(e)?S(b({},n),{output_parsed:null,output:n.output.map(t=>t.type==="function_call"?S(b({},t),{parsed_arguments:null}):t.type==="message"?S(b({},t),{content:t.content.map(r=>S(b({},r),{parsed:null}))}):t)}):ci(n,e)}function ci(n,e){const t=n.output.map(s=>{if(s.type==="function_call")return S(b({},s),{parsed_arguments:tc(e,s)});if(s.type==="message"){const a=s.content.map(i=>i.type==="output_text"?S(b({},i),{parsed:Jo(e,i.text)}):i);return S(b({},s),{content:a})}return s}),r=Object.assign({},n,{output:t});return Object.getOwnPropertyDescriptor(n,"output_text")||Hn(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const a of s.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),r}function Jo(n,e){var t,r,s,a;return((r=(t=n.text)==null?void 0:t.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=n.text)==null?void 0:s.format)?((a=n.text)==null?void 0:a.format).$parseRaw(e):JSON.parse(e)}function Yo(n){var e;return!!Kn((e=n.text)==null?void 0:e.format)}function Zo(n){return(n==null?void 0:n.$brand)==="auto-parseable-tool"}function ec(n,e){return n.find(t=>t.type==="function"&&t.name===e)}function tc(n,e){var r;const t=ec((r=n.tools)!=null?r:[],e.name);return S(b(b({},e),e),{parsed_arguments:Zo(t)?t.$parseRaw(e.arguments):t!=null&&t.strict?JSON.parse(e.arguments):null})}function Hn(n){const e=[];for(const t of n.output)if(t.type==="message")for(const r of t.content)r.type==="output_text"&&e.push(r.text);n.output_text=e.join("")}var it,er,ze,tr,Z0,es,ts,rs;class l0 extends Gn{constructor(e){super(),it.add(this),er.set(this,void 0),ze.set(this,void 0),tr.set(this,void 0),j(this,er,e)}static createResponse(e,t,r){const s=new l0(t);return s._run(()=>s._createOrRetrieveResponse(e,t,S(b({},r),{headers:S(b({},r==null?void 0:r.headers),{"X-Stainless-Helper-Method":"stream"})}))),s}_createOrRetrieveResponse(e,t,r){return $(this,null,function*(){var c,l;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),k(this,it,"m",Z0).call(this);let a,i=null;"response_id"in t?(a=yield e.responses.retrieve(t.response_id,{stream:!0},S(b({},r),{signal:this.controller.signal,stream:!0})),i=(c=t.starting_after)!=null?c:null):a=yield e.responses.create(S(b({},t),{stream:!0}),S(b({},r),{signal:this.controller.signal})),this._connected();try{for(var p=me(a),o,u,x;o=!(u=yield p.next()).done;o=!1){const d=u.value;k(this,it,"m",es).call(this,d,i)}}catch(u){x=[u]}finally{try{o&&(u=p.return)&&(yield u.call(p))}finally{if(x)throw x[0]}}if((l=a.controller.signal)!=null&&l.aborted)throw new De;return k(this,it,"m",ts).call(this)})}[(er=new WeakMap,ze=new WeakMap,tr=new WeakMap,it=new WeakSet,Z0=function(){this.ended||j(this,ze,void 0)},es=function(t,r){if(this.ended)return;const s=(i,c)=>{(r==null||c.sequence_number>r)&&this._emit(i,c)},a=k(this,it,"m",rs).call(this,t);switch(s("event",t),t.type){case"response.output_text.delta":{const i=a.output[t.output_index];if(!i)throw new z(`missing output at index ${t.output_index}`);if(i.type==="message"){const c=i.content[t.content_index];if(!c)throw new z(`missing content at index ${t.content_index}`);if(c.type!=="output_text")throw new z(`expected content to be 'output_text', got ${c.type}`);s("response.output_text.delta",S(b({},t),{snapshot:c.text}))}break}case"response.function_call_arguments.delta":{const i=a.output[t.output_index];if(!i)throw new z(`missing output at index ${t.output_index}`);i.type==="function_call"&&s("response.function_call_arguments.delta",S(b({},t),{snapshot:i.arguments}));break}default:s(t.type,t);break}},ts=function(){if(this.ended)throw new z("stream has ended, this shouldn't happen");const t=k(this,ze,"f");if(!t)throw new z("request ended without sending any events");j(this,ze,void 0);const r=rc(t,k(this,er,"f"));return j(this,tr,r),r},rs=function(t){var s;let r=k(this,ze,"f");if(!r){if(t.type!=="response.created")throw new z(`When snapshot hasn't been set yet, expected 'response.created' event, got ${t.type}`);return r=j(this,ze,t.response),r}switch(t.type){case"response.output_item.added":{r.output.push(t.item);break}case"response.content_part.added":{const a=r.output[t.output_index];if(!a)throw new z(`missing output at index ${t.output_index}`);const i=a.type,c=t.part;i==="message"&&c.type!=="reasoning_text"?a.content.push(c):i==="reasoning"&&c.type==="reasoning_text"&&(a.content||(a.content=[]),a.content.push(c));break}case"response.output_text.delta":{const a=r.output[t.output_index];if(!a)throw new z(`missing output at index ${t.output_index}`);if(a.type==="message"){const i=a.content[t.content_index];if(!i)throw new z(`missing content at index ${t.content_index}`);if(i.type!=="output_text")throw new z(`expected content to be 'output_text', got ${i.type}`);i.text+=t.delta}break}case"response.function_call_arguments.delta":{const a=r.output[t.output_index];if(!a)throw new z(`missing output at index ${t.output_index}`);a.type==="function_call"&&(a.arguments+=t.delta);break}case"response.reasoning_text.delta":{const a=r.output[t.output_index];if(!a)throw new z(`missing output at index ${t.output_index}`);if(a.type==="reasoning"){const i=(s=a.content)==null?void 0:s[t.content_index];if(!i)throw new z(`missing content at index ${t.content_index}`);if(i.type!=="reasoning_text")throw new z(`expected content to be 'reasoning_text', got ${i.type}`);i.text+=t.delta}break}case"response.completed":{j(this,ze,t.response);break}}return r},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("event",s=>{const a=t.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of t)s.resolve(void 0);t.length=0}),this.on("abort",s=>{r=!0;for(const a of t)a.reject(s);t.length=0}),this.on("error",s=>{r=!0;for(const a of t)a.reject(s);t.length=0}),{next:()=>$(this,null,function*(){return e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,i)=>t.push({resolve:a,reject:i})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0})}),return:()=>$(this,null,function*(){return this.abort(),{value:void 0,done:!0}})}}finalResponse(){return $(this,null,function*(){yield this.done();const e=k(this,tr,"f");if(!e)throw new z("stream ended without producing a ChatCompletion");return e})}}function rc(n,e){return Qo(n,e)}class li extends U{list(e,t={},r){return this._client.getAPIList(T`/responses/${e}/input_items`,ie,b({query:t},r))}}class ui extends U{count(e={},t){return this._client.post("/responses/input_tokens",b({body:e},t))}}class Dr extends U{constructor(){super(...arguments),this.inputItems=new li(this._client),this.inputTokens=new ui(this._client)}create(e,t){var r;return this._client.post("/responses",S(b({body:e},t),{stream:(r=e.stream)!=null?r:!1}))._thenUnwrap(s=>("object"in s&&s.object==="response"&&Hn(s),s))}retrieve(e,t={},r){var s;return this._client.get(T`/responses/${e}`,S(b({query:t},r),{stream:(s=t==null?void 0:t.stream)!=null?s:!1}))._thenUnwrap(a=>("object"in a&&a.object==="response"&&Hn(a),a))}delete(e,t){return this._client.delete(T`/responses/${e}`,S(b({},t),{headers:N([{Accept:"*/*"},t==null?void 0:t.headers])}))}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap(r=>ci(r,e))}stream(e,t){return l0.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(T`/responses/${e}/cancel`,t)}}Dr.InputItems=li;Dr.InputTokens=ui;class di extends U{create(e,t,r){return this._client.post(T`/uploads/${e}/parts`,Je(b({body:t},r),this._client))}}class u0 extends U{constructor(){super(...arguments),this.parts=new di(this._client)}create(e,t){return this._client.post("/uploads",b({body:e},t))}cancel(e,t){return this._client.post(T`/uploads/${e}/cancel`,t)}complete(e,t,r){return this._client.post(T`/uploads/${e}/complete`,b({body:t},r))}}u0.Parts=di;const nc=n=>$(void 0,null,function*(){const e=yield Promise.allSettled(n),t=e.filter(s=>s.status==="rejected");if(t.length){for(const s of t)console.error(s.reason);throw new Error(`${t.length} promise(s) failed - see the above errors`)}const r=[];for(const s of e)s.status==="fulfilled"&&r.push(s.value);return r});class fi extends U{create(e,t,r){return this._client.post(T`/vector_stores/${e}/file_batches`,S(b({body:t},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}retrieve(e,t,r){const{vector_store_id:s}=t;return this._client.get(T`/vector_stores/${s}/file_batches/${e}`,S(b({},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}cancel(e,t,r){const{vector_store_id:s}=t;return this._client.post(T`/vector_stores/${s}/file_batches/${e}/cancel`,S(b({},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}createAndPoll(e,t,r){return $(this,null,function*(){const s=yield this.create(e,t);return yield this.poll(e,s.id,r)})}listFiles(e,t,r){const i=t,{vector_store_id:s}=i,a=re(i,["vector_store_id"]);return this._client.getAPIList(T`/vector_stores/${s}/file_batches/${e}/files`,ie,S(b({query:a},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}poll(e,t,r){return $(this,null,function*(){var a,i;const s=N([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":(i=(a=r==null?void 0:r.pollIntervalMs)==null?void 0:a.toString())!=null?i:void 0}]);for(;;){const{data:c,response:p}=yield this.retrieve(t,{vector_store_id:e},S(b({},r),{headers:s})).withResponse();switch(c.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const u=p.headers.get("openai-poll-after-ms");if(u){const x=parseInt(u);isNaN(x)||(o=x)}}yield Tt(o);break;case"failed":case"cancelled":case"completed":return c}}})}uploadAndPoll(a,i,c){return $(this,arguments,function*(e,{files:t,fileIds:r=[]},s){var _;if(t==null||t.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const p=(_=s==null?void 0:s.maxConcurrency)!=null?_:5,o=Math.min(p,t.length),u=this._client,x=t.values(),l=[...r];function d(v){return $(this,null,function*(){for(let y of v){const h=yield u.files.create({file:y,purpose:"assistants"},s);l.push(h.id)}})}const f=Array(o).fill(x).map(d);return yield nc(f),yield this.createAndPoll(e,{file_ids:l})})}}class xi extends U{create(e,t,r){return this._client.post(T`/vector_stores/${e}/files`,S(b({body:t},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}retrieve(e,t,r){const{vector_store_id:s}=t;return this._client.get(T`/vector_stores/${s}/files/${e}`,S(b({},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}update(e,t,r){const i=t,{vector_store_id:s}=i,a=re(i,["vector_store_id"]);return this._client.post(T`/vector_stores/${s}/files/${e}`,S(b({body:a},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}list(e,t={},r){return this._client.getAPIList(T`/vector_stores/${e}/files`,ie,S(b({query:t},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}delete(e,t,r){const{vector_store_id:s}=t;return this._client.delete(T`/vector_stores/${s}/files/${e}`,S(b({},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}createAndPoll(e,t,r){return $(this,null,function*(){const s=yield this.create(e,t,r);return yield this.poll(e,s.id,r)})}poll(e,t,r){return $(this,null,function*(){var a,i;const s=N([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":(i=(a=r==null?void 0:r.pollIntervalMs)==null?void 0:a.toString())!=null?i:void 0}]);for(;;){const c=yield this.retrieve(t,{vector_store_id:e},S(b({},r),{headers:s})).withResponse(),p=c.data;switch(p.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const u=c.response.headers.get("openai-poll-after-ms");if(u){const x=parseInt(u);isNaN(x)||(o=x)}}yield Tt(o);break;case"failed":case"completed":return p}}})}upload(e,t,r){return $(this,null,function*(){const s=yield this._client.files.create({file:t,purpose:"assistants"},r);return this.create(e,{file_id:s.id},r)})}uploadAndPoll(e,t,r){return $(this,null,function*(){const s=yield this.upload(e,t,r);return yield this.poll(e,s.id,r)})}content(e,t,r){const{vector_store_id:s}=t;return this._client.getAPIList(T`/vector_stores/${s}/files/${e}/content`,Ar,S(b({},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}}class kr extends U{constructor(){super(...arguments),this.files=new xi(this._client),this.fileBatches=new fi(this._client)}create(e,t){return this._client.post("/vector_stores",S(b({body:e},t),{headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])}))}retrieve(e,t){return this._client.get(T`/vector_stores/${e}`,S(b({},t),{headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])}))}update(e,t,r){return this._client.post(T`/vector_stores/${e}`,S(b({body:t},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}list(e={},t){return this._client.getAPIList("/vector_stores",ie,S(b({query:e},t),{headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])}))}delete(e,t){return this._client.delete(T`/vector_stores/${e}`,S(b({},t),{headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])}))}search(e,t,r){return this._client.getAPIList(T`/vector_stores/${e}/search`,Ar,S(b({body:t,method:"post"},r),{headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}}kr.Files=xi;kr.FileBatches=fi;class hi extends U{create(e,t){return this._client.post("/videos",W0(b({body:e},t),this._client))}retrieve(e,t){return this._client.get(T`/videos/${e}`,t)}list(e={},t){return this._client.getAPIList("/videos",fr,b({query:e},t))}delete(e,t){return this._client.delete(T`/videos/${e}`,t)}downloadContent(e,t={},r){return this._client.get(T`/videos/${e}/content`,S(b({query:t},r),{headers:N([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0}))}remix(e,t,r){return this._client.post(T`/videos/${e}/remix`,W0(b({body:t},r),this._client))}}var ut,pi,lr;class mi extends U{constructor(){super(...arguments),ut.add(this)}unwrap(a,i){return $(this,arguments,function*(e,t,r=this._client.webhookSecret,s=300){return yield this.verifySignature(e,t,r,s),JSON.parse(e)})}verifySignature(a,i){return $(this,arguments,function*(e,t,r=this._client.webhookSecret,s=300){if(typeof crypto=="undefined"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");k(this,ut,"m",pi).call(this,r);const c=N([t]).values,p=k(this,ut,"m",lr).call(this,c,"webhook-signature"),o=k(this,ut,"m",lr).call(this,c,"webhook-timestamp"),u=k(this,ut,"m",lr).call(this,c,"webhook-id"),x=parseInt(o,10);if(isNaN(x))throw new Ct("Invalid webhook timestamp format");const l=Math.floor(Date.now()/1e3);if(l-x>s)throw new Ct("Webhook timestamp is too old");if(x>l+s)throw new Ct("Webhook timestamp is too new");const d=p.split(" ").map(y=>y.startsWith("v1,")?y.substring(3):y),f=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),_=u?`${u}.${o}.${e}`:`${o}.${e}`,v=yield crypto.subtle.importKey("raw",f,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const y of d)try{const h=Buffer.from(y,"base64");if(yield crypto.subtle.verify("HMAC",v,h,new TextEncoder().encode(_)))return}catch(h){continue}throw new Ct("The given webhook signature does not match the expected signature")})}}ut=new WeakSet,pi=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},lr=function(e,t){if(!e)throw new Error("Headers are required");const r=e.get(t);if(r==null)throw new Error(`Missing required header: ${t}`);return r};var Nn,d0,ur,vi;class K{constructor(u={}){var x=u,{baseURL:e=at("OPENAI_BASE_URL"),apiKey:t=at("OPENAI_API_KEY"),organization:r=(c=>(c=at("OPENAI_ORG_ID"))!=null?c:null)(),project:s=(p=>(p=at("OPENAI_PROJECT_ID"))!=null?p:null)(),webhookSecret:a=(o=>(o=at("OPENAI_WEBHOOK_SECRET"))!=null?o:null)()}=x,i=re(x,["baseURL","apiKey","organization","project","webhookSecret"]);var f,_,v,y,h,m;if(Nn.add(this),ur.set(this,void 0),this.completions=new Xa(this),this.chat=new Yn(this),this.embeddings=new Ga(this),this.files=new Ja(this),this.images=new ni(this),this.audio=new Ht(this),this.moderations=new ai(this),this.models=new si(this),this.fineTuning=new ht(this),this.graders=new c0(this),this.vectorStores=new kr(this),this.webhooks=new mi(this),this.beta=new xt(this),this.batches=new La(this),this.uploads=new u0(this),this.responses=new Dr(this),this.realtime=new Fr(this),this.conversations=new r0(this),this.evals=new s0(this),this.containers=new t0(this),this.videos=new hi(this),t===void 0)throw new z("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const l=S(b({apiKey:t,organization:r,project:s,webhookSecret:a},i),{baseURL:e||"https://api.openai.com/v1"});if(!l.dangerouslyAllowBrowser&&so())throw new z(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=l.baseURL,this.timeout=(f=l.timeout)!=null?f:d0.DEFAULT_TIMEOUT,this.logger=(_=l.logger)!=null?_:console;const d="warn";this.logLevel=d,this.logLevel=(y=(v=H0(l.logLevel,"ClientOptions.logLevel",this))!=null?v:H0(at("OPENAI_LOG"),"process.env['OPENAI_LOG']",this))!=null?y:d,this.fetchOptions=l.fetchOptions,this.maxRetries=(h=l.maxRetries)!=null?h:2,this.fetch=(m=l.fetch)!=null?m:lo(),j(this,ur,fo),this._options=l,this.apiKey=typeof t=="string"?t:"Missing Key",this.organization=r,this.project=s,this.webhookSecret=a}withOptions(e){return new this.constructor(b(S(b({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret}),e))}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){}authHeaders(e){return $(this,null,function*(){return N([{Authorization:`Bearer ${this.apiKey}`}])})}stringifyQuery(e){return go(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${ct}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ns()}`}makeStatusError(e,t,r,s){return pe.generate(e,t,r,s)}_callApiKey(){return $(this,null,function*(){const e=this._options.apiKey;if(typeof e!="function")return!1;let t;try{t=yield e()}catch(r){throw r instanceof z?r:new z(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof t!="string"||!t)throw new z(`Expected 'apiKey' function argument to return a string but it returned ${t}`);return this.apiKey=t,!0})}buildURL(e,t,r){const s=!k(this,Nn,"m",vi).call(this)&&r||this.baseURL,a=Zi(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return eo(i)||(t=b(b({},i),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(a.search=this.stringifyQuery(t)),a.toString()}prepareOptions(e){return $(this,null,function*(){yield this._callApiKey()})}prepareRequest(s,a){return $(this,arguments,function*(e,{url:t,options:r}){})}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(s=>b({method:e,path:t},s)))}request(e,t=null){return new wr(this,this.makeRequest(e,t,void 0))}makeRequest(e,t,r){return $(this,null,function*(){var y,h,m;const s=yield e,a=(y=s.maxRetries)!=null?y:this.maxRetries;t==null&&(t=a),yield this.prepareOptions(s);const{req:i,url:c,timeout:p}=yield this.buildRequest(s,{retryCount:a-t});yield this.prepareRequest(i,{url:c,options:s});const o="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=r===void 0?"":`, retryOf: ${r}`,x=Date.now();if(xe(this).debug(`[${o}] sending request`,Ke({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:i.headers})),(h=s.signal)!=null&&h.aborted)throw new De;const l=new AbortController,d=yield this.fetchWithTimeout(c,i,p,l).catch(Dn),f=Date.now();if(d instanceof globalThis.Error){const g=`retrying, ${t} attempts remaining`;if((m=s.signal)!=null&&m.aborted)throw new De;const A=Fn(d)||/timed? ?out/i.test(String(d)+("cause"in d?String(d.cause):""));if(t)return xe(this).info(`[${o}] connection ${A?"timed out":"failed"} - ${g}`),xe(this).debug(`[${o}] connection ${A?"timed out":"failed"} (${g})`,Ke({retryOfRequestLogID:r,url:c,durationMs:f-x,message:d.message})),this.retryRequest(s,t,r!=null?r:o);throw xe(this).info(`[${o}] connection ${A?"timed out":"failed"} - error; no more retries left`),xe(this).debug(`[${o}] connection ${A?"timed out":"failed"} (error; no more retries left)`,Ke({retryOfRequestLogID:r,url:c,durationMs:f-x,message:d.message})),A?new Un:new yr({cause:d})}const _=[...d.headers.entries()].filter(([g])=>g==="x-request-id").map(([g,A])=>", "+g+": "+JSON.stringify(A)).join(""),v=`[${o}${u}${_}] ${i.method} ${c} ${d.ok?"succeeded":"failed"} with status ${d.status} in ${f-x}ms`;if(!d.ok){const g=yield this.shouldRetry(d);if(t&&g){const w=`retrying, ${t} attempts remaining`;return yield uo(d.body),xe(this).info(`${v} - ${w}`),xe(this).debug(`[${o}] response error (${w})`,Ke({retryOfRequestLogID:r,url:d.url,status:d.status,headers:d.headers,durationMs:f-x})),this.retryRequest(s,t,r!=null?r:o,d.headers)}const A=g?"error; no more retries left":"error; not retryable";xe(this).info(`${v} - ${A}`);const C=yield d.text().catch(w=>Dn(w).message),B=no(C),D=B?void 0:C;throw xe(this).debug(`[${o}] response error (${A})`,Ke({retryOfRequestLogID:r,url:d.url,status:d.status,headers:d.headers,message:D,durationMs:Date.now()-x})),this.makeStatusError(d.status,B,D,d.headers)}return xe(this).info(v),xe(this).debug(`[${o}] response start`,Ke({retryOfRequestLogID:r,url:d.url,status:d.status,headers:d.headers,durationMs:f-x})),{response:d,options:s,controller:l,requestLogID:o,retryOfRequestLogID:r,startTime:x}})}getAPIList(e,t,r){return this.requestAPIList(t,b({method:"get",path:e},r))}requestAPIList(e,t){const r=this.makeRequest(t,null,void 0);return new Fo(this,r,e)}fetchWithTimeout(e,t,r,s){return $(this,null,function*(){const x=t||{},{signal:a,method:i}=x,c=re(x,["signal","method"]);a&&a.addEventListener("abort",()=>s.abort());const p=setTimeout(()=>s.abort(),r),o=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,u=b(S(b({signal:s.signal},o?{duplex:"half"}:{}),{method:"GET"}),c);i&&(u.method=i.toUpperCase());try{return yield this.fetch.call(void 0,e,u)}finally{clearTimeout(p)}})}shouldRetry(e){return $(this,null,function*(){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500})}retryRequest(e,t,r,s){return $(this,null,function*(){var p;let a;const i=s==null?void 0:s.get("retry-after-ms");if(i){const o=parseFloat(i);Number.isNaN(o)||(a=o)}const c=s==null?void 0:s.get("retry-after");if(c&&!a){const o=parseFloat(c);Number.isNaN(o)?a=Date.parse(c)-Date.now():a=o*1e3}if(!(a&&0<=a&&a<60*1e3)){const o=(p=e.maxRetries)!=null?p:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(t,o)}return yield Tt(a),this.makeRequest(e,t-1,r)})}calculateDefaultRetryTimeoutMillis(e,t){const a=t-e,i=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return i*c*1e3}buildRequest(r){return $(this,arguments,function*(e,{retryCount:t=0}={}){var f,_,v;const s=b({},e),{method:a,path:i,query:c,defaultBaseURL:p}=s,o=this.buildURL(i,c,p);"timeout"in s&&ro("timeout",s.timeout),s.timeout=(f=s.timeout)!=null?f:this.timeout;const{bodyHeaders:u,body:x}=this.buildBody({options:s}),l=yield this.buildHeaders({options:e,method:a,bodyHeaders:u,retryCount:t});return{req:b(b(b(b(b({method:a,headers:l},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(_=this.fetchOptions)!=null?_:{}),(v=s.fetchOptions)!=null?v:{}),url:o,timeout:s.timeout}})}buildHeaders(a){return $(this,arguments,function*({options:e,method:t,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const c=N([i,S(b(b({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),co()),{"OpenAI-Organization":this.organization,"OpenAI-Project":this.project}),yield this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(c),c.values})}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=N([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Zs(e)}:k(this,ur,"f").call(this,{body:e,headers:r})}}d0=K,ur=new WeakMap,Nn=new WeakSet,vi=function(){return this.baseURL!=="https://api.openai.com/v1"};K.OpenAI=d0;K.DEFAULT_TIMEOUT=6e5;K.OpenAIError=z;K.APIError=pe;K.APIConnectionError=yr;K.APIConnectionTimeoutError=Un;K.APIUserAbortError=De;K.NotFoundError=zs;K.ConflictError=js;K.RateLimitError=Ks;K.BadRequestError=Ws;K.AuthenticationError=qs;K.InternalServerError=Vs;K.PermissionDeniedError=Us;K.UnprocessableEntityError=Xs;K.InvalidWebhookSignatureError=Ct;K.toFile=Io;K.Completions=Xa;K.Chat=Yn;K.Embeddings=Ga;K.Files=Ja;K.Images=ni;K.Audio=Ht;K.Moderations=ai;K.Models=si;K.FineTuning=ht;K.Graders=c0;K.VectorStores=kr;K.Webhooks=mi;K.Beta=xt;K.Batches=La;K.Uploads=u0;K.Responses=Dr;K.Realtime=Fr;K.Conversations=r0;K.Evals=s0;K.Containers=t0;K.Videos=hi;class sc{constructor(){this.availableModels=[{value:"saas.deepseek-v3",label:"DeepSeek V3"},{value:"saas.deepseek-r1",label:"DeepSeek R1"},{value:"saas.qwen3-235b-a22b-thinking",label:"Qwen3 235B Thinking"},{value:"saas.qwen3-235b-a22b-instruct",label:"Qwen3 235B Instruct"},{value:"saas.text-embedding-v4",label:"Text Embedding V4"},{value:"saas.doubao-seed-1.6-flash",label:"Doubao Seed 1.6 Flash"},{value:"saas.doubao-seed-1.6",label:"Doubao Seed 1.6"},{value:"saas.qwen3-next-80b-a3b-thinking",label:"Qwen3 Next 80B Thinking"},{value:"saas.qwen3-next-80b-a3b-instruct",label:"Qwen3 Next 80B Instruct"}],this.selectedModel="saas.qwen3-235b-a22b-instruct",this.init()}init(){try{console.log("AI..."),this.client=new K({apiKey:"sk-30D2dKJKy7ki-mHomyDV5g",baseURL:"http://genai-sharedservice-uat.cn.asia.pwcinternal.com/v1",dangerouslyAllowBrowser:!0}),console.log("AI")}catch(e){throw console.error("AI:",e),e}}setModel(e){return this.availableModels.some(t=>t.value===e)?(this.selectedModel=e,!0):!1}predictNextLottery(e){return $(this,null,function*(){try{console.log("AI..."),console.log(":",e.length);const t=this.buildHistoryPrompt(e);console.log("");const r=`3D

${t}


1. 
2. 
3. 3D
4. 3000-999
5. 

XXX`;console.log("AI:",this.selectedModel);const s=yield this.client.chat.completions.create({model:this.selectedModel,messages:[{role:"system",content:"3D"},{role:"user",content:r}],max_tokens:500,temperature:.7});console.log("AI API:",s);const a=s.choices[0].message.content;console.log(":",a);const i=this.parsePredictionResult(a);return console.log(":",i),i}catch(t){throw console.error("AI:",t),console.error(":",t.message),console.error(":",t.stack),new Error("AI")}})}buildHistoryPrompt(e){if(!e||e.length===0)return"";let t=`
`;e.slice(0,10).forEach((i,c)=>{t+=`${i.period}${i.result}${i.date}
`}),t+=`

`;const s=this.calculateNumberFrequency(e);t+=`${JSON.stringify(s)}
`;const a=this.calculateSumStatistics(e);return t+=`${a.min}-${a.max}${a.average.toFixed(2)}
`,t}calculateNumberFrequency(e){const t={};return e.forEach(r=>{r.result.split("").forEach(a=>{t[a]=(t[a]||0)+1})}),Object.entries(t).sort((r,s)=>s[1]-r[1]).reduce((r,[s,a])=>(r[s]=a,r),{})}calculateSumStatistics(e){const t=e.map(r=>r.result.split("").map(Number).reduce((a,i)=>a+i,0));return{min:Math.min(...t),max:Math.max(...t),average:t.reduce((r,s)=>r+s,0)/t.length}}parsePredictionResult(e){const t=e.match(/[:]\s*(\d{3})/),r=t?t[1]:null,s=e.match(/[:]([^]*)/),a=s?s[1].trim():"";return{prediction:r,reason:a,fullResponse:e}}getAvailableModels(){return this.availableModels}getSelectedModel(){return this.selectedModel}}const ac=new sc;function gi(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function Wn(){if(gi()){const n=window.location.pathname,e=window.location.hash;if(n!=="/"&&!n.includes("index.html")&&!["/ai-prediction","/betting-records","/match-four-code-by-danma","/advanced-prediction","/three-code-filter","/period-management","/code-maintenance","/four-code-maintenance","/kill-code-maintenance","/kill-two-code-maintenance","/three-code-deduplication","/advanced-data-recovery"].some(s=>n.includes(s)))return window.location.href="/",!1;if(e&&e.startsWith("#/")){const t=e.substring(2);validRoutes.map(s=>s.substring(1)).includes(t)||(window.location.hash="")}}return!0}function ic(){window.addEventListener("popstate",Wn),Wn(),console.log("")}function oc(){if(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0||document.referrer.includes("android-app://")||window.location.href.includes("source=pwa")){console.log("PWAPWA");const e=window.location.pathname,t=window.location.href;if(e!=="/"&&!e.endsWith("index.html")&&!t.includes("index.html")){const s=`${window.location.origin}/index.html${window.location.pathname}${window.location.search}${window.location.hash}`;if(!t.includes("index.html"))return console.log("PWA:",s),window.location.replace(s),!1}window.addEventListener("hashchange",()=>{console.log("PWA hash:",window.location.hash)}),window.addEventListener("popstate",r=>{if(console.log("PWA popstate:",r.state),r.state&&r.state.route){const s=r.state.route;s.includes("index.html")||history.replaceState({route:`/index.html${s}`},"",`/index.html${s}`)}})}return!0}function cc(){gi()&&(window.addEventListener("online",()=>{console.log(""),Wn()}),window.addEventListener("offline",()=>{console.log("")}))}function _i(){var n;return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0||document.referrer.includes("android-app://")||window.location.href.includes("source=pwa")||((n=window.performance.getEntriesByType("navigation")[0])==null?void 0:n.type)==="navigate"&&window.location.protocol==="https:"&&!window.location.hostname.includes("localhost")}function Pt(){if(!_i())return!0;console.log("PWA");const n=window.location.pathname,e=window.location.href,t=window.location.hash;if(console.log("PWA:",{pathname:n,href:e,hash:t,search:window.location.search}),n==="/"||n.endsWith("index.html")){if(t&&t.startsWith("#/")){const a=t.substring(2);if(!["ai-prediction","betting-records","match-four-code-by-danma","advanced-prediction","three-code-filter","period-management","code-maintenance","four-code-maintenance","kill-code-maintenance","kill-two-code-maintenance","three-code-deduplication","advanced-data-recovery"].includes(a))return console.log("hashhash"),window.location.hash="",!1}return console.log("PWA"),!0}if(["/ai-prediction","/betting-records","/match-four-code-by-danma","/advanced-prediction","/three-code-filter","/period-management","/code-maintenance","/four-code-maintenance","/kill-code-maintenance","/kill-two-code-maintenance","/three-code-deduplication","/advanced-data-recovery"].some(a=>n.includes(a))){console.log("PWA");const i=`#/${n.substring(1)}`;if(!e.includes("#"))return console.log("PWA - hash:",i),window.location.replace(`/index.html${i}`),!1}else return console.log(""),window.location.replace("/index.html"),!1;return!0}function lc(){_i()&&(console.log("PWA"),setTimeout(()=>{Pt()},100),window.addEventListener("hashchange",()=>{console.log("PWA hash:",window.location.hash),setTimeout(()=>{Pt()},50)}),window.addEventListener("popstate",n=>{if(console.log("PWA popstate:",n.state),n.state&&n.state.route){const e=n.state.route;e.includes("index.html")||history.replaceState({route:`/index.html${e}`},"",`/index.html${e}`)}setTimeout(()=>{Pt()},50)}),window.$router&&window.$router.afterEach((n,e)=>{console.log("Vue Router:",n.path),setTimeout(()=>{Pt()},50)}))}function uc(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(n=>{console.log("Service WorkerPWA"),n.active&&n.active.postMessage({type:"PWA_ROUTE_OPTIMIZATION",data:{timestamp:Date.now(),routes:["/","/index.html","/ai-prediction","/betting-records","/match-four-code-by-danma","/advanced-prediction","/three-code-filter","/period-management","/code-maintenance","/four-code-maintenance","/kill-code-maintenance","/kill-two-code-maintenance","/three-code-deduplication","/advanced-data-recovery"]}})})}var yi={exports:{}},zr={exports:{}};const dc={},fc=Object.freeze(Object.defineProperty({__proto__:null,default:dc},Symbol.toStringTag,{value:"Module"})),xc=Ki(fc);var ns;function Y(){return ns||(ns=1,function(n,e){(function(t,r){n.exports=r()})(V,function(){var t=t||function(r,s){var a;if(typeof window!="undefined"&&window.crypto&&(a=window.crypto),typeof self!="undefined"&&self.crypto&&(a=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window!="undefined"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof V!="undefined"&&V.crypto&&(a=V.crypto),!a&&typeof Vi=="function")try{a=xc}catch(h){}var i=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch(h){}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch(h){}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function h(){}return function(m){var g;return h.prototype=m,g=new h,h.prototype=null,g}}(),p={},o=p.lib={},u=o.Base=function(){return{extend:function(h){var m=c(this);return h&&m.mixIn(h),(!m.hasOwnProperty("init")||this.init===m.init)&&(m.init=function(){m.$super.init.apply(this,arguments)}),m.init.prototype=m,m.$super=this,m},create:function(){var h=this.extend();return h.init.apply(h,arguments),h},init:function(){},mixIn:function(h){for(var m in h)h.hasOwnProperty(m)&&(this[m]=h[m]);h.hasOwnProperty("toString")&&(this.toString=h.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),x=o.WordArray=u.extend({init:function(h,m){h=this.words=h||[],m!=s?this.sigBytes=m:this.sigBytes=h.length*4},toString:function(h){return(h||d).stringify(this)},concat:function(h){var m=this.words,g=h.words,A=this.sigBytes,C=h.sigBytes;if(this.clamp(),A%4)for(var B=0;B<C;B++){var D=g[B>>>2]>>>24-B%4*8&255;m[A+B>>>2]|=D<<24-(A+B)%4*8}else for(var R=0;R<C;R+=4)m[A+R>>>2]=g[R>>>2];return this.sigBytes+=C,this},clamp:function(){var h=this.words,m=this.sigBytes;h[m>>>2]&=4294967295<<32-m%4*8,h.length=r.ceil(m/4)},clone:function(){var h=u.clone.call(this);return h.words=this.words.slice(0),h},random:function(h){for(var m=[],g=0;g<h;g+=4)m.push(i());return new x.init(m,h)}}),l=p.enc={},d=l.Hex={stringify:function(h){for(var m=h.words,g=h.sigBytes,A=[],C=0;C<g;C++){var B=m[C>>>2]>>>24-C%4*8&255;A.push((B>>>4).toString(16)),A.push((B&15).toString(16))}return A.join("")},parse:function(h){for(var m=h.length,g=[],A=0;A<m;A+=2)g[A>>>3]|=parseInt(h.substr(A,2),16)<<24-A%8*4;return new x.init(g,m/2)}},f=l.Latin1={stringify:function(h){for(var m=h.words,g=h.sigBytes,A=[],C=0;C<g;C++){var B=m[C>>>2]>>>24-C%4*8&255;A.push(String.fromCharCode(B))}return A.join("")},parse:function(h){for(var m=h.length,g=[],A=0;A<m;A++)g[A>>>2]|=(h.charCodeAt(A)&255)<<24-A%4*8;return new x.init(g,m)}},_=l.Utf8={stringify:function(h){try{return decodeURIComponent(escape(f.stringify(h)))}catch(m){throw new Error("Malformed UTF-8 data")}},parse:function(h){return f.parse(unescape(encodeURIComponent(h)))}},v=o.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new x.init,this._nDataBytes=0},_append:function(h){typeof h=="string"&&(h=_.parse(h)),this._data.concat(h),this._nDataBytes+=h.sigBytes},_process:function(h){var m,g=this._data,A=g.words,C=g.sigBytes,B=this.blockSize,D=B*4,R=C/D;h?R=r.ceil(R):R=r.max((R|0)-this._minBufferSize,0);var w=R*B,E=r.min(w*4,C);if(w){for(var F=0;F<w;F+=B)this._doProcessBlock(A,F);m=A.splice(0,w),g.sigBytes-=E}return new x.init(m,E)},clone:function(){var h=u.clone.call(this);return h._data=this._data.clone(),h},_minBufferSize:0});o.Hasher=v.extend({cfg:u.extend(),init:function(h){this.cfg=this.cfg.extend(h),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(h){return this._append(h),this._process(),this},finalize:function(h){h&&this._append(h);var m=this._doFinalize();return m},blockSize:16,_createHelper:function(h){return function(m,g){return new h.init(g).finalize(m)}},_createHmacHelper:function(h){return function(m,g){return new y.HMAC.init(h,g).finalize(m)}}});var y=p.algo={};return p}(Math);return t})}(zr)),zr.exports}var jr={exports:{}},ss;function Sr(){return ss||(ss=1,function(n,e){(function(t,r){n.exports=r(Y())})(V,function(t){return function(r){var s=t,a=s.lib,i=a.Base,c=a.WordArray,p=s.x64={};p.Word=i.extend({init:function(o,u){this.high=o,this.low=u}}),p.WordArray=i.extend({init:function(o,u){o=this.words=o||[],u!=r?this.sigBytes=u:this.sigBytes=o.length*8},toX32:function(){for(var o=this.words,u=o.length,x=[],l=0;l<u;l++){var d=o[l];x.push(d.high),x.push(d.low)}return c.create(x,this.sigBytes)},clone:function(){for(var o=i.clone.call(this),u=o.words=this.words.slice(0),x=u.length,l=0;l<x;l++)u[l]=u[l].clone();return o}})}(),t})}(jr)),jr.exports}var Xr={exports:{}},as;function hc(){return as||(as=1,function(n,e){(function(t,r){n.exports=r(Y())})(V,function(t){return function(){if(typeof ArrayBuffer=="function"){var r=t,s=r.lib,a=s.WordArray,i=a.init,c=a.init=function(p){if(p instanceof ArrayBuffer&&(p=new Uint8Array(p)),(p instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&p instanceof Uint8ClampedArray||p instanceof Int16Array||p instanceof Uint16Array||p instanceof Int32Array||p instanceof Uint32Array||p instanceof Float32Array||p instanceof Float64Array)&&(p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength)),p instanceof Uint8Array){for(var o=p.byteLength,u=[],x=0;x<o;x++)u[x>>>2]|=p[x]<<24-x%4*8;i.call(this,u,o)}else i.apply(this,arguments)};c.prototype=a}}(),t.lib.WordArray})}(Xr)),Xr.exports}var Kr={exports:{}},is;function pc(){return is||(is=1,function(n,e){(function(t,r){n.exports=r(Y())})(V,function(t){return function(){var r=t,s=r.lib,a=s.WordArray,i=r.enc;i.Utf16=i.Utf16BE={stringify:function(p){for(var o=p.words,u=p.sigBytes,x=[],l=0;l<u;l+=2){var d=o[l>>>2]>>>16-l%4*8&65535;x.push(String.fromCharCode(d))}return x.join("")},parse:function(p){for(var o=p.length,u=[],x=0;x<o;x++)u[x>>>1]|=p.charCodeAt(x)<<16-x%2*16;return a.create(u,o*2)}},i.Utf16LE={stringify:function(p){for(var o=p.words,u=p.sigBytes,x=[],l=0;l<u;l+=2){var d=c(o[l>>>2]>>>16-l%4*8&65535);x.push(String.fromCharCode(d))}return x.join("")},parse:function(p){for(var o=p.length,u=[],x=0;x<o;x++)u[x>>>1]|=c(p.charCodeAt(x)<<16-x%2*16);return a.create(u,o*2)}};function c(p){return p<<8&4278255360|p>>>8&16711935}}(),t.enc.Utf16})}(Kr)),Kr.exports}var Vr={exports:{}},os;function Ye(){return os||(os=1,function(n,e){(function(t,r){n.exports=r(Y())})(V,function(t){return function(){var r=t,s=r.lib,a=s.WordArray,i=r.enc;i.Base64={stringify:function(p){var o=p.words,u=p.sigBytes,x=this._map;p.clamp();for(var l=[],d=0;d<u;d+=3)for(var f=o[d>>>2]>>>24-d%4*8&255,_=o[d+1>>>2]>>>24-(d+1)%4*8&255,v=o[d+2>>>2]>>>24-(d+2)%4*8&255,y=f<<16|_<<8|v,h=0;h<4&&d+h*.75<u;h++)l.push(x.charAt(y>>>6*(3-h)&63));var m=x.charAt(64);if(m)for(;l.length%4;)l.push(m);return l.join("")},parse:function(p){var o=p.length,u=this._map,x=this._reverseMap;if(!x){x=this._reverseMap=[];for(var l=0;l<u.length;l++)x[u.charCodeAt(l)]=l}var d=u.charAt(64);if(d){var f=p.indexOf(d);f!==-1&&(o=f)}return c(p,o,x)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(p,o,u){for(var x=[],l=0,d=0;d<o;d++)if(d%4){var f=u[p.charCodeAt(d-1)]<<d%4*2,_=u[p.charCodeAt(d)]>>>6-d%4*2,v=f|_;x[l>>>2]|=v<<24-l%4*8,l++}return a.create(x,l)}}(),t.enc.Base64})}(Vr)),Vr.exports}var Gr={exports:{}},cs;function mc(){return cs||(cs=1,function(n,e){(function(t,r){n.exports=r(Y())})(V,function(t){return function(){var r=t,s=r.lib,a=s.WordArray,i=r.enc;i.Base64url={stringify:function(p,o){o===void 0&&(o=!0);var u=p.words,x=p.sigBytes,l=o?this._safe_map:this._map;p.clamp();for(var d=[],f=0;f<x;f+=3)for(var _=u[f>>>2]>>>24-f%4*8&255,v=u[f+1>>>2]>>>24-(f+1)%4*8&255,y=u[f+2>>>2]>>>24-(f+2)%4*8&255,h=_<<16|v<<8|y,m=0;m<4&&f+m*.75<x;m++)d.push(l.charAt(h>>>6*(3-m)&63));var g=l.charAt(64);if(g)for(;d.length%4;)d.push(g);return d.join("")},parse:function(p,o){o===void 0&&(o=!0);var u=p.length,x=o?this._safe_map:this._map,l=this._reverseMap;if(!l){l=this._reverseMap=[];for(var d=0;d<x.length;d++)l[x.charCodeAt(d)]=d}var f=x.charAt(64);if(f){var _=p.indexOf(f);_!==-1&&(u=_)}return c(p,u,l)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(p,o,u){for(var x=[],l=0,d=0;d<o;d++)if(d%4){var f=u[p.charCodeAt(d-1)]<<d%4*2,_=u[p.charCodeAt(d)]>>>6-d%4*2,v=f|_;x[l>>>2]|=v<<24-l%4*8,l++}return a.create(x,l)}}(),t.enc.Base64url})}(Gr)),Gr.exports}var Qr={exports:{}},ls;function Ze(){return ls||(ls=1,function(n,e){(function(t,r){n.exports=r(Y())})(V,function(t){return function(r){var s=t,a=s.lib,i=a.WordArray,c=a.Hasher,p=s.algo,o=[];(function(){for(var _=0;_<64;_++)o[_]=r.abs(r.sin(_+1))*4294967296|0})();var u=p.MD5=c.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(_,v){for(var y=0;y<16;y++){var h=v+y,m=_[h];_[h]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360}var g=this._hash.words,A=_[v+0],C=_[v+1],B=_[v+2],D=_[v+3],R=_[v+4],w=_[v+5],E=_[v+6],F=_[v+7],I=_[v+8],W=_[v+9],q=_[v+10],X=_[v+11],ee=_[v+12],Z=_[v+13],J=_[v+14],Q=_[v+15],P=g[0],M=g[1],L=g[2],O=g[3];P=x(P,M,L,O,A,7,o[0]),O=x(O,P,M,L,C,12,o[1]),L=x(L,O,P,M,B,17,o[2]),M=x(M,L,O,P,D,22,o[3]),P=x(P,M,L,O,R,7,o[4]),O=x(O,P,M,L,w,12,o[5]),L=x(L,O,P,M,E,17,o[6]),M=x(M,L,O,P,F,22,o[7]),P=x(P,M,L,O,I,7,o[8]),O=x(O,P,M,L,W,12,o[9]),L=x(L,O,P,M,q,17,o[10]),M=x(M,L,O,P,X,22,o[11]),P=x(P,M,L,O,ee,7,o[12]),O=x(O,P,M,L,Z,12,o[13]),L=x(L,O,P,M,J,17,o[14]),M=x(M,L,O,P,Q,22,o[15]),P=l(P,M,L,O,C,5,o[16]),O=l(O,P,M,L,E,9,o[17]),L=l(L,O,P,M,X,14,o[18]),M=l(M,L,O,P,A,20,o[19]),P=l(P,M,L,O,w,5,o[20]),O=l(O,P,M,L,q,9,o[21]),L=l(L,O,P,M,Q,14,o[22]),M=l(M,L,O,P,R,20,o[23]),P=l(P,M,L,O,W,5,o[24]),O=l(O,P,M,L,J,9,o[25]),L=l(L,O,P,M,D,14,o[26]),M=l(M,L,O,P,I,20,o[27]),P=l(P,M,L,O,Z,5,o[28]),O=l(O,P,M,L,B,9,o[29]),L=l(L,O,P,M,F,14,o[30]),M=l(M,L,O,P,ee,20,o[31]),P=d(P,M,L,O,w,4,o[32]),O=d(O,P,M,L,I,11,o[33]),L=d(L,O,P,M,X,16,o[34]),M=d(M,L,O,P,J,23,o[35]),P=d(P,M,L,O,C,4,o[36]),O=d(O,P,M,L,R,11,o[37]),L=d(L,O,P,M,F,16,o[38]),M=d(M,L,O,P,q,23,o[39]),P=d(P,M,L,O,Z,4,o[40]),O=d(O,P,M,L,A,11,o[41]),L=d(L,O,P,M,D,16,o[42]),M=d(M,L,O,P,E,23,o[43]),P=d(P,M,L,O,W,4,o[44]),O=d(O,P,M,L,ee,11,o[45]),L=d(L,O,P,M,Q,16,o[46]),M=d(M,L,O,P,B,23,o[47]),P=f(P,M,L,O,A,6,o[48]),O=f(O,P,M,L,F,10,o[49]),L=f(L,O,P,M,J,15,o[50]),M=f(M,L,O,P,w,21,o[51]),P=f(P,M,L,O,ee,6,o[52]),O=f(O,P,M,L,D,10,o[53]),L=f(L,O,P,M,q,15,o[54]),M=f(M,L,O,P,C,21,o[55]),P=f(P,M,L,O,I,6,o[56]),O=f(O,P,M,L,Q,10,o[57]),L=f(L,O,P,M,E,15,o[58]),M=f(M,L,O,P,Z,21,o[59]),P=f(P,M,L,O,R,6,o[60]),O=f(O,P,M,L,X,10,o[61]),L=f(L,O,P,M,B,15,o[62]),M=f(M,L,O,P,W,21,o[63]),g[0]=g[0]+P|0,g[1]=g[1]+M|0,g[2]=g[2]+L|0,g[3]=g[3]+O|0},_doFinalize:function(){var _=this._data,v=_.words,y=this._nDataBytes*8,h=_.sigBytes*8;v[h>>>5]|=128<<24-h%32;var m=r.floor(y/4294967296),g=y;v[(h+64>>>9<<4)+15]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,v[(h+64>>>9<<4)+14]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,_.sigBytes=(v.length+1)*4,this._process();for(var A=this._hash,C=A.words,B=0;B<4;B++){var D=C[B];C[B]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return A},clone:function(){var _=c.clone.call(this);return _._hash=this._hash.clone(),_}});function x(_,v,y,h,m,g,A){var C=_+(v&y|~v&h)+m+A;return(C<<g|C>>>32-g)+v}function l(_,v,y,h,m,g,A){var C=_+(v&h|y&~h)+m+A;return(C<<g|C>>>32-g)+v}function d(_,v,y,h,m,g,A){var C=_+(v^y^h)+m+A;return(C<<g|C>>>32-g)+v}function f(_,v,y,h,m,g,A){var C=_+(y^(v|~h))+m+A;return(C<<g|C>>>32-g)+v}s.MD5=c._createHelper(u),s.HmacMD5=c._createHmacHelper(u)}(Math),t.MD5})}(Qr)),Qr.exports}var Jr={exports:{}},us;function bi(){return us||(us=1,function(n,e){(function(t,r){n.exports=r(Y())})(V,function(t){return function(){var r=t,s=r.lib,a=s.WordArray,i=s.Hasher,c=r.algo,p=[],o=c.SHA1=i.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,x){for(var l=this._hash.words,d=l[0],f=l[1],_=l[2],v=l[3],y=l[4],h=0;h<80;h++){if(h<16)p[h]=u[x+h]|0;else{var m=p[h-3]^p[h-8]^p[h-14]^p[h-16];p[h]=m<<1|m>>>31}var g=(d<<5|d>>>27)+y+p[h];h<20?g+=(f&_|~f&v)+1518500249:h<40?g+=(f^_^v)+1859775393:h<60?g+=(f&_|f&v|_&v)-1894007588:g+=(f^_^v)-899497514,y=v,v=_,_=f<<30|f>>>2,f=d,d=g}l[0]=l[0]+d|0,l[1]=l[1]+f|0,l[2]=l[2]+_|0,l[3]=l[3]+v|0,l[4]=l[4]+y|0},_doFinalize:function(){var u=this._data,x=u.words,l=this._nDataBytes*8,d=u.sigBytes*8;return x[d>>>5]|=128<<24-d%32,x[(d+64>>>9<<4)+14]=Math.floor(l/4294967296),x[(d+64>>>9<<4)+15]=l,u.sigBytes=x.length*4,this._process(),this._hash},clone:function(){var u=i.clone.call(this);return u._hash=this._hash.clone(),u}});r.SHA1=i._createHelper(o),r.HmacSHA1=i._createHmacHelper(o)}(),t.SHA1})}(Jr)),Jr.exports}var Yr={exports:{}},ds;function f0(){return ds||(ds=1,function(n,e){(function(t,r){n.exports=r(Y())})(V,function(t){return function(r){var s=t,a=s.lib,i=a.WordArray,c=a.Hasher,p=s.algo,o=[],u=[];(function(){function d(y){for(var h=r.sqrt(y),m=2;m<=h;m++)if(!(y%m))return!1;return!0}function f(y){return(y-(y|0))*4294967296|0}for(var _=2,v=0;v<64;)d(_)&&(v<8&&(o[v]=f(r.pow(_,1/2))),u[v]=f(r.pow(_,1/3)),v++),_++})();var x=[],l=p.SHA256=c.extend({_doReset:function(){this._hash=new i.init(o.slice(0))},_doProcessBlock:function(d,f){for(var _=this._hash.words,v=_[0],y=_[1],h=_[2],m=_[3],g=_[4],A=_[5],C=_[6],B=_[7],D=0;D<64;D++){if(D<16)x[D]=d[f+D]|0;else{var R=x[D-15],w=(R<<25|R>>>7)^(R<<14|R>>>18)^R>>>3,E=x[D-2],F=(E<<15|E>>>17)^(E<<13|E>>>19)^E>>>10;x[D]=w+x[D-7]+F+x[D-16]}var I=g&A^~g&C,W=v&y^v&h^y&h,q=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),X=(g<<26|g>>>6)^(g<<21|g>>>11)^(g<<7|g>>>25),ee=B+X+I+u[D]+x[D],Z=q+W;B=C,C=A,A=g,g=m+ee|0,m=h,h=y,y=v,v=ee+Z|0}_[0]=_[0]+v|0,_[1]=_[1]+y|0,_[2]=_[2]+h|0,_[3]=_[3]+m|0,_[4]=_[4]+g|0,_[5]=_[5]+A|0,_[6]=_[6]+C|0,_[7]=_[7]+B|0},_doFinalize:function(){var d=this._data,f=d.words,_=this._nDataBytes*8,v=d.sigBytes*8;return f[v>>>5]|=128<<24-v%32,f[(v+64>>>9<<4)+14]=r.floor(_/4294967296),f[(v+64>>>9<<4)+15]=_,d.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var d=c.clone.call(this);return d._hash=this._hash.clone(),d}});s.SHA256=c._createHelper(l),s.HmacSHA256=c._createHmacHelper(l)}(Math),t.SHA256})}(Yr)),Yr.exports}var Zr={exports:{}},fs;function vc(){return fs||(fs=1,function(n,e){(function(t,r,s){n.exports=r(Y(),f0())})(V,function(t){return function(){var r=t,s=r.lib,a=s.WordArray,i=r.algo,c=i.SHA256,p=i.SHA224=c.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var o=c._doFinalize.call(this);return o.sigBytes-=4,o}});r.SHA224=c._createHelper(p),r.HmacSHA224=c._createHmacHelper(p)}(),t.SHA224})}(Zr)),Zr.exports}var en={exports:{}},xs;function wi(){return xs||(xs=1,function(n,e){(function(t,r,s){n.exports=r(Y(),Sr())})(V,function(t){return function(){var r=t,s=r.lib,a=s.Hasher,i=r.x64,c=i.Word,p=i.WordArray,o=r.algo;function u(){return c.create.apply(c,arguments)}var x=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],l=[];(function(){for(var f=0;f<80;f++)l[f]=u()})();var d=o.SHA512=a.extend({_doReset:function(){this._hash=new p.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(f,_){for(var v=this._hash.words,y=v[0],h=v[1],m=v[2],g=v[3],A=v[4],C=v[5],B=v[6],D=v[7],R=y.high,w=y.low,E=h.high,F=h.low,I=m.high,W=m.low,q=g.high,X=g.low,ee=A.high,Z=A.low,J=C.high,Q=C.low,P=B.high,M=B.low,L=D.high,O=D.low,se=R,te=w,ge=E,G=F,pt=I,et=W,Ir=q,mt=X,ke=ee,ye=Z,Nt=J,vt=Q,Wt=P,gt=M,Pr=L,_t=O,Se=0;Se<80;Se++){var Be,We,qt=l[Se];if(Se<16)We=qt.high=f[_+Se*2]|0,Be=qt.low=f[_+Se*2+1]|0;else{var h0=l[Se-15],tt=h0.high,yt=h0.low,Ci=(tt>>>1|yt<<31)^(tt>>>8|yt<<24)^tt>>>7,p0=(yt>>>1|tt<<31)^(yt>>>8|tt<<24)^(yt>>>7|tt<<25),m0=l[Se-2],rt=m0.high,bt=m0.low,Ei=(rt>>>19|bt<<13)^(rt<<3|bt>>>29)^rt>>>6,v0=(bt>>>19|rt<<13)^(bt<<3|rt>>>29)^(bt>>>6|rt<<26),g0=l[Se-7],Bi=g0.high,Fi=g0.low,_0=l[Se-16],Di=_0.high,y0=_0.low;Be=p0+Fi,We=Ci+Bi+(Be>>>0<p0>>>0?1:0),Be=Be+v0,We=We+Ei+(Be>>>0<v0>>>0?1:0),Be=Be+y0,We=We+Di+(Be>>>0<y0>>>0?1:0),qt.high=We,qt.low=Be}var ki=ke&Nt^~ke&Wt,b0=ye&vt^~ye&gt,Si=se&ge^se&pt^ge&pt,Ri=te&G^te&et^G&et,Ii=(se>>>28|te<<4)^(se<<30|te>>>2)^(se<<25|te>>>7),w0=(te>>>28|se<<4)^(te<<30|se>>>2)^(te<<25|se>>>7),Pi=(ke>>>14|ye<<18)^(ke>>>18|ye<<14)^(ke<<23|ye>>>9),Oi=(ye>>>14|ke<<18)^(ye>>>18|ke<<14)^(ye<<23|ke>>>9),A0=x[Se],Mi=A0.high,C0=A0.low,be=_t+Oi,qe=Pr+Pi+(be>>>0<_t>>>0?1:0),be=be+b0,qe=qe+ki+(be>>>0<b0>>>0?1:0),be=be+C0,qe=qe+Mi+(be>>>0<C0>>>0?1:0),be=be+Be,qe=qe+We+(be>>>0<Be>>>0?1:0),E0=w0+Ri,$i=Ii+Si+(E0>>>0<w0>>>0?1:0);Pr=Wt,_t=gt,Wt=Nt,gt=vt,Nt=ke,vt=ye,ye=mt+be|0,ke=Ir+qe+(ye>>>0<mt>>>0?1:0)|0,Ir=pt,mt=et,pt=ge,et=G,ge=se,G=te,te=be+E0|0,se=qe+$i+(te>>>0<be>>>0?1:0)|0}w=y.low=w+te,y.high=R+se+(w>>>0<te>>>0?1:0),F=h.low=F+G,h.high=E+ge+(F>>>0<G>>>0?1:0),W=m.low=W+et,m.high=I+pt+(W>>>0<et>>>0?1:0),X=g.low=X+mt,g.high=q+Ir+(X>>>0<mt>>>0?1:0),Z=A.low=Z+ye,A.high=ee+ke+(Z>>>0<ye>>>0?1:0),Q=C.low=Q+vt,C.high=J+Nt+(Q>>>0<vt>>>0?1:0),M=B.low=M+gt,B.high=P+Wt+(M>>>0<gt>>>0?1:0),O=D.low=O+_t,D.high=L+Pr+(O>>>0<_t>>>0?1:0)},_doFinalize:function(){var f=this._data,_=f.words,v=this._nDataBytes*8,y=f.sigBytes*8;_[y>>>5]|=128<<24-y%32,_[(y+128>>>10<<5)+30]=Math.floor(v/4294967296),_[(y+128>>>10<<5)+31]=v,f.sigBytes=_.length*4,this._process();var h=this._hash.toX32();return h},clone:function(){var f=a.clone.call(this);return f._hash=this._hash.clone(),f},blockSize:1024/32});r.SHA512=a._createHelper(d),r.HmacSHA512=a._createHmacHelper(d)}(),t.SHA512})}(en)),en.exports}var tn={exports:{}},hs;function gc(){return hs||(hs=1,function(n,e){(function(t,r,s){n.exports=r(Y(),Sr(),wi())})(V,function(t){return function(){var r=t,s=r.x64,a=s.Word,i=s.WordArray,c=r.algo,p=c.SHA512,o=c.SHA384=p.extend({_doReset:function(){this._hash=new i.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var u=p._doFinalize.call(this);return u.sigBytes-=16,u}});r.SHA384=p._createHelper(o),r.HmacSHA384=p._createHmacHelper(o)}(),t.SHA384})}(tn)),tn.exports}var rn={exports:{}},ps;function _c(){return ps||(ps=1,function(n,e){(function(t,r,s){n.exports=r(Y(),Sr())})(V,function(t){return function(r){var s=t,a=s.lib,i=a.WordArray,c=a.Hasher,p=s.x64,o=p.Word,u=s.algo,x=[],l=[],d=[];(function(){for(var v=1,y=0,h=0;h<24;h++){x[v+5*y]=(h+1)*(h+2)/2%64;var m=y%5,g=(2*v+3*y)%5;v=m,y=g}for(var v=0;v<5;v++)for(var y=0;y<5;y++)l[v+5*y]=y+(2*v+3*y)%5*5;for(var A=1,C=0;C<24;C++){for(var B=0,D=0,R=0;R<7;R++){if(A&1){var w=(1<<R)-1;w<32?D^=1<<w:B^=1<<w-32}A&128?A=A<<1^113:A<<=1}d[C]=o.create(B,D)}})();var f=[];(function(){for(var v=0;v<25;v++)f[v]=o.create()})();var _=u.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],y=0;y<25;y++)v[y]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,y){for(var h=this._state,m=this.blockSize/2,g=0;g<m;g++){var A=v[y+2*g],C=v[y+2*g+1];A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360;var B=h[g];B.high^=C,B.low^=A}for(var D=0;D<24;D++){for(var R=0;R<5;R++){for(var w=0,E=0,F=0;F<5;F++){var B=h[R+5*F];w^=B.high,E^=B.low}var I=f[R];I.high=w,I.low=E}for(var R=0;R<5;R++)for(var W=f[(R+4)%5],q=f[(R+1)%5],X=q.high,ee=q.low,w=W.high^(X<<1|ee>>>31),E=W.low^(ee<<1|X>>>31),F=0;F<5;F++){var B=h[R+5*F];B.high^=w,B.low^=E}for(var Z=1;Z<25;Z++){var w,E,B=h[Z],J=B.high,Q=B.low,P=x[Z];P<32?(w=J<<P|Q>>>32-P,E=Q<<P|J>>>32-P):(w=Q<<P-32|J>>>64-P,E=J<<P-32|Q>>>64-P);var M=f[l[Z]];M.high=w,M.low=E}var L=f[0],O=h[0];L.high=O.high,L.low=O.low;for(var R=0;R<5;R++)for(var F=0;F<5;F++){var Z=R+5*F,B=h[Z],se=f[Z],te=f[(R+1)%5+5*F],ge=f[(R+2)%5+5*F];B.high=se.high^~te.high&ge.high,B.low=se.low^~te.low&ge.low}var B=h[0],G=d[D];B.high^=G.high,B.low^=G.low}},_doFinalize:function(){var v=this._data,y=v.words;this._nDataBytes*8;var h=v.sigBytes*8,m=this.blockSize*32;y[h>>>5]|=1<<24-h%32,y[(r.ceil((h+1)/m)*m>>>5)-1]|=128,v.sigBytes=y.length*4,this._process();for(var g=this._state,A=this.cfg.outputLength/8,C=A/8,B=[],D=0;D<C;D++){var R=g[D],w=R.high,E=R.low;w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,B.push(E),B.push(w)}return new i.init(B,A)},clone:function(){for(var v=c.clone.call(this),y=v._state=this._state.slice(0),h=0;h<25;h++)y[h]=y[h].clone();return v}});s.SHA3=c._createHelper(_),s.HmacSHA3=c._createHmacHelper(_)}(Math),t.SHA3})}(rn)),rn.exports}var nn={exports:{}},ms;function yc(){return ms||(ms=1,function(n,e){(function(t,r){n.exports=r(Y())})(V,function(t){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var s=t,a=s.lib,i=a.WordArray,c=a.Hasher,p=s.algo,o=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),x=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),f=i.create([1352829926,1548603684,1836072691,2053994217,0]),_=p.RIPEMD160=c.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(C,B){for(var D=0;D<16;D++){var R=B+D,w=C[R];C[R]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var E=this._hash.words,F=d.words,I=f.words,W=o.words,q=u.words,X=x.words,ee=l.words,Z,J,Q,P,M,L,O,se,te,ge;L=Z=E[0],O=J=E[1],se=Q=E[2],te=P=E[3],ge=M=E[4];for(var G,D=0;D<80;D+=1)G=Z+C[B+W[D]]|0,D<16?G+=v(J,Q,P)+F[0]:D<32?G+=y(J,Q,P)+F[1]:D<48?G+=h(J,Q,P)+F[2]:D<64?G+=m(J,Q,P)+F[3]:G+=g(J,Q,P)+F[4],G=G|0,G=A(G,X[D]),G=G+M|0,Z=M,M=P,P=A(Q,10),Q=J,J=G,G=L+C[B+q[D]]|0,D<16?G+=g(O,se,te)+I[0]:D<32?G+=m(O,se,te)+I[1]:D<48?G+=h(O,se,te)+I[2]:D<64?G+=y(O,se,te)+I[3]:G+=v(O,se,te)+I[4],G=G|0,G=A(G,ee[D]),G=G+ge|0,L=ge,ge=te,te=A(se,10),se=O,O=G;G=E[1]+Q+te|0,E[1]=E[2]+P+ge|0,E[2]=E[3]+M+L|0,E[3]=E[4]+Z+O|0,E[4]=E[0]+J+se|0,E[0]=G},_doFinalize:function(){var C=this._data,B=C.words,D=this._nDataBytes*8,R=C.sigBytes*8;B[R>>>5]|=128<<24-R%32,B[(R+64>>>9<<4)+14]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,C.sigBytes=(B.length+1)*4,this._process();for(var w=this._hash,E=w.words,F=0;F<5;F++){var I=E[F];E[F]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}return w},clone:function(){var C=c.clone.call(this);return C._hash=this._hash.clone(),C}});function v(C,B,D){return C^B^D}function y(C,B,D){return C&B|~C&D}function h(C,B,D){return(C|~B)^D}function m(C,B,D){return C&D|B&~D}function g(C,B,D){return C^(B|~D)}function A(C,B){return C<<B|C>>>32-B}s.RIPEMD160=c._createHelper(_),s.HmacRIPEMD160=c._createHmacHelper(_)}(),t.RIPEMD160})}(nn)),nn.exports}var sn={exports:{}},vs;function x0(){return vs||(vs=1,function(n,e){(function(t,r){n.exports=r(Y())})(V,function(t){(function(){var r=t,s=r.lib,a=s.Base,i=r.enc,c=i.Utf8,p=r.algo;p.HMAC=a.extend({init:function(o,u){o=this._hasher=new o.init,typeof u=="string"&&(u=c.parse(u));var x=o.blockSize,l=x*4;u.sigBytes>l&&(u=o.finalize(u)),u.clamp();for(var d=this._oKey=u.clone(),f=this._iKey=u.clone(),_=d.words,v=f.words,y=0;y<x;y++)_[y]^=1549556828,v[y]^=909522486;d.sigBytes=f.sigBytes=l,this.reset()},reset:function(){var o=this._hasher;o.reset(),o.update(this._iKey)},update:function(o){return this._hasher.update(o),this},finalize:function(o){var u=this._hasher,x=u.finalize(o);u.reset();var l=u.finalize(this._oKey.clone().concat(x));return l}})})()})}(sn)),sn.exports}var an={exports:{}},gs;function bc(){return gs||(gs=1,function(n,e){(function(t,r,s){n.exports=r(Y(),f0(),x0())})(V,function(t){return function(){var r=t,s=r.lib,a=s.Base,i=s.WordArray,c=r.algo,p=c.SHA256,o=c.HMAC,u=c.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:p,iterations:25e4}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,l){for(var d=this.cfg,f=o.create(d.hasher,x),_=i.create(),v=i.create([1]),y=_.words,h=v.words,m=d.keySize,g=d.iterations;y.length<m;){var A=f.update(l).finalize(v);f.reset();for(var C=A.words,B=C.length,D=A,R=1;R<g;R++){D=f.finalize(D),f.reset();for(var w=D.words,E=0;E<B;E++)C[E]^=w[E]}_.concat(A),h[0]++}return _.sigBytes=m*4,_}});r.PBKDF2=function(x,l,d){return u.create(d).compute(x,l)}}(),t.PBKDF2})}(an)),an.exports}var on={exports:{}},_s;function Xe(){return _s||(_s=1,function(n,e){(function(t,r,s){n.exports=r(Y(),bi(),x0())})(V,function(t){return function(){var r=t,s=r.lib,a=s.Base,i=s.WordArray,c=r.algo,p=c.MD5,o=c.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:p,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,x){for(var l,d=this.cfg,f=d.hasher.create(),_=i.create(),v=_.words,y=d.keySize,h=d.iterations;v.length<y;){l&&f.update(l),l=f.update(u).finalize(x),f.reset();for(var m=1;m<h;m++)l=f.finalize(l),f.reset();_.concat(l)}return _.sigBytes=y*4,_}});r.EvpKDF=function(u,x,l){return o.create(l).compute(u,x)}}(),t.EvpKDF})}(on)),on.exports}var cn={exports:{}},ys;function de(){return ys||(ys=1,function(n,e){(function(t,r,s){n.exports=r(Y(),Xe())})(V,function(t){t.lib.Cipher||function(r){var s=t,a=s.lib,i=a.Base,c=a.WordArray,p=a.BufferedBlockAlgorithm,o=s.enc;o.Utf8;var u=o.Base64,x=s.algo,l=x.EvpKDF,d=a.Cipher=p.extend({cfg:i.extend(),createEncryptor:function(w,E){return this.create(this._ENC_XFORM_MODE,w,E)},createDecryptor:function(w,E){return this.create(this._DEC_XFORM_MODE,w,E)},init:function(w,E,F){this.cfg=this.cfg.extend(F),this._xformMode=w,this._key=E,this.reset()},reset:function(){p.reset.call(this),this._doReset()},process:function(w){return this._append(w),this._process()},finalize:function(w){w&&this._append(w);var E=this._doFinalize();return E},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function w(E){return typeof E=="string"?R:C}return function(E){return{encrypt:function(F,I,W){return w(I).encrypt(E,F,I,W)},decrypt:function(F,I,W){return w(I).decrypt(E,F,I,W)}}}}()});a.StreamCipher=d.extend({_doFinalize:function(){var w=this._process(!0);return w},blockSize:1});var f=s.mode={},_=a.BlockCipherMode=i.extend({createEncryptor:function(w,E){return this.Encryptor.create(w,E)},createDecryptor:function(w,E){return this.Decryptor.create(w,E)},init:function(w,E){this._cipher=w,this._iv=E}}),v=f.CBC=function(){var w=_.extend();w.Encryptor=w.extend({processBlock:function(F,I){var W=this._cipher,q=W.blockSize;E.call(this,F,I,q),W.encryptBlock(F,I),this._prevBlock=F.slice(I,I+q)}}),w.Decryptor=w.extend({processBlock:function(F,I){var W=this._cipher,q=W.blockSize,X=F.slice(I,I+q);W.decryptBlock(F,I),E.call(this,F,I,q),this._prevBlock=X}});function E(F,I,W){var q,X=this._iv;X?(q=X,this._iv=r):q=this._prevBlock;for(var ee=0;ee<W;ee++)F[I+ee]^=q[ee]}return w}(),y=s.pad={},h=y.Pkcs7={pad:function(w,E){for(var F=E*4,I=F-w.sigBytes%F,W=I<<24|I<<16|I<<8|I,q=[],X=0;X<I;X+=4)q.push(W);var ee=c.create(q,I);w.concat(ee)},unpad:function(w){var E=w.words[w.sigBytes-1>>>2]&255;w.sigBytes-=E}};a.BlockCipher=d.extend({cfg:d.cfg.extend({mode:v,padding:h}),reset:function(){var w;d.reset.call(this);var E=this.cfg,F=E.iv,I=E.mode;this._xformMode==this._ENC_XFORM_MODE?w=I.createEncryptor:(w=I.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==w?this._mode.init(this,F&&F.words):(this._mode=w.call(I,this,F&&F.words),this._mode.__creator=w)},_doProcessBlock:function(w,E){this._mode.processBlock(w,E)},_doFinalize:function(){var w,E=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(E.pad(this._data,this.blockSize),w=this._process(!0)):(w=this._process(!0),E.unpad(w)),w},blockSize:128/32});var m=a.CipherParams=i.extend({init:function(w){this.mixIn(w)},toString:function(w){return(w||this.formatter).stringify(this)}}),g=s.format={},A=g.OpenSSL={stringify:function(w){var E,F=w.ciphertext,I=w.salt;return I?E=c.create([1398893684,1701076831]).concat(I).concat(F):E=F,E.toString(u)},parse:function(w){var E,F=u.parse(w),I=F.words;return I[0]==1398893684&&I[1]==1701076831&&(E=c.create(I.slice(2,4)),I.splice(0,4),F.sigBytes-=16),m.create({ciphertext:F,salt:E})}},C=a.SerializableCipher=i.extend({cfg:i.extend({format:A}),encrypt:function(w,E,F,I){I=this.cfg.extend(I);var W=w.createEncryptor(F,I),q=W.finalize(E),X=W.cfg;return m.create({ciphertext:q,key:F,iv:X.iv,algorithm:w,mode:X.mode,padding:X.padding,blockSize:w.blockSize,formatter:I.format})},decrypt:function(w,E,F,I){I=this.cfg.extend(I),E=this._parse(E,I.format);var W=w.createDecryptor(F,I).finalize(E.ciphertext);return W},_parse:function(w,E){return typeof w=="string"?E.parse(w,this):w}}),B=s.kdf={},D=B.OpenSSL={execute:function(w,E,F,I,W){if(I||(I=c.random(64/8)),W)var q=l.create({keySize:E+F,hasher:W}).compute(w,I);else var q=l.create({keySize:E+F}).compute(w,I);var X=c.create(q.words.slice(E),F*4);return q.sigBytes=E*4,m.create({key:q,iv:X,salt:I})}},R=a.PasswordBasedCipher=C.extend({cfg:C.cfg.extend({kdf:D}),encrypt:function(w,E,F,I){I=this.cfg.extend(I);var W=I.kdf.execute(F,w.keySize,w.ivSize,I.salt,I.hasher);I.iv=W.iv;var q=C.encrypt.call(this,w,E,W.key,I);return q.mixIn(W),q},decrypt:function(w,E,F,I){I=this.cfg.extend(I),E=this._parse(E,I.format);var W=I.kdf.execute(F,w.keySize,w.ivSize,E.salt,I.hasher);I.iv=W.iv;var q=C.decrypt.call(this,w,E,W.key,I);return q}})}()})}(cn)),cn.exports}var ln={exports:{}},bs;function wc(){return bs||(bs=1,function(n,e){(function(t,r,s){n.exports=r(Y(),de())})(V,function(t){return t.mode.CFB=function(){var r=t.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(a,i){var c=this._cipher,p=c.blockSize;s.call(this,a,i,p,c),this._prevBlock=a.slice(i,i+p)}}),r.Decryptor=r.extend({processBlock:function(a,i){var c=this._cipher,p=c.blockSize,o=a.slice(i,i+p);s.call(this,a,i,p,c),this._prevBlock=o}});function s(a,i,c,p){var o,u=this._iv;u?(o=u.slice(0),this._iv=void 0):o=this._prevBlock,p.encryptBlock(o,0);for(var x=0;x<c;x++)a[i+x]^=o[x]}return r}(),t.mode.CFB})}(ln)),ln.exports}var un={exports:{}},ws;function Ac(){return ws||(ws=1,function(n,e){(function(t,r,s){n.exports=r(Y(),de())})(V,function(t){return t.mode.CTR=function(){var r=t.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(a,i){var c=this._cipher,p=c.blockSize,o=this._iv,u=this._counter;o&&(u=this._counter=o.slice(0),this._iv=void 0);var x=u.slice(0);c.encryptBlock(x,0),u[p-1]=u[p-1]+1|0;for(var l=0;l<p;l++)a[i+l]^=x[l]}});return r.Decryptor=s,r}(),t.mode.CTR})}(un)),un.exports}var dn={exports:{}},As;function Cc(){return As||(As=1,function(n,e){(function(t,r,s){n.exports=r(Y(),de())})(V,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var r=t.lib.BlockCipherMode.extend();function s(c){if((c>>24&255)===255){var p=c>>16&255,o=c>>8&255,u=c&255;p===255?(p=0,o===255?(o=0,u===255?u=0:++u):++o):++p,c=0,c+=p<<16,c+=o<<8,c+=u}else c+=1<<24;return c}function a(c){return(c[0]=s(c[0]))===0&&(c[1]=s(c[1])),c}var i=r.Encryptor=r.extend({processBlock:function(c,p){var o=this._cipher,u=o.blockSize,x=this._iv,l=this._counter;x&&(l=this._counter=x.slice(0),this._iv=void 0),a(l);var d=l.slice(0);o.encryptBlock(d,0);for(var f=0;f<u;f++)c[p+f]^=d[f]}});return r.Decryptor=i,r}(),t.mode.CTRGladman})}(dn)),dn.exports}var fn={exports:{}},Cs;function Ec(){return Cs||(Cs=1,function(n,e){(function(t,r,s){n.exports=r(Y(),de())})(V,function(t){return t.mode.OFB=function(){var r=t.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(a,i){var c=this._cipher,p=c.blockSize,o=this._iv,u=this._keystream;o&&(u=this._keystream=o.slice(0),this._iv=void 0),c.encryptBlock(u,0);for(var x=0;x<p;x++)a[i+x]^=u[x]}});return r.Decryptor=s,r}(),t.mode.OFB})}(fn)),fn.exports}var xn={exports:{}},Es;function Bc(){return Es||(Es=1,function(n,e){(function(t,r,s){n.exports=r(Y(),de())})(V,function(t){return t.mode.ECB=function(){var r=t.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(s,a){this._cipher.encryptBlock(s,a)}}),r.Decryptor=r.extend({processBlock:function(s,a){this._cipher.decryptBlock(s,a)}}),r}(),t.mode.ECB})}(xn)),xn.exports}var hn={exports:{}},Bs;function Fc(){return Bs||(Bs=1,function(n,e){(function(t,r,s){n.exports=r(Y(),de())})(V,function(t){return t.pad.AnsiX923={pad:function(r,s){var a=r.sigBytes,i=s*4,c=i-a%i,p=a+c-1;r.clamp(),r.words[p>>>2]|=c<<24-p%4*8,r.sigBytes+=c},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},t.pad.Ansix923})}(hn)),hn.exports}var pn={exports:{}},Fs;function Dc(){return Fs||(Fs=1,function(n,e){(function(t,r,s){n.exports=r(Y(),de())})(V,function(t){return t.pad.Iso10126={pad:function(r,s){var a=s*4,i=a-r.sigBytes%a;r.concat(t.lib.WordArray.random(i-1)).concat(t.lib.WordArray.create([i<<24],1))},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},t.pad.Iso10126})}(pn)),pn.exports}var mn={exports:{}},Ds;function kc(){return Ds||(Ds=1,function(n,e){(function(t,r,s){n.exports=r(Y(),de())})(V,function(t){return t.pad.Iso97971={pad:function(r,s){r.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(r,s)},unpad:function(r){t.pad.ZeroPadding.unpad(r),r.sigBytes--}},t.pad.Iso97971})}(mn)),mn.exports}var vn={exports:{}},ks;function Sc(){return ks||(ks=1,function(n,e){(function(t,r,s){n.exports=r(Y(),de())})(V,function(t){return t.pad.ZeroPadding={pad:function(r,s){var a=s*4;r.clamp(),r.sigBytes+=a-(r.sigBytes%a||a)},unpad:function(r){for(var s=r.words,a=r.sigBytes-1,a=r.sigBytes-1;a>=0;a--)if(s[a>>>2]>>>24-a%4*8&255){r.sigBytes=a+1;break}}},t.pad.ZeroPadding})}(vn)),vn.exports}var gn={exports:{}},Ss;function Rc(){return Ss||(Ss=1,function(n,e){(function(t,r,s){n.exports=r(Y(),de())})(V,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})}(gn)),gn.exports}var _n={exports:{}},Rs;function Ic(){return Rs||(Rs=1,function(n,e){(function(t,r,s){n.exports=r(Y(),de())})(V,function(t){return function(r){var s=t,a=s.lib,i=a.CipherParams,c=s.enc,p=c.Hex,o=s.format;o.Hex={stringify:function(u){return u.ciphertext.toString(p)},parse:function(u){var x=p.parse(u);return i.create({ciphertext:x})}}}(),t.format.Hex})}(_n)),_n.exports}var yn={exports:{}},Is;function Pc(){return Is||(Is=1,function(n,e){(function(t,r,s){n.exports=r(Y(),Ye(),Ze(),Xe(),de())})(V,function(t){return function(){var r=t,s=r.lib,a=s.BlockCipher,i=r.algo,c=[],p=[],o=[],u=[],x=[],l=[],d=[],f=[],_=[],v=[];(function(){for(var m=[],g=0;g<256;g++)g<128?m[g]=g<<1:m[g]=g<<1^283;for(var A=0,C=0,g=0;g<256;g++){var B=C^C<<1^C<<2^C<<3^C<<4;B=B>>>8^B&255^99,c[A]=B,p[B]=A;var D=m[A],R=m[D],w=m[R],E=m[B]*257^B*16843008;o[A]=E<<24|E>>>8,u[A]=E<<16|E>>>16,x[A]=E<<8|E>>>24,l[A]=E;var E=w*16843009^R*65537^D*257^A*16843008;d[B]=E<<24|E>>>8,f[B]=E<<16|E>>>16,_[B]=E<<8|E>>>24,v[B]=E,A?(A=D^m[m[m[w^D]]],C^=m[m[C]]):A=C=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],h=i.AES=a.extend({_doReset:function(){var m;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var g=this._keyPriorReset=this._key,A=g.words,C=g.sigBytes/4,B=this._nRounds=C+6,D=(B+1)*4,R=this._keySchedule=[],w=0;w<D;w++)w<C?R[w]=A[w]:(m=R[w-1],w%C?C>6&&w%C==4&&(m=c[m>>>24]<<24|c[m>>>16&255]<<16|c[m>>>8&255]<<8|c[m&255]):(m=m<<8|m>>>24,m=c[m>>>24]<<24|c[m>>>16&255]<<16|c[m>>>8&255]<<8|c[m&255],m^=y[w/C|0]<<24),R[w]=R[w-C]^m);for(var E=this._invKeySchedule=[],F=0;F<D;F++){var w=D-F;if(F%4)var m=R[w];else var m=R[w-4];F<4||w<=4?E[F]=m:E[F]=d[c[m>>>24]]^f[c[m>>>16&255]]^_[c[m>>>8&255]]^v[c[m&255]]}}},encryptBlock:function(m,g){this._doCryptBlock(m,g,this._keySchedule,o,u,x,l,c)},decryptBlock:function(m,g){var A=m[g+1];m[g+1]=m[g+3],m[g+3]=A,this._doCryptBlock(m,g,this._invKeySchedule,d,f,_,v,p);var A=m[g+1];m[g+1]=m[g+3],m[g+3]=A},_doCryptBlock:function(m,g,A,C,B,D,R,w){for(var E=this._nRounds,F=m[g]^A[0],I=m[g+1]^A[1],W=m[g+2]^A[2],q=m[g+3]^A[3],X=4,ee=1;ee<E;ee++){var Z=C[F>>>24]^B[I>>>16&255]^D[W>>>8&255]^R[q&255]^A[X++],J=C[I>>>24]^B[W>>>16&255]^D[q>>>8&255]^R[F&255]^A[X++],Q=C[W>>>24]^B[q>>>16&255]^D[F>>>8&255]^R[I&255]^A[X++],P=C[q>>>24]^B[F>>>16&255]^D[I>>>8&255]^R[W&255]^A[X++];F=Z,I=J,W=Q,q=P}var Z=(w[F>>>24]<<24|w[I>>>16&255]<<16|w[W>>>8&255]<<8|w[q&255])^A[X++],J=(w[I>>>24]<<24|w[W>>>16&255]<<16|w[q>>>8&255]<<8|w[F&255])^A[X++],Q=(w[W>>>24]<<24|w[q>>>16&255]<<16|w[F>>>8&255]<<8|w[I&255])^A[X++],P=(w[q>>>24]<<24|w[F>>>16&255]<<16|w[I>>>8&255]<<8|w[W&255])^A[X++];m[g]=Z,m[g+1]=J,m[g+2]=Q,m[g+3]=P},keySize:256/32});r.AES=a._createHelper(h)}(),t.AES})}(yn)),yn.exports}var bn={exports:{}},Ps;function Oc(){return Ps||(Ps=1,function(n,e){(function(t,r,s){n.exports=r(Y(),Ye(),Ze(),Xe(),de())})(V,function(t){return function(){var r=t,s=r.lib,a=s.WordArray,i=s.BlockCipher,c=r.algo,p=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],x=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=c.DES=i.extend({_doReset:function(){for(var y=this._key,h=y.words,m=[],g=0;g<56;g++){var A=p[g]-1;m[g]=h[A>>>5]>>>31-A%32&1}for(var C=this._subKeys=[],B=0;B<16;B++){for(var D=C[B]=[],R=u[B],g=0;g<24;g++)D[g/6|0]|=m[(o[g]-1+R)%28]<<31-g%6,D[4+(g/6|0)]|=m[28+(o[g+24]-1+R)%28]<<31-g%6;D[0]=D[0]<<1|D[0]>>>31;for(var g=1;g<7;g++)D[g]=D[g]>>>(g-1)*4+3;D[7]=D[7]<<5|D[7]>>>27}for(var w=this._invSubKeys=[],g=0;g<16;g++)w[g]=C[15-g]},encryptBlock:function(y,h){this._doCryptBlock(y,h,this._subKeys)},decryptBlock:function(y,h){this._doCryptBlock(y,h,this._invSubKeys)},_doCryptBlock:function(y,h,m){this._lBlock=y[h],this._rBlock=y[h+1],f.call(this,4,252645135),f.call(this,16,65535),_.call(this,2,858993459),_.call(this,8,16711935),f.call(this,1,1431655765);for(var g=0;g<16;g++){for(var A=m[g],C=this._lBlock,B=this._rBlock,D=0,R=0;R<8;R++)D|=x[R][((B^A[R])&l[R])>>>0];this._lBlock=B,this._rBlock=C^D}var w=this._lBlock;this._lBlock=this._rBlock,this._rBlock=w,f.call(this,1,1431655765),_.call(this,8,16711935),_.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),y[h]=this._lBlock,y[h+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function f(y,h){var m=(this._lBlock>>>y^this._rBlock)&h;this._rBlock^=m,this._lBlock^=m<<y}function _(y,h){var m=(this._rBlock>>>y^this._lBlock)&h;this._lBlock^=m,this._rBlock^=m<<y}r.DES=i._createHelper(d);var v=c.TripleDES=i.extend({_doReset:function(){var y=this._key,h=y.words;if(h.length!==2&&h.length!==4&&h.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var m=h.slice(0,2),g=h.length<4?h.slice(0,2):h.slice(2,4),A=h.length<6?h.slice(0,2):h.slice(4,6);this._des1=d.createEncryptor(a.create(m)),this._des2=d.createEncryptor(a.create(g)),this._des3=d.createEncryptor(a.create(A))},encryptBlock:function(y,h){this._des1.encryptBlock(y,h),this._des2.decryptBlock(y,h),this._des3.encryptBlock(y,h)},decryptBlock:function(y,h){this._des3.decryptBlock(y,h),this._des2.encryptBlock(y,h),this._des1.decryptBlock(y,h)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=i._createHelper(v)}(),t.TripleDES})}(bn)),bn.exports}var wn={exports:{}},Os;function Mc(){return Os||(Os=1,function(n,e){(function(t,r,s){n.exports=r(Y(),Ye(),Ze(),Xe(),de())})(V,function(t){return function(){var r=t,s=r.lib,a=s.StreamCipher,i=r.algo,c=i.RC4=a.extend({_doReset:function(){for(var u=this._key,x=u.words,l=u.sigBytes,d=this._S=[],f=0;f<256;f++)d[f]=f;for(var f=0,_=0;f<256;f++){var v=f%l,y=x[v>>>2]>>>24-v%4*8&255;_=(_+d[f]+y)%256;var h=d[f];d[f]=d[_],d[_]=h}this._i=this._j=0},_doProcessBlock:function(u,x){u[x]^=p.call(this)},keySize:256/32,ivSize:0});function p(){for(var u=this._S,x=this._i,l=this._j,d=0,f=0;f<4;f++){x=(x+1)%256,l=(l+u[x])%256;var _=u[x];u[x]=u[l],u[l]=_,d|=u[(u[x]+u[l])%256]<<24-f*8}return this._i=x,this._j=l,d}r.RC4=a._createHelper(c);var o=i.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)p.call(this)}});r.RC4Drop=a._createHelper(o)}(),t.RC4})}(wn)),wn.exports}var An={exports:{}},Ms;function $c(){return Ms||(Ms=1,function(n,e){(function(t,r,s){n.exports=r(Y(),Ye(),Ze(),Xe(),de())})(V,function(t){return function(){var r=t,s=r.lib,a=s.StreamCipher,i=r.algo,c=[],p=[],o=[],u=i.Rabbit=a.extend({_doReset:function(){for(var l=this._key.words,d=this.cfg.iv,f=0;f<4;f++)l[f]=(l[f]<<8|l[f]>>>24)&16711935|(l[f]<<24|l[f]>>>8)&4278255360;var _=this._X=[l[0],l[3]<<16|l[2]>>>16,l[1],l[0]<<16|l[3]>>>16,l[2],l[1]<<16|l[0]>>>16,l[3],l[2]<<16|l[1]>>>16],v=this._C=[l[2]<<16|l[2]>>>16,l[0]&4294901760|l[1]&65535,l[3]<<16|l[3]>>>16,l[1]&4294901760|l[2]&65535,l[0]<<16|l[0]>>>16,l[2]&4294901760|l[3]&65535,l[1]<<16|l[1]>>>16,l[3]&4294901760|l[0]&65535];this._b=0;for(var f=0;f<4;f++)x.call(this);for(var f=0;f<8;f++)v[f]^=_[f+4&7];if(d){var y=d.words,h=y[0],m=y[1],g=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,A=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,C=g>>>16|A&4294901760,B=A<<16|g&65535;v[0]^=g,v[1]^=C,v[2]^=A,v[3]^=B,v[4]^=g,v[5]^=C,v[6]^=A,v[7]^=B;for(var f=0;f<4;f++)x.call(this)}},_doProcessBlock:function(l,d){var f=this._X;x.call(this),c[0]=f[0]^f[5]>>>16^f[3]<<16,c[1]=f[2]^f[7]>>>16^f[5]<<16,c[2]=f[4]^f[1]>>>16^f[7]<<16,c[3]=f[6]^f[3]>>>16^f[1]<<16;for(var _=0;_<4;_++)c[_]=(c[_]<<8|c[_]>>>24)&16711935|(c[_]<<24|c[_]>>>8)&4278255360,l[d+_]^=c[_]},blockSize:128/32,ivSize:64/32});function x(){for(var l=this._X,d=this._C,f=0;f<8;f++)p[f]=d[f];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<p[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<p[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<p[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<p[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<p[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<p[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<p[6]>>>0?1:0)|0,this._b=d[7]>>>0<p[7]>>>0?1:0;for(var f=0;f<8;f++){var _=l[f]+d[f],v=_&65535,y=_>>>16,h=((v*v>>>17)+v*y>>>15)+y*y,m=((_&4294901760)*_|0)+((_&65535)*_|0);o[f]=h^m}l[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,l[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,l[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,l[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,l[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,l[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,l[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,l[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}r.Rabbit=a._createHelper(u)}(),t.Rabbit})}(An)),An.exports}var Cn={exports:{}},$s;function Tc(){return $s||($s=1,function(n,e){(function(t,r,s){n.exports=r(Y(),Ye(),Ze(),Xe(),de())})(V,function(t){return function(){var r=t,s=r.lib,a=s.StreamCipher,i=r.algo,c=[],p=[],o=[],u=i.RabbitLegacy=a.extend({_doReset:function(){var l=this._key.words,d=this.cfg.iv,f=this._X=[l[0],l[3]<<16|l[2]>>>16,l[1],l[0]<<16|l[3]>>>16,l[2],l[1]<<16|l[0]>>>16,l[3],l[2]<<16|l[1]>>>16],_=this._C=[l[2]<<16|l[2]>>>16,l[0]&4294901760|l[1]&65535,l[3]<<16|l[3]>>>16,l[1]&4294901760|l[2]&65535,l[0]<<16|l[0]>>>16,l[2]&4294901760|l[3]&65535,l[1]<<16|l[1]>>>16,l[3]&4294901760|l[0]&65535];this._b=0;for(var v=0;v<4;v++)x.call(this);for(var v=0;v<8;v++)_[v]^=f[v+4&7];if(d){var y=d.words,h=y[0],m=y[1],g=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,A=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,C=g>>>16|A&4294901760,B=A<<16|g&65535;_[0]^=g,_[1]^=C,_[2]^=A,_[3]^=B,_[4]^=g,_[5]^=C,_[6]^=A,_[7]^=B;for(var v=0;v<4;v++)x.call(this)}},_doProcessBlock:function(l,d){var f=this._X;x.call(this),c[0]=f[0]^f[5]>>>16^f[3]<<16,c[1]=f[2]^f[7]>>>16^f[5]<<16,c[2]=f[4]^f[1]>>>16^f[7]<<16,c[3]=f[6]^f[3]>>>16^f[1]<<16;for(var _=0;_<4;_++)c[_]=(c[_]<<8|c[_]>>>24)&16711935|(c[_]<<24|c[_]>>>8)&4278255360,l[d+_]^=c[_]},blockSize:128/32,ivSize:64/32});function x(){for(var l=this._X,d=this._C,f=0;f<8;f++)p[f]=d[f];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<p[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<p[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<p[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<p[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<p[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<p[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<p[6]>>>0?1:0)|0,this._b=d[7]>>>0<p[7]>>>0?1:0;for(var f=0;f<8;f++){var _=l[f]+d[f],v=_&65535,y=_>>>16,h=((v*v>>>17)+v*y>>>15)+y*y,m=((_&4294901760)*_|0)+((_&65535)*_|0);o[f]=h^m}l[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,l[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,l[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,l[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,l[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,l[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,l[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,l[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}r.RabbitLegacy=a._createHelper(u)}(),t.RabbitLegacy})}(Cn)),Cn.exports}var En={exports:{}},Ts;function Lc(){return Ts||(Ts=1,function(n,e){(function(t,r,s){n.exports=r(Y(),Ye(),Ze(),Xe(),de())})(V,function(t){return function(){var r=t,s=r.lib,a=s.BlockCipher,i=r.algo;const c=16,p=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],o=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function x(v,y){let h=y>>24&255,m=y>>16&255,g=y>>8&255,A=y&255,C=v.sbox[0][h]+v.sbox[1][m];return C=C^v.sbox[2][g],C=C+v.sbox[3][A],C}function l(v,y,h){let m=y,g=h,A;for(let C=0;C<c;++C)m=m^v.pbox[C],g=x(v,m)^g,A=m,m=g,g=A;return A=m,m=g,g=A,g=g^v.pbox[c],m=m^v.pbox[c+1],{left:m,right:g}}function d(v,y,h){let m=y,g=h,A;for(let C=c+1;C>1;--C)m=m^v.pbox[C],g=x(v,m)^g,A=m,m=g,g=A;return A=m,m=g,g=A,g=g^v.pbox[1],m=m^v.pbox[0],{left:m,right:g}}function f(v,y,h){for(let B=0;B<4;B++){v.sbox[B]=[];for(let D=0;D<256;D++)v.sbox[B][D]=o[B][D]}let m=0;for(let B=0;B<c+2;B++)v.pbox[B]=p[B]^y[m],m++,m>=h&&(m=0);let g=0,A=0,C=0;for(let B=0;B<c+2;B+=2)C=l(v,g,A),g=C.left,A=C.right,v.pbox[B]=g,v.pbox[B+1]=A;for(let B=0;B<4;B++)for(let D=0;D<256;D+=2)C=l(v,g,A),g=C.left,A=C.right,v.sbox[B][D]=g,v.sbox[B][D+1]=A;return!0}var _=i.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,y=v.words,h=v.sigBytes/4;f(u,y,h)}},encryptBlock:function(v,y){var h=l(u,v[y],v[y+1]);v[y]=h.left,v[y+1]=h.right},decryptBlock:function(v,y){var h=d(u,v[y],v[y+1]);v[y]=h.left,v[y+1]=h.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=a._createHelper(_)}(),t.Blowfish})}(En)),En.exports}(function(n,e){(function(t,r,s){n.exports=r(Y(),Sr(),hc(),pc(),Ye(),mc(),Ze(),bi(),f0(),vc(),wi(),gc(),_c(),yc(),x0(),bc(),Xe(),de(),wc(),Ac(),Cc(),Ec(),Bc(),Fc(),Dc(),kc(),Sc(),Rc(),Ic(),Pc(),Oc(),Mc(),$c(),Tc(),Lc())})(V,function(t){return t})})(yi);var Hc=yi.exports;const Nc=Gi(Hc),Bn=qn.createInstance({name:"number-prediction-auth",storeName:"auth-data"}),Ls={username:"Admin",encryptedPassword:"708900635dc8eb8bfa28ec1aeefb8e738d9c2d687ebe6e483ca7ec4916ebadc9"},Hs={autoLoginDuration:7*24*60*60*1e3,passwordSalt:"number_prediction_system_2024"};class Wc{constructor(){this.isLoggedIn=!1,this.currentUser=null,this.loginExpiry=null,this.init()}init(){return $(this,null,function*(){try{const e=yield Bn.getItem("auth_state");e&&this.isValidAuthData(e)&&(this.isLoggedIn=!0,this.currentUser=e.user,this.loginExpiry=e.expiry,Date.now()>this.loginExpiry&&(yield this.logout()))}catch(e){console.error(":",e),this.isLoggedIn=!1,this.currentUser=null}})}isValidAuthData(e){return e&&e.user&&e.expiry&&e.timestamp&&typeof e.expiry=="number"}encryptPassword(e){return Nc.SHA256(e+Hs.passwordSalt).toString()}login(e,t,r=!0){return $(this,null,function*(){try{if(e!==Ls.username)throw new Error("");if(this.encryptPassword(t)!==Ls.encryptedPassword)throw new Error("");this.isLoggedIn=!0,this.currentUser={username:e,loginTime:new Date().toISOString()},r?this.loginExpiry=Date.now()+Hs.autoLoginDuration:this.loginExpiry=Date.now()+24*60*60*1e3;const a={user:this.currentUser,expiry:this.loginExpiry,timestamp:Date.now()};return yield Bn.setItem("auth_state",a),{success:!0,user:this.currentUser,expiry:this.loginExpiry}}catch(s){return this.isLoggedIn=!1,this.currentUser=null,this.loginExpiry=null,{success:!1,error:s.message}}})}logout(){return $(this,null,function*(){try{return this.isLoggedIn=!1,this.currentUser=null,this.loginExpiry=null,yield Bn.removeItem("auth_state"),{success:!0}}catch(e){return console.error(":",e),{success:!1,error:e.message}}})}checkLoginStatus(){return!this.isLoggedIn||!this.loginExpiry?!1:Date.now()>this.loginExpiry?(this.logout(),!1):!0}getCurrentUser(){return this.checkLoginStatus()?this.currentUser:null}getRemainingLoginTime(){return this.checkLoginStatus()?this.loginExpiry-Date.now():0}formatRemainingTime(){const e=this.getRemainingLoginTime();if(e<=0)return"";const t=Math.floor(e/(24*60*60*1e3)),r=Math.floor(e%(24*60*60*1e3)/(60*60*1e3));return t>0?`${t}${r}`:r>0?`${r}`:`${Math.floor(e%36e5/6e4)}`}}const Fe=new Wc;function qc(n){const e=["/","/ai-prediction","/betting-records","/number-extraction","/four-code-maintenance","/kill-code-maintenance","/five-code-maintenance","/code-maintenance","/match-four-code-by-danma","/advanced-prediction","/kill-two-code-maintenance","/data-recovery","/advanced-data-recovery","/three-code-deduplication","/period-management","/three-code-filter"];function t(a){return a.path==="/login"?!1:e.some(i=>i==="/"&&a.path==="/"?!0:a.path.startsWith(i))}n.beforeEach((a,i,c)=>{t(a)?Fe.checkLoginStatus()?c():(console.log(""),c({path:"/login",query:{redirect:a.fullPath}})):c()}),n.afterEach((a,i)=>{if(t(a)&&Fe.checkLoginStatus()){const c=Fe.getCurrentUser();console.log(` ${c==null?void 0:c.username}  ${a.path}`)}});function r(a){return t(a)?Fe.checkLoginStatus():!0}function s(){if(!Fe.checkLoginStatus())return{hasAccess:!1,user:null,remainingTime:0};const a=Fe.getCurrentUser(),i=Fe.getRemainingLoginTime();return{hasAccess:!0,user:a,remainingTime:i,formattedRemainingTime:Fe.formatRemainingTime()}}return{requiresAuth:t,checkRoutePermission:r,getUserRoutePermissions:s}}const Uc=(n,e)=>{const t=n.__vccOpts||n;for(const[r,s]of e)t[r]=s;return t},zc={name:"App",data(){return{isMobileMenuOpen:!1,isMobile:!1,userInfo:null,showUserMenu:!1}},data(){return{isMobileMenuOpen:!1,isMobile:!1,userInfo:null,showUserMenu:!1,loginStatus:!1}},computed:{isLoggedIn(){return this.loginStatus},remainingTime(){return Fe.formatRemainingTime()}},mounted(){this.checkMobileDevice(),window.addEventListener("resize",this.checkMobileDevice),this.updateUserInfo(),this.setupAuthListener(),document.addEventListener("click",this.closeUserMenu),window.addEventListener("userLoginSuccess",this.updateUserInfo)},beforeDestroy(){window.removeEventListener("resize",this.checkMobileDevice),document.removeEventListener("click",this.closeUserMenu),window.removeEventListener("userLoginSuccess",this.updateUserInfo)},methods:{checkMobileDevice(){this.isMobile=window.innerWidth<=768,this.isMobile&&this.isMobileMenuOpen&&(this.isMobileMenuOpen=!1)},toggleMobileMenu(){this.isMobile&&(this.isMobileMenuOpen=!this.isMobileMenuOpen)},closeMobileMenu(){this.isMobile&&(this.isMobileMenuOpen=!1)},updateUserInfo(){this.loginStatus=Fe.checkLoginStatus(),this.loginStatus?this.userInfo=Fe.getCurrentUser():this.userInfo=null},setupAuthListener(){this.$router.afterEach(()=>{this.updateUserInfo()}),setInterval(()=>{this.updateUserInfo()},6e4)},toggleUserMenu(){this.showUserMenu=!this.showUserMenu},closeUserMenu(){this.showUserMenu=!1},logout(){return $(this,null,function*(){try{const n=yield Fe.logout();n.success?(this.userInfo=null,this.showUserMenu=!1,this.$router.push("/login")):console.error(":",n.error)}catch(n){console.error(":",n)}})},goToLogin(){this.$router.push("/login")}}},jc={class:"app-header desktop-header"},Xc={class:"header-content"},Kc={key:0,class:"header-right"},Vc={class:"menu-item user-profile"},Gc={class:"menu-text"},Qc={class:"menu-item login-time"},Jc={class:"menu-text"},Yc={key:0,class:"app-nav desktop-nav"},Zc={key:0,class:"mobile-arrow"},el={key:0,class:"mobile-header"},tl={class:"mobile-header-content"},rl={key:0,class:"mobile-compact-user-info"},nl={class:"menu-header"},sl={class:"menu-items"},al={class:"menu-item user-profile"},il={class:"menu-text"},ol={class:"menu-item login-time"},cl={class:"menu-text"},ll={key:1,class:"mobile-bottom-nav"},ul={class:"menu-header"},dl={class:"menu-items"};function fl(n,e,t,r,s,a){var p,o;const i=R0("router-link"),c=R0("router-view");return Ie(),Re("div",{id:"app",class:zt({"mobile-device":s.isMobile})},[H("header",jc,[H("div",Xc,[e[22]||(e[22]=H("div",{class:"header-left"},[H("h1",null,""),H("p",{class:"subtitle"},"3D")],-1)),a.isLoggedIn?(Ie(),Re("div",Kc,[H("button",{class:"logout-btn floating-logout",onClick:e[0]||(e[0]=(...u)=>a.logout&&a.logout(...u)),title:""},[...e[17]||(e[17]=[H("span",{class:"logout-icon"},"",-1)])]),s.showUserMenu?(Ie(),Re("div",{key:0,class:"user-menu",onClick:e[2]||(e[2]=Or(()=>{},["stop"]))},[H("div",Vc,[e[18]||(e[18]=H("span",{class:"menu-icon"},"",-1)),H("span",Gc,wt(((p=s.userInfo)==null?void 0:p.username)||""),1)]),H("div",Qc,[e[19]||(e[19]=H("span",{class:"menu-icon"},"",-1)),H("span",Jc,": "+wt(a.remainingTime),1)]),e[21]||(e[21]=H("div",{class:"menu-divider"},null,-1)),H("div",{class:"menu-item logout-item",onClick:e[1]||(e[1]=(...u)=>a.logout&&a.logout(...u))},[...e[20]||(e[20]=[H("span",{class:"menu-icon"},"",-1),H("span",{class:"menu-text"},"",-1)])])])):Oe("",!0)])):Oe("",!0)]),a.isLoggedIn?(Ie(),Re("nav",Yc,[ne(i,{to:"/ai-prediction",class:"nav-link","active-class":"active"},{default:ae(()=>[...e[23]||(e[23]=[H("span",{class:"nav-icon"},"",-1),we(" AI ",-1)])]),_:1}),ne(i,{to:"/betting-records",class:"nav-link","active-class":"active"},{default:ae(()=>[...e[24]||(e[24]=[H("span",{class:"nav-icon"},"",-1),we(" 3D ",-1)])]),_:1}),ne(i,{to:"/match-four-code-by-danma",class:"nav-link","active-class":"active"},{default:ae(()=>[...e[25]||(e[25]=[H("span",{class:"nav-icon"},"",-1),we("  ",-1)])]),_:1}),ne(i,{to:"/advanced-prediction",class:"nav-link","active-class":"active"},{default:ae(()=>[...e[26]||(e[26]=[H("span",{class:"nav-icon"},"",-1),we("  ",-1)])]),_:1}),ne(i,{to:"/three-code-filter",class:"nav-link","active-class":"active"},{default:ae(()=>[...e[27]||(e[27]=[H("span",{class:"nav-icon"},"",-1),we(" 3D ",-1)])]),_:1}),H("div",{class:zt(["nav-dropdown",{"mobile-open":s.isMobileMenuOpen}])},[H("button",{class:"nav-dropdown-toggle",onClick:e[3]||(e[3]=(...u)=>a.toggleMobileMenu&&a.toggleMobileMenu(...u)),onMouseenter:e[4]||(e[4]=u=>!s.isMobile&&(s.isMobileMenuOpen=!0)),onMouseleave:e[5]||(e[5]=u=>!s.isMobile&&(s.isMobileMenuOpen=!1))},[e[28]||(e[28]=H("span",{class:"nav-icon"},"",-1)),e[29]||(e[29]=we("  ",-1)),s.isMobile?(Ie(),Re("span",Zc,wt(s.isMobileMenuOpen?"":""),1)):Oe("",!0)],32),H("div",{class:zt(["nav-dropdown-menu",{"mobile-visible":s.isMobileMenuOpen}]),onClick:e[6]||(e[6]=(...u)=>a.closeMobileMenu&&a.closeMobileMenu(...u))},[ne(i,{to:"/period-management",class:"nav-dropdown-item","active-class":"active"},{default:ae(()=>[...e[30]||(e[30]=[H("span",{class:"nav-icon"},"",-1),we("  ",-1)])]),_:1}),ne(i,{to:"/code-maintenance",class:"nav-dropdown-item","active-class":"active"},{default:ae(()=>[...e[31]||(e[31]=[H("span",{class:"nav-icon"},"",-1),we("  ",-1)])]),_:1}),ne(i,{to:"/four-code-maintenance",class:"nav-dropdown-item","active-class":"active"},{default:ae(()=>[...e[32]||(e[32]=[H("span",{class:"nav-icon"},"",-1),we("  ",-1)])]),_:1}),ne(i,{to:"/kill-code-maintenance",class:"nav-dropdown-item","active-class":"active"},{default:ae(()=>[...e[33]||(e[33]=[H("span",{class:"nav-icon"},"",-1),we("  ",-1)])]),_:1}),ne(i,{to:"/kill-two-code-maintenance",class:"nav-dropdown-item","active-class":"active"},{default:ae(()=>[...e[34]||(e[34]=[H("span",{class:"nav-icon"},"",-1),we("  ",-1)])]),_:1}),ne(i,{to:"/three-code-deduplication",class:"nav-dropdown-item","active-class":"active"},{default:ae(()=>[...e[35]||(e[35]=[H("span",{class:"nav-icon"},"",-1),we("  ",-1)])]),_:1}),ne(i,{to:"/advanced-data-recovery",class:"nav-dropdown-item","active-class":"active"},{default:ae(()=>[...e[36]||(e[36]=[H("span",{class:"nav-icon"},"",-1),we("  ",-1)])]),_:1})],2)],2)])):Oe("",!0)]),s.isMobile?(Ie(),Re("header",el,[H("div",tl,[e[38]||(e[38]=H("div",{class:"mobile-title"},[H("p",{class:"mobile-subtitle"},"")],-1)),a.isLoggedIn?(Ie(),Re("div",rl)):Oe("",!0),a.isLoggedIn?(Ie(),Re("button",{key:1,class:"mobile-logout-btn floating-mobile-logout",onClick:e[7]||(e[7]=(...u)=>a.logout&&a.logout(...u)),title:""},[...e[37]||(e[37]=[H("span",{class:"logout-icon"},"",-1)])])):Oe("",!0)]),s.isMobile&&s.showUserMenu?(Ie(),Re("div",{key:0,class:"mobile-user-menu",onClick:e[11]||(e[11]=(...u)=>a.closeUserMenu&&a.closeUserMenu(...u))},[e[44]||(e[44]=H("div",{class:"menu-overlay"},null,-1)),H("div",{class:"menu-content",onClick:e[10]||(e[10]=Or(()=>{},["stop"]))},[H("div",nl,[e[39]||(e[39]=H("h3",null,"",-1)),H("button",{class:"close-btn",onClick:e[8]||(e[8]=(...u)=>a.closeUserMenu&&a.closeUserMenu(...u))},"")]),H("div",sl,[H("div",al,[e[40]||(e[40]=H("span",{class:"menu-icon"},"",-1)),H("span",il,wt(((o=s.userInfo)==null?void 0:o.username)||""),1)]),H("div",ol,[e[41]||(e[41]=H("span",{class:"menu-icon"},"",-1)),H("span",cl,": "+wt(a.remainingTime),1)]),e[43]||(e[43]=H("div",{class:"menu-divider"},null,-1)),H("div",{class:"menu-item logout-item",onClick:e[9]||(e[9]=(...u)=>a.logout&&a.logout(...u))},[...e[42]||(e[42]=[H("span",{class:"menu-icon"},"",-1),H("span",{class:"menu-text"},"",-1)])])])])])):Oe("",!0)])):Oe("",!0),H("main",{class:zt(["app-main",{"mobile-main":s.isMobile}])},[ne(c)],2),s.isMobile&&a.isLoggedIn?(Ie(),Re("nav",ll,[ne(i,{to:"/match-four-code-by-danma",class:"nav-item","active-class":"active"},{default:ae(()=>[...e[45]||(e[45]=[H("span",{class:"nav-icon"},"",-1),H("span",{class:"nav-label"},"",-1)])]),_:1}),ne(i,{to:"/advanced-prediction",class:"nav-item","active-class":"active"},{default:ae(()=>[...e[46]||(e[46]=[H("span",{class:"nav-icon"},"",-1),H("span",{class:"nav-label"},"",-1)])]),_:1}),ne(i,{to:"/three-code-deduplication",class:"nav-item","active-class":"active"},{default:ae(()=>[...e[47]||(e[47]=[H("span",{class:"nav-icon"},"",-1),H("span",{class:"nav-label"},"",-1)])]),_:1}),ne(i,{to:"/three-code-filter",class:"nav-item","active-class":"active"},{default:ae(()=>[...e[48]||(e[48]=[H("span",{class:"nav-icon"},"",-1),H("span",{class:"nav-label"},"3D",-1)])]),_:1}),H("div",{class:"nav-item more-menu",onClick:e[12]||(e[12]=(...u)=>a.toggleMobileMenu&&a.toggleMobileMenu(...u))},[...e[49]||(e[49]=[H("span",{class:"nav-icon"},"",-1),H("span",{class:"nav-label"},"",-1)])])])):Oe("",!0),s.isMobile&&a.isLoggedIn&&s.isMobileMenuOpen?(Ie(),Re("div",{key:2,class:"mobile-more-menu",onClick:e[16]||(e[16]=(...u)=>a.closeMobileMenu&&a.closeMobileMenu(...u))},[H("div",{class:"menu-overlay",onClick:e[13]||(e[13]=(...u)=>a.closeMobileMenu&&a.closeMobileMenu(...u))}),H("div",{class:"menu-content",onClick:e[15]||(e[15]=Or(()=>{},["stop"]))},[e[59]||(e[59]=H("div",{class:"menu-drag-handle"},null,-1)),H("div",ul,[e[50]||(e[50]=H("h3",null,"",-1)),H("button",{class:"close-btn",onClick:e[14]||(e[14]=(...u)=>a.closeMobileMenu&&a.closeMobileMenu(...u))},"")]),H("div",dl,[ne(i,{to:"/period-management",class:"menu-item",onClick:a.closeMobileMenu},{default:ae(()=>[...e[51]||(e[51]=[H("span",{class:"menu-icon"},"",-1),H("span",{class:"menu-label"},"",-1)])]),_:1},8,["onClick"]),ne(i,{to:"/code-maintenance",class:"menu-item",onClick:a.closeMobileMenu},{default:ae(()=>[...e[52]||(e[52]=[H("span",{class:"menu-icon"},"",-1),H("span",{class:"menu-label"},"",-1)])]),_:1},8,["onClick"]),ne(i,{to:"/four-code-maintenance",class:"menu-item",onClick:a.closeMobileMenu},{default:ae(()=>[...e[53]||(e[53]=[H("span",{class:"menu-icon"},"",-1),H("span",{class:"menu-label"},"",-1)])]),_:1},8,["onClick"]),ne(i,{to:"/kill-code-maintenance",class:"menu-item",onClick:a.closeMobileMenu},{default:ae(()=>[...e[54]||(e[54]=[H("span",{class:"menu-icon"},"",-1),H("span",{class:"menu-label"},"",-1)])]),_:1},8,["onClick"]),ne(i,{to:"/kill-two-code-maintenance",class:"menu-item",onClick:a.closeMobileMenu},{default:ae(()=>[...e[55]||(e[55]=[H("span",{class:"menu-icon"},"",-1),H("span",{class:"menu-label"},"",-1)])]),_:1},8,["onClick"]),ne(i,{to:"/ai-prediction",class:"menu-item",onClick:a.closeMobileMenu},{default:ae(()=>[...e[56]||(e[56]=[H("span",{class:"menu-icon"},"",-1),H("span",{class:"menu-label"},"AI",-1)])]),_:1},8,["onClick"]),ne(i,{to:"/betting-records",class:"menu-item",onClick:a.closeMobileMenu},{default:ae(()=>[...e[57]||(e[57]=[H("span",{class:"menu-icon"},"",-1),H("span",{class:"menu-label"},"",-1)])]),_:1},8,["onClick"]),ne(i,{to:"/advanced-data-recovery",class:"menu-item",onClick:a.closeMobileMenu},{default:ae(()=>[...e[58]||(e[58]=[H("span",{class:"menu-icon"},"",-1),H("span",{class:"menu-label"},"",-1)])]),_:1},8,["onClick"])])])])):Oe("",!0),e[60]||(e[60]=H("footer",{class:"app-footer"},[H("p",null," 2024  - ")],-1))],2)}const xl=Uc(zc,[["render",fl]]),je=qn.createInstance({name:"number-prediction-db",storeName:"prediction-records"}),ot=qn.createInstance({name:"lottery-history-db",storeName:"lottery-records"}),hl=Ui({state(){return{numberCombinations:[],currentCombination:"",generationMethod:"random",betAmount:10,multiplier:1,lotteryResult:"",lotteryPeriod:"",predictionResult:"",totalInvestment:0,totalOutput:0,historyRecords:[],lotteryHistorySize:3,lotteryHistoryRecords:[],aiPredictionResult:null,isPredicting:!1}},mutations:{setCurrentCombination(n,e){n.currentCombination=e},setGenerationMethod(n,e){n.generationMethod=e},setMultiplier(n,e){n.multiplier=e},setLotteryResult(n,{result:e,period:t}){n.lotteryResult=e,n.lotteryPeriod=t},addHistoryRecord(n,e){n.historyRecords.unshift(e),n.totalInvestment+=e.investment,n.totalOutput+=e.output},setHistoryRecords(n,e){n.historyRecords=e},deleteHistoryRecord(n,e){const t=n.historyRecords.findIndex(r=>r.id===e);if(t!==-1){const r=n.historyRecords[t];n.historyRecords.splice(t,1),n.totalInvestment-=r.investment,n.totalOutput-=r.output}},setLotteryPeriod(n,e){n.lotteryPeriod=e},setTotalInvestment(n,e){n.totalInvestment=e},setTotalOutput(n,e){n.totalOutput=e},setLotteryHistorySize(n,e){n.lotteryHistorySize=e},setLotteryHistoryRecords(n,e){n.lotteryHistoryRecords=e},setAIPredictionResult(n,e){n.aiPredictionResult=e},setPredictingStatus(n,e){n.isPredicting=e}},actions:{fetchLatestLotteryResult(t){return $(this,arguments,function*({commit:n,state:e}){const r=s=>s&&s.timestamp&&Date.now()-s.timestamp<864e5;try{const s=`lottery_history_${e.lotteryHistorySize}`,a=yield je.getItem(s);if(a&&r(a))return console.log(""),n("setLotteryResult",{result:a.lotteryData.result,period:a.lotteryData.period}),n("setLotteryHistoryRecords",a.lotteryHistoryRecords),a.lotteryData;const i=new Date,c=i.getFullYear(),p=String(i.getMonth()+1).padStart(2,"0"),o=String(i.getDate()).padStart(2,"0"),u="zsm9fvjchgeegusq",x="GDfu7jmtIM8kyZpisLe0uGsf7gEPVo5S",l=e.lotteryHistorySize,f=yield fetch(`https://www.mxnzp.com/api/lottery/common/history?code=fc3d&size=${l}&app_id=${u}&app_secret=${x}`);if(!f.ok)throw new Error("");const _=yield f.json();console.log(_);let v,y=[];if(_&&_.code===1&&_.data){const m=Array.isArray(_.data)?_.data:[_.data],g=m[0];v={period:g.expect,result:g.openCode?g.openCode.replace(/\s+/g,""):"",date:g.time},y=m.map(A=>({period:A.expect,result:A.openCode?A.openCode.replace(/\s+/g,""):"",date:A.time}))}else throw new Error(`API: ${_?_.msg:""}`);n("setLotteryResult",{result:v.result,period:v.period}),n("setLotteryHistoryRecords",y);const h={lotteryData:v,lotteryHistoryRecords:y,timestamp:Date.now()};return yield je.setItem(s,h),yield this.dispatch("saveLotteryHistoryRecords",y),v}catch(s){console.error(":",s);const a=new Date,i=a.getFullYear(),c=Math.floor(Math.random()*100)+1,p=String(Math.floor(Math.random()*1e3)).padStart(3,"0"),o={period:`${i}${String(c).padStart(3,"0")}`,result:p,date:a.toLocaleDateString()};return n("setLotteryResult",{result:o.result,period:o.period}),o}})},generateRandomCombination({commit:n,state:e}){const t=[];for(;t.length<5;){const s=Math.floor(Math.random()*10);t.includes(s)||t.push(s)}const r=t.join("");n("setCurrentCombination",r),n("setGenerationMethod","random"),e.numberCombinations.includes(r)||e.numberCombinations.push(r)},setManualCombination({commit:n,state:e},t){return t.length===5&&/^\d{5}$/.test(t)&&new Set(t).size===5?(n("setCurrentCombination",t),n("setGenerationMethod","manual"),e.numberCombinations.includes(t)||e.numberCombinations.push(t),!0):!1},performAIPrediction(r){return $(this,arguments,function*({commit:n,state:e,dispatch:t}){try{if(n("setPredictingStatus",!0),e.lotteryHistoryRecords.length===0)throw new Error("");const s=yield ac.predictNextLottery(e.lotteryHistoryRecords);return n("setAIPredictionResult",s),s.prediction&&(n("setCurrentCombination",s.prediction),n("setGenerationMethod","ai"),e.lotteryResult&&(yield t("performPrediction"))),s}catch(s){throw console.error("AI:",s),s}finally{n("setPredictingStatus",!1)}})},performPrediction(t){return $(this,arguments,function*({commit:n,state:e}){if(!e.currentCombination||!e.lotteryResult)return;let r=e.lotteryResult;if(r=r.replace(/\D/g,""),!/^\d{3}$/.test(r)){const o=r.match(/\d{3}/);if(o)r=o[0];else throw new Error("3")}const s=e.currentCombination===r,a=s?"":"",i=e.betAmount*e.multiplier,c=s?160*e.multiplier:0,p={id:Date.now(),period:e.lotteryPeriod,combination:e.currentCombination,generationMethod:e.generationMethod,lotteryResult:r,predictionResult:a,investment:i,output:c,multiplier:e.multiplier,timestamp:new Date().toLocaleString()};return n("addHistoryRecord",p),yield je.setItem(p.id.toString(),p),yield this.dispatch("loadHistoryRecords"),a})},loadHistoryRecords(e){return $(this,arguments,function*({commit:n}){try{const t=[];yield je.iterate((a,i)=>{t.push(a)}),t.sort((a,i)=>i.id-a.id),n("setHistoryRecords",t);const r=t.reduce((a,i)=>a+i.investment,0),s=t.reduce((a,i)=>a+i.output,0);return n("setTotalInvestment",r),n("setTotalOutput",s),{totalInvestment:r,totalOutput:s}}catch(t){throw console.error(":",t),new Error("")}})},deleteHistoryRecord(r,s){return $(this,arguments,function*({commit:n,state:e},t){try{return yield je.removeItem(t.toString()),n("deleteHistoryRecord",t),yield this.dispatch("loadHistoryRecords"),!0}catch(a){throw console.error(":",a),new Error("")}})},clearAllHistoryRecords(e){return $(this,arguments,function*({commit:n}){try{return yield je.clear(),n("setHistoryRecords",[]),n("setTotalInvestment",0),n("setTotalOutput",0),!0}catch(t){throw console.error(":",t),new Error("")}})},clearLotteryCache(){return $(this,null,function*(){try{const e=(yield je.keys()).filter(t=>t.startsWith("lottery_history_"));for(const t of e)yield je.removeItem(t);return console.log(` ${e.length} `),e.length}catch(n){throw console.error(":",n),new Error("")}})},saveLotteryHistoryRecords(t,r){return $(this,arguments,function*({commit:n},e){try{if(!e||e.length===0)return;const s=e.map(a=>$(this,null,function*(){const i=`lottery_record_${a.period}`,c=yield ot.getItem(i);(!c||c.date!==a.date)&&(yield ot.setItem(i,S(b({},a),{savedAt:Date.now(),id:i})),console.log(`${a.period}`))}));return yield Promise.all(s),console.log(` ${e.length} `),e.length}catch(s){throw console.error(":",s),new Error("")}})},loadLotteryHistoryRecords(e){return $(this,arguments,function*({commit:n}){try{const t=[],a=(yield ot.keys()).filter(i=>i.startsWith("lottery_record_")).map(i=>$(this,null,function*(){const c=yield ot.getItem(i);c&&t.push(c)}));return yield Promise.all(a),t.sort((i,c)=>{const p=parseInt(i.period.replace(/\D/g,""));return parseInt(c.period.replace(/\D/g,""))-p}),console.log(` ${t.length} `),t}catch(t){throw console.error(":",t),new Error("")}})},clearPersistedLotteryHistory(){return $(this,null,function*(){try{const e=(yield ot.keys()).filter(t=>t.startsWith("lottery_record_"));for(const t of e)yield ot.removeItem(t);return console.log(` ${e.length} `),e.length}catch(n){throw console.error(":",n),new Error("")}})}},getters:{totalProfit:n=>n.totalOutput-n.totalInvestment,roi:n=>n.totalInvestment>0?(n.totalOutput/n.totalInvestment*100).toFixed(2):"0.00"}}),Ai=zi({history:ji(),routes:[{path:"/login",component:()=>fe(()=>import("./LoginPage-Bb4GPYQO.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)},{path:"/",redirect:"/ai-prediction"},{path:"/ai-prediction",component:()=>fe(()=>import("./AIPredictionMenu-qhZnZ6Ww.js"),__vite__mapDeps([4,1,2,5]),import.meta.url)},{path:"/betting-records",component:()=>fe(()=>import("./BettingRecordsMenu-VFrV3Vja.js"),__vite__mapDeps([6,1,2,7]),import.meta.url)},{path:"/number-extraction",component:()=>fe(()=>import("./NumberExtraction-kz_xQcal.js"),__vite__mapDeps([8,2,1,9]),import.meta.url)},{path:"/four-code-maintenance",component:()=>fe(()=>import("./FourCodeMaintenance-CTMPr1Ah.js"),__vite__mapDeps([10,2,1,11]),import.meta.url)},{path:"/kill-code-maintenance",component:()=>fe(()=>import("./KillCodeMaintenance-CjqEwUpT.js"),__vite__mapDeps([12,2,1,13]),import.meta.url)},{path:"/five-code-maintenance",component:()=>fe(()=>import("./FiveCodeMaintenance-KCJD0LNG.js"),__vite__mapDeps([14,2,1,15]),import.meta.url)},{path:"/code-maintenance",component:()=>fe(()=>import("./CodeMaintenance-BeeoPrBL.js"),__vite__mapDeps([16,2,1,17]),import.meta.url)},{path:"/match-four-code-by-danma",component:()=>fe(()=>import("./MatchFourCodeByDanma-CZO2xztj.js"),__vite__mapDeps([18,2,1,19]),import.meta.url)},{path:"/advanced-prediction",component:()=>fe(()=>import("./AdvancedNumberPrediction-D1YqON3Y.js"),__vite__mapDeps([20,2,1,21]),import.meta.url)},{path:"/kill-two-code-maintenance",component:()=>fe(()=>import("./KillTwoCodeMaintenance-DKYUqtra.js"),__vite__mapDeps([22,2,1,23]),import.meta.url)},{path:"/data-recovery",component:()=>fe(()=>import("./DataRecovery-DvXPYpTT.js"),__vite__mapDeps([24,2,1,25]),import.meta.url)},{path:"/advanced-data-recovery",component:()=>fe(()=>import("./AdvancedDataRecovery-Cp98PuJG.js"),__vite__mapDeps([26,2,1,27]),import.meta.url)},{path:"/three-code-deduplication",component:()=>fe(()=>import("./ThreeCodeDeduplication-dXCclG-J.js"),__vite__mapDeps([28,1,2,29]),import.meta.url)},{path:"/period-management",component:()=>fe(()=>import("./PeriodManagement-w8UCSQn3.js"),__vite__mapDeps([30,2,1,31]),import.meta.url)},{path:"/three-code-filter",component:()=>fe(()=>import("./ThreeCodeFilter-B_3TX9AB.js"),__vite__mapDeps([32,2,1,33]),import.meta.url)},{path:"/:pathMatch(.*)*",component:()=>fe(()=>import("./NotFound-BaNmkUm0.js"),__vite__mapDeps([34,1,2,35]),import.meta.url)}]});qc(Ai);const Rr=Xi(xl);Rr.use(hl);Rr.use(Ai);Rr.mixin({beforeMount(){return $(this,null,function*(){if(this.$store){yield this.$store.dispatch("loadHistoryRecords"),typeof window!="undefined"&&(ic(),oc(),cc(),setTimeout(()=>{Pt(),lc(),uc()},200));try{const n=yield this.$store.dispatch("loadLotteryHistoryRecords");if(n&&n.length>0&&this.$store.state.lotteryHistoryRecords.length===0&&(this.$store.commit("setLotteryHistoryRecords",n),n[0])){const t=n[0];this.$store.commit("setLotteryResult",{result:t.result,period:t.period})}}catch(n){console.warn(":",n)}}})}});Rr.mount("#app");export{Uc as _,Fe as a,ac as b};
