import{c as r,a as s,b as d,n as p,t as o,l as h,f as m,v as I,o as u}from"./vendor-XXQc_yx5.js";import{_ as g}from"./index-BXDNWbx7.js";import"./utils-DurHG9wo.js";const v={name:"ThreeCodeDeduplication",data(){return{batchInput:"",originalInput:[],deduplicatedResult:[],duplicateItems:[],invalidItems:[],showResults:!1,message:"",messageType:"",messageTimer:null,errors:{batchInput:""}}},computed:{isInputValid(){return this.batchInput.trim().length>0&&!this.errors.batchInput},originalInputCount(){return this.originalInput.length},duplicateCount(){return this.duplicateItems.length},invalidCount(){return this.invalidItems.length}},methods:{validateBatchInput(){const i=this.batchInput.trim();if(!i){this.errors.batchInput="";return}if(!/^[0-9,，\s]*$/.test(i)){this.errors.batchInput="输入只能包含数字、逗号和空格（支持中英文逗号，空格将被自动过滤）";return}this.errors.batchInput=""},executeDeduplication(){if(!this.isInputValid){this.showMessage("请输入有效的三码组合","error");return}try{const i=this.batchInput.split(/[,，]/).map(n=>n.replace(/\s/g,"").trim()).filter(n=>n);this.originalInput=[...i],this.deduplicatedResult=[],this.duplicateItems=[],this.invalidItems=[];const t=new Set,c=new Map;i.forEach(n=>{if(!/^\d{3}$/.test(n)){this.invalidItems.push(n);return}const e=n.split("").sort().join("");t.has(e)?this.duplicateItems.push(n):(t.add(e),c.set(e,n))}),this.deduplicatedResult=Array.from(c.values()),this.showResults=!0,this.showMessage(`去重完成！共处理 ${this.originalInputCount} 组组合，去除 ${this.duplicateCount} 组重复项`)}catch(i){console.error("去重处理失败:",i),this.showMessage("去重处理失败，请检查输入格式","error")}},clearInput(){this.batchInput="",this.originalInput=[],this.deduplicatedResult=[],this.duplicateItems=[],this.invalidItems=[],this.showResults=!1,this.errors.batchInput="",this.showMessage("输入已清空")},copyResult(){if(this.deduplicatedResult.length===0){this.showMessage("没有可复制的结果","warning");return}try{const i=this.deduplicatedResult.join(", ");navigator.clipboard.writeText(i).then(()=>{this.showMessage("结果已复制到剪贴板")}).catch(()=>{const t=document.createElement("textarea");t.value=i,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),this.showMessage("结果已复制到剪贴板")})}catch(i){console.error("复制失败:",i),this.showMessage("复制失败，请手动复制","error")}},showMessage(i,t="success"){this.messageTimer&&clearTimeout(this.messageTimer),this.message=i,this.messageType=t,this.messageTimer=setTimeout(()=>{this.message="",this.messageType=""},3e3)}}},b={class:"three-code-deduplication"},f={class:"panel"},_={class:"input-section"},y={class:"form-group"},w={key:0,class:"error-message"},C={class:"action-buttons"},R=["disabled"],T=["disabled"],x={key:1,class:"result-section"},M={class:"statistics"},k={class:"stat-item"},D={class:"stat-value"},V={class:"stat-item"},B={class:"stat-value success"},j={class:"stat-item"},A={class:"stat-value error"},E={class:"stat-item"},N={class:"stat-value warning"},S={class:"result-display"},q={class:"result-content valid-result"},z={key:0,class:"duplicate-section"},U={class:"result-content duplicate-result"},F={key:1,class:"invalid-section"},G={class:"result-content invalid-result"};function H(i,t,c,n,e,l){return u(),r("div",b,[s("div",f,[t[16]||(t[16]=s("h2",null,"三码组合去重维护",-1)),e.message?(u(),r("div",{key:0,class:p(["message",e.messageType])},o(e.message),3)):d("",!0),s("div",_,[t[7]||(t[7]=s("h3",null,"批量输入三码组合",-1)),s("div",y,[t[5]||(t[5]=s("label",{for:"batchInput"},[m("输入三码组合 "),s("span",{class:"required"},"*")],-1)),h(s("textarea",{id:"batchInput","onUpdate:modelValue":t[0]||(t[0]=a=>e.batchInput=a),placeholder:"请输入多组三码组合，以逗号分隔（支持中英文逗号，如：138,234，238,376，148,248）",rows:"4",class:"input-field textarea-field",onInput:t[1]||(t[1]=(...a)=>l.validateBatchInput&&l.validateBatchInput(...a))},null,544),[[I,e.batchInput]]),e.errors.batchInput?(u(),r("span",w,o(e.errors.batchInput),1)):d("",!0),t[6]||(t[6]=s("div",{class:"input-hint"}," 支持格式：3位纯数字组合，以逗号分隔（支持中英文逗号，允许包含空格），每组数字长度必须为3位 ",-1))]),s("div",C,[s("button",{onClick:t[2]||(t[2]=(...a)=>l.executeDeduplication&&l.executeDeduplication(...a)),class:"btn-primary",disabled:!l.isInputValid}," 执行去重 ",8,R),s("button",{onClick:t[3]||(t[3]=(...a)=>l.clearInput&&l.clearInput(...a)),class:"btn-secondary"}," 清空输入 "),s("button",{onClick:t[4]||(t[4]=(...a)=>l.copyResult&&l.copyResult(...a)),class:"btn-secondary",disabled:!e.deduplicatedResult.length}," 复制结果 ",8,T)])]),e.showResults?(u(),r("div",x,[t[15]||(t[15]=s("h3",null,"去重结果",-1)),s("div",M,[s("div",k,[t[8]||(t[8]=s("span",{class:"stat-label"},"原始输入：",-1)),s("span",D,o(l.originalInputCount)+" 组",1)]),s("div",V,[t[9]||(t[9]=s("span",{class:"stat-label"},"去重后：",-1)),s("span",B,o(e.deduplicatedResult.length)+" 组",1)]),s("div",j,[t[10]||(t[10]=s("span",{class:"stat-label"},"去除重复：",-1)),s("span",A,o(l.duplicateCount)+" 组",1)]),s("div",E,[t[11]||(t[11]=s("span",{class:"stat-label"},"格式错误：",-1)),s("span",N,o(l.invalidCount)+" 组",1)])]),s("div",S,[t[14]||(t[14]=s("h4",null,"有效三码组合（去重后）",-1)),s("div",q,o(e.deduplicatedResult.join(", ")),1),e.duplicateItems.length>0?(u(),r("div",z,[t[12]||(t[12]=s("h4",null,"重复项（已去除）",-1)),s("div",U,o(e.duplicateItems.join(", ")),1)])):d("",!0),e.invalidItems.length>0?(u(),r("div",F,[t[13]||(t[13]=s("h4",null,"格式错误项",-1)),s("div",G,o(e.invalidItems.join(", ")),1)])):d("",!0)])])):d("",!0)])])}const O=g(v,[["render",H],["__scopeId","data-v-731057f9"]]);export{O as default};
