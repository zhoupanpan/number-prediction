var E=Object.defineProperty,U=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var R=(s,e,l)=>e in s?E(s,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[e]=l,N=(s,e)=>{for(var l in e||(e={}))j.call(e,l)&&R(s,l,e[l]);if(O)for(var l of O(e))B.call(e,l)&&R(s,l,e[l]);return s},S=(s,e)=>U(s,V(e));var T=(s,e,l)=>new Promise((r,t)=>{var i=c=>{try{d(l.next(c))}catch(h){t(h)}},o=c=>{try{d(l.throw(c))}catch(h){t(h)}},d=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,o);d((l=l.apply(s,e)).next())});import{_ as W,c as a,d as n,e as C,w as g,i as M,F as b,r as f,t as p,v as P,f as k,k as w,l as K,o as u,n as q}from"./index-hVynY49a.js";const F=K.createInstance({name:"number-prediction-db",storeName:"four-code-maintenance"});K.createInstance({name:"number-prediction-db",storeName:"three-code-maintenance"});const I=K.createInstance({name:"number-prediction-db",storeName:"code-maintenance"}),x=K.createInstance({name:"number-prediction-db",storeName:"kill-code-maintenance"}),_=K.createInstance({name:"number-prediction-db",storeName:"kill-two-code-maintenance"}),L={name:"AdvancedNumberPrediction",data(){return{currentPeriod:"",availablePeriods:[],selectedCodeType:"四断组",danmaTypes:["2","3","4"],baseCombinations:[],danmaGroups:[],killCodeGroups:[],selectedKillCodes:[],killCodeSelectionOptions:[],selectedKillCodeOption:"",usedKillCodeOptions:new Set,killTwoCodeGroups:["01","06"],editMode:{killTwoCodeGroups:!1,killCodeGroups:!1,danmaGroups:!1},editForm:{killTwoCode:"",killCode:"",danmaCode:""},editingIndex:{killTwoCodeGroups:-1,killCodeGroups:-1,danmaGroups:-1},predictionResults:[],threeDigitResults:[],fiveDigitResults:[],fourCodeResult:"",generationPaths:null,statistics:{baseThreeDigitCount:0,afterDanmaFilterCount:0,afterKillCodeFilterCount:0,afterKillTwoCodeFilterCount:0,afterDeduplicationCount:0}}},mounted(){return T(this,null,function*(){yield this.loadAvailablePeriods(),this.generateKillCodeSelectionOptions()})},methods:{loadAvailablePeriods(){return T(this,null,function*(){try{const s=yield F.keys(),e=[];for(const r of s){const t=yield F.getItem(r);t&&t.period&&e.push(t)}const l=[...new Set(e.map(r=>r.period))].sort((r,t)=>t.localeCompare(r));this.availablePeriods=l,console.log("从四码组合维护模块加载期号列表:",this.availablePeriods)}catch(s){console.error("从四码组合维护模块加载期号列表失败:",s),this.availablePeriods=[]}})},onPeriodChange(){console.log("期号变更:",this.currentPeriod,"组合类型:",this.selectedCodeType),this.selectedKillCodes=[],this.resetUsedKillCodeOptions(),this.loadFourCodeCombinations(),this.loadKillCodeCombinations(),this.loadDanmaGroups(),this.loadKillTwoCodeGroups()},onCodeTypeChange(){console.log("组合类型变更:",this.selectedCodeType),this.loadFourCodeCombinations()},onDanmaTypesChange(){console.log("胆码类型变更:",this.danmaTypes),this.loadDanmaGroups()},generateFiveDigitPredictions(){console.log("开始生成5位数字预测结果...");const s=this.threeDigitResults.slice(0,20).map(r=>r.number);console.log("候选3码组合:",s);const e=this.extractCandidateNumbersFromThreeDigits(s);console.log("提取的候选数字:",e);const l=this.scoreNumbersByDanmaWithPriority(e);console.log("胆码评分后数字:",l),this.fiveDigitResults=this.generateFinalFiveDigitCombinationsNew(l),console.log("最终5位数字结果数量:",this.fiveDigitResults.length),console.log("5位数字结果:",this.fiveDigitResults)},extractCandidateNumbersFromThreeDigits(s){const e=new Set;return s.forEach(l=>{l.split("").forEach(r=>e.add(r))}),Array.from(e).sort()},scoreNumbersByDanmaWithPriority(s){const e=[],l={};return s.forEach(r=>{let t=0;this.danmaGroups.forEach(i=>{i.code.includes(r)&&t++}),l[r]=t}),s.forEach(r=>{let t=0,i=0;const o=l[r],d=Math.max(...Object.values(l),1);t=o/d*100,this.danmaGroups.forEach(h=>{if(h.code.includes(r)){const m=20*(6-parseInt(h.priority||3));i=Math.max(i,m)}});const c=t*.5+i*.5;e.push({digit:r,score:Math.round(c*100)/100,appearanceCount:o,priority:Math.round(i/20)})}),e.sort((r,t)=>t.score-r.score)},generateFinalFiveDigitCombinationsNew(s){const e=[],l=new Set,r=s.slice(0,2).map(d=>d.digit);console.log("评分最高的前3个数字:",r);let t=0;const i=100;let o=0;for(;t<3&&o<i;){o++;const d=[...r],c=new Set(d);for(const m of s){if(d.length>=5)break;const y=!c.has(m.digit);let D=y;if(l.size>0){const v=Array.from(l).some(G=>G.includes(m.digit));D=y&&!v}D&&(d.push(m.digit),c.add(m.digit))}if(d.length<5)continue;const h=d.join("");if(!l.has(h)){const y=d.reduce((D,v)=>{const G=s.find(A=>A.digit===v);return D+(G?G.score:0)},0)/5;e.push({number:h,probability:Math.min(Math.round(y),100),scoreDetails:d.map(D=>{const v=s.find(G=>G.digit===D);return{digit:D,score:v?v.score:0,appearanceCount:v?v.appearanceCount:0,priority:v?v.priority:3}})}),l.add(h),t++}}return e.sort((d,c)=>c.probability-d.probability)},loadFourCodeCombinations(){return T(this,null,function*(){if(this.currentPeriod)try{const s=yield F.keys(),e=[];for(const t of s){const i=yield F.getItem(t);if(i&&i.period===this.currentPeriod){const o=i.codeType||"四断组";o===this.selectedCodeType&&e.push(S(N({},i),{codeType:o}))}}const l={};e.forEach(t=>{const i=t.codeType;l[i]||(l[i]=[]),l[i].push(t)});const r=e.sort((t,i)=>t.priority-i.priority).map(t=>t.fourCode);this.baseCombinations=r,console.log("从四码组合维护模块加载四码组合数据（严格匹配条件）:",{查询条件:{期号:this.currentPeriod,组合类型:this.selectedCodeType},匹配记录数量:e.length,分组统计:l,最终组合:this.baseCombinations})}catch(s){console.error("从四码组合维护模块加载四码组合数据失败:",s),this.baseCombinations=[]}})},loadKillCodeCombinations(){return T(this,null,function*(){if(this.currentPeriod)try{const s=yield x.keys(),e=[];for(const r of s){const t=yield x.getItem(r);t&&t.period===this.currentPeriod&&e.push(t)}const l=e.sort((r,t)=>r.priority-t.priority).map(r=>r.killCode);this.killCodeGroups=l,this.selectedKillCodes=[...l],this.generateKillCodeSelectionOptions(),console.log("从杀码组合维护模块加载杀码组合数据:",this.killCodeGroups),console.log("默认全选杀码组合:",this.selectedKillCodes)}catch(s){console.error("从杀码组合维护模块加载杀码组合数据失败:",s),this.killCodeGroups=[],this.selectedKillCodes=[]}})},onKillCodeSelectionChange(){console.log("选中的杀码组合:",this.selectedKillCodes),this.threeDigitResults.length>0&&this.generatePredictions()},removeKillCode(s){this.selectedKillCodes.splice(s,1),this.onKillCodeSelectionChange()},loadKillTwoCodeGroups(){return T(this,null,function*(){if(this.currentPeriod)try{const s=yield _.keys(),e=[];for(const r of s){const t=yield _.getItem(r);t&&t.period===this.currentPeriod&&e.push(t)}const l=e.sort((r,t)=>r.priority-t.priority).map(r=>r.killTwoCode);this.killTwoCodeGroups=l,console.log("从杀二码组合维护模块加载杀二码组合数据:",this.killTwoCodeGroups)}catch(s){console.error("从杀二码组合维护模块加载杀二码组合数据失败:",s),this.killTwoCodeGroups=[]}})},toggleEditMode(s){this.editMode[s]=!this.editMode[s],this.editingIndex[s]=-1,this.editForm[s==="danmaGroups"?"danmaCode":s==="killCodeGroups"?"killCode":"killTwoCode"]=""},addDanma(){if(!this.currentPeriod){alert("请先选择期号");return}this.editingIndex.danmaGroups=-1,this.editForm.danmaCode=""},saveDanma(){const s=this.editForm.danmaCode.trim();if(!s){alert("请输入胆码");return}if(!this.currentPeriod){alert("请先选择期号");return}if(!/^\d+$/.test(s)){alert("胆码必须为纯数字");return}if(this.danmaGroups.some(l=>l.code===s)){alert("该胆码已存在");return}this.editingIndex.danmaGroups===-1?this.danmaGroups.push({code:s,probability1:70,probability2:20}):this.danmaGroups[this.editingIndex.danmaGroups].code=s,this.editForm.danmaCode="",this.editingIndex.danmaGroups=-1,console.log("胆码保存成功:",this.danmaGroups)},editDanma(s){this.editingIndex.danmaGroups=s,this.editForm.danmaCode=this.danmaGroups[s].code},deleteDanma(s){confirm("确定要删除这个胆码吗？")&&(this.danmaGroups.splice(s,1),this.editingIndex.danmaGroups===s&&(this.editingIndex.danmaGroups=-1,this.editForm.danmaCode=""))},loadDanmaGroups(){return T(this,null,function*(){if(!(!this.currentPeriod||this.danmaTypes.length===0))try{const s=yield I.keys(),e=(yield I.getItem("codeRecords"))||[];console.log("从胆码维护存储加载的数据:",e);const l={2:"two",3:"three",4:"four",5:"five"},r=e.filter(t=>{const i=this.danmaTypes.map(o=>l[o]||o);return t.period===this.currentPeriod&&i.includes(t.codeType)});this.danmaGroups=r,console.log("从胆码维护列表加载胆码组数据:",this.danmaGroups)}catch(s){console.error("从胆码维护列表加载胆码组数据失败:",s),this.danmaGroups=[]}})},generatePredictions(){this.clearResults(),console.log("开始生成预测结果..."),this.checkKillCodeUsageBeforePrediction()&&(this.generateThreeDigitPredictions(),this.generateFiveDigitPredictions(),this.generateFourCodePrediction(),console.log("预测结果生成完成"),console.log("3位数字结果:",this.threeDigitResults),console.log("5位数字结果:",this.fiveDigitResults),console.log("四码组合结果:",this.fourCodeResult))},generateThreeDigitPredictions(){console.log("开始生成3位数字...");const s=this.generateThreeDigitNumbers();console.log("基础3位数字生成数量:",s.length),console.log("基础3位数字:",s),this.statistics.baseThreeDigitCount=s.length;const e=this.applyDanmaRules(s);console.log("胆码过滤后数量:",e.length),this.statistics.afterDanmaFilterCount=e.length;const l=this.applyKillCodeRules(e);console.log("杀码过滤后数量:",l.length),this.statistics.afterKillCodeFilterCount=l.length;const r=this.applyKillTwoCodeRules(l);console.log("杀二码过滤后数量:",r.length),this.statistics.afterKillTwoCodeFilterCount=r.length;const t=this.removeDuplicateNumbers(r);console.log("去重后数量:",t.length),this.statistics.afterDeduplicationCount=t.length,this.threeDigitResults=t.map(i=>({number:i,path:this.getGenerationPath(i),probability:this.calculateProbability(i)})).sort((i,o)=>o.probability-i.probability).slice(0,20),console.log("最终3位数字结果数量:",this.threeDigitResults.length)},generateFourCodePrediction(){if(this.threeDigitResults.length>0){const s=this.threeDigitResults[0].number;this.fourCodeResult=this.generateFourCodeWithTwoDigits(s)}},generateThreeDigitNumbers(){const s=[],e=new Map;console.log("基础四码组合:",this.baseCombinations);for(let l=0;l<this.baseCombinations.length;l++)for(let r=l+1;r<this.baseCombinations.length;r++){const t=this.baseCombinations[l],i=this.baseCombinations[r];this.generateFromTwoDigitsFromA(t,i,s,e),this.generateFromOneDigitFromA(t,i,s,e)}return console.log("生成的3位数字数量:",s.length),console.log("生成的3位数字:",s),console.log("生成路径:",Array.from(e.entries())),this.generationPaths=e,s},generateFromTwoDigitsFromA(s,e,l,r){const t=s.split(""),i=e.split("");for(let o=0;o<t.length;o++)for(let d=o+1;d<t.length;d++){const c=t[o]+t[d];for(let h=0;h<i.length;h++){const m=c+i[h];if(this.isValidThreeDigitNumber(m)){const y=`${s}(${c}) + ${e}(${i[h]})`;this.addNumberWithPath(m,y,l,r)}}}},generateFromOneDigitFromA(s,e,l,r){const t=s.split(""),i=e.split("");for(let o=0;o<t.length;o++)for(let d=0;d<i.length;d++)for(let c=d+1;c<i.length;c++){const h=i[d]+i[c],m=t[o]+h;if(this.isValidThreeDigitNumber(m)){const y=`${s}(${t[o]}) + ${e}(${h})`;this.addNumberWithPath(m,y,l,r)}}},isValidThreeDigitNumber(s){const e=s.split("");return new Set(e).size===3},addNumberWithPath(s,e,l,r){l.includes(s)||(l.push(s),r.set(s,e))},getGenerationPath(s){return this.generationPaths?this.generationPaths.get(s)||"未知路径":"路径未记录"},generateCombinationsFromComb(s,e){const l=[],r=(t,i)=>{if(t.length===e){l.push(t);return}for(let o=i;o<s.length;o++)r(t+s[o],o+1)};return r("",0),l},applyDanmaRules(s){console.log("应用胆码规则前数量:",s.length);const e=s.filter(l=>{const r=l.split("");for(const t of this.danmaGroups){const i=t.code.split("");if(r.filter(d=>i.includes(d)).length>=1)return!0}return!1});return console.log("应用胆码规则后数量:",e.length),e},applyKillCodeRules(s){return this.selectedKillCodes.length===0?s:s.filter(e=>{for(const l of this.selectedKillCodes){const r=l.split("");if(e.split("").filter(o=>r.includes(o)).length>1)return!1}return!0})},applyKillTwoCodeRules(s){return s.filter(e=>{for(const l of this.killTwoCodeGroups)if(e.includes(l[0])&&e.includes(l[1]))return!1;return!0})},calculateProbability(s){let e=50;for(const l of this.danmaGroups){const r=l.code.split(""),i=s.split("").filter(o=>r.includes(o)).length;i===1?e+=10:i===2?e+=20:i===3&&(e+=30)}return Math.min(e,100)},generateFiveDigitNumbers(s){const e=[],l="0123456789";for(const r of s){const t=l.split("").filter(i=>!r.includes(i));for(let i=0;i<t.length;i++)for(let o=i+1;o<t.length;o++){const d=t[i]+t[o],c=[d+r,r[0]+d+r.slice(1),r.slice(0,2)+d+r[2],r+d];for(const h of c)h.length===5&&!e.includes(h)&&e.push(h)}}return e},calculateFiveDigitProbability(s){var t;const e=s.slice(0,3),l=((t=this.threeDigitResults.find(i=>i.number===e))==null?void 0:t.probability)||0;return Math.min(l+20,100)},generateFourCodeWithTwoDigits(s){const e=s.split(""),l=[];for(const t of this.baseCombinations){const i=t.split(""),o=e.filter(h=>i.includes(h)).length;let d=0;this.danmaGroups.forEach(h=>{h.code.split("").filter(D=>i.includes(D)).length>=2&&(d+=30)});const c=o*10+d;l.push({combination:t,matchCount:o,danmaMatchScore:d,score:c})}l.sort((t,i)=>i.score-t.score);const r=l.filter(t=>t.matchCount>=2);return r.length>0?r[0].combination:l.length>0?l[0].combination:s+Math.floor(Math.random()*10)},clearResults(){this.predictionResults=[],this.threeDigitResults=[],this.fiveDigitResults=[],this.fourCodeResult="",this.generationPaths=null},formatResultsByRow(s,e){const l=[];for(let r=0;r<s.length;r+=e){const t=s.slice(r,r+e).map(i=>i.number);l.push(t)}return l},removeDuplicateNumbers(s){const e=[],l=new Set;for(const r of s){const t=r.split("").sort().join("");l.has(t)||(l.add(t),e.push(r))}return e},generateCandidateNumbers(){const s=[],e="0123456789";for(let l=0;l<e.length;l++)for(let r=l+1;r<e.length;r++)for(let t=r+1;t<e.length;t++)for(let i=t+1;i<e.length;i++)for(let o=i+1;o<e.length;o++){const d=e[l]+e[r]+e[t]+e[i]+e[o],c=this.applyKillCodeRules([d]).length>0,h=this.applyKillTwoCodeRules([d]).length>0;c&&h&&s.push(d)}return s},scoreNumbersByDanma(s){return s.map(e=>{let l=0;const r=e.split("");for(const t of this.danmaGroups){const i=t.code.split(""),o=r.filter(d=>i.includes(d)).length;if(o>=1){const d=o*10;o>=2&&o<=t.code.length?l+=d+5:l+=d}}return{number:e,score:Math.round(l*100)/100}})},generateFinalFiveDigitCombinations(s){const e=s.sort((t,i)=>i.score-t.score),l=[],r=new Set;for(const t of e){if(l.length>=5)break;const i=t.number.split("");i.some(d=>r.has(d))||(l.push({number:t.number,probability:Math.min(t.score*2,100)}),i.forEach(d=>r.add(d)))}if(l.length<5){const t=e.filter(i=>!l.some(o=>o.number===i.number)).slice(0,5-l.length).map(i=>({number:i.number,probability:Math.min(i.score*2,100)}));l.push(...t)}return l},toggleEditMode(s){this.editMode[s]=!this.editMode[s],this.editMode[s]||(this.editForm.killTwoCode="",this.editingIndex.killTwoCodeGroups=-1,s==="killCodeGroups"&&(this.editForm.killCode="",this.editingIndex.killCodeGroups=-1))},addKillTwoCode(){this.toggleEditMode("killTwoCodeGroups"),this.editForm.killTwoCode="",this.editingIndex.killTwoCodeGroups=-1},saveKillTwoCode(){if(!this.editForm.killTwoCode.trim()){alert("请输入有效的杀二码组合");return}if(!/^\d{2}$/.test(this.editForm.killTwoCode)){alert("杀二码组合必须是两位数字");return}this.editingIndex.killTwoCodeGroups>=0?this.killTwoCodeGroups.splice(this.editingIndex.killTwoCodeGroups,1,this.editForm.killTwoCode):this.killTwoCodeGroups.push(this.editForm.killTwoCode),this.toggleEditMode("killTwoCodeGroups")},editKillTwoCode(s){this.editMode.killTwoCodeGroups=!0,this.editForm.killTwoCode=this.killTwoCodeGroups[s],this.editingIndex.killTwoCodeGroups=s},deleteKillTwoCode(s){confirm("确定要删除这个杀二码组合吗？")&&this.killTwoCodeGroups.splice(s,1)},addKillCode(){this.toggleEditMode("killCodeGroups"),this.editForm.killCode="",this.editingIndex.killCodeGroups=-1},saveKillCode(){if(!this.editForm.killCode.trim()){alert("请输入有效的杀码组合");return}if(!/^\d+$/.test(this.editForm.killCode)){alert("杀码组合必须是数字");return}this.editingIndex.killCodeGroups>=0?this.killCodeGroups.splice(this.editingIndex.killCodeGroups,1,this.editForm.killCode):this.killCodeGroups.push(this.editForm.killCode),this.toggleEditMode("killCodeGroups")},editKillCode(s){this.editMode.killCodeGroups=!0,this.editForm.killCode=this.killCodeGroups[s],this.editingIndex.killCodeGroups=s},deleteKillCode(s){confirm("确定要删除这个杀码组合吗？")&&this.killCodeGroups.splice(s,1)},generateKillCodeSelectionOptions(){const s=this.killCodeGroups.length;if(s===0){this.killCodeSelectionOptions=[];return}const e=[],l=s<=4?3:4;if(s<=l){const r=`组合1：${this.killCodeGroups.join(", ")}`;e.push({value:0,label:r,killCodes:[...this.killCodeGroups],used:!1})}else{for(let r=0;r<=s-l;r++){const t=this.killCodeGroups.slice(r,r+l),i=`组合${r+1}：${t.join(", ")}`;e.push({value:r,label:i,killCodes:t,used:!1})}if(s===4&&l===3){const r=[this.killCodeGroups[0],this.killCodeGroups[1],this.killCodeGroups[3]];e.push({value:e.length,label:`组合${e.length+1}：${r.join(", ")}`,killCodes:r,used:!1});const t=[this.killCodeGroups[0],this.killCodeGroups[2],this.killCodeGroups[3]];e.push({value:e.length,label:`组合${e.length+1}：${t.join(", ")}`,killCodes:t,used:!1})}if(s>l&&!(s===4&&l===3)){for(let r=s-l+1;r<s;r++)if(r+l<=s){const t=this.killCodeGroups.slice(r,r+l),i=`组合${e.length+1}：${t.join(", ")}`;e.push({value:e.length,label:i,killCodes:t,used:!1})}}}this.killCodeSelectionOptions=e,e.length>0&&!this.selectedKillCodeOption&&(this.selectedKillCodeOption=e[0].value,this.onKillCodeOptionChange())},onKillCodeOptionChange(){if(this.selectedKillCodeOption===null||this.selectedKillCodeOption===void 0){this.selectedKillCodes=[];return}const s=this.killCodeSelectionOptions.find(e=>e.value===this.selectedKillCodeOption);s?(this.selectedKillCodes=[...s.killCodes],s.used||(s.used=!0,this.usedKillCodeOptions.add(s.value))):this.selectedKillCodes=[]},getSelectedKillCodesFromOption(){if(this.selectedKillCodeOption===null||this.selectedKillCodeOption===void 0)return this.killCodeGroups;const s=this.killCodeSelectionOptions.find(e=>e.value===this.selectedKillCodeOption);return s?s.killCodes:this.killCodeGroups},resetUsedKillCodeOptions(){this.usedKillCodeOptions.clear(),this.killCodeSelectionOptions.forEach(s=>{s.used=!1}),this.killCodeSelectionOptions.length>0&&(this.selectedKillCodeOption=this.killCodeSelectionOptions[0].value,this.onKillCodeOptionChange())},checkAllKillCodeOptionsUsed(){return this.killCodeSelectionOptions.length===0?!1:this.killCodeSelectionOptions.every(s=>s.used)},checkKillCodeUsageBeforePrediction(){return this.checkAllKillCodeOptionsUsed(),!0}}},z={class:"advanced-number-prediction"},H={class:"panel"},J={class:"prediction-params-section"},Q={class:"param-group"},X={class:"period-input"},Y=["value"],Z={class:"param-group"},$={class:"code-type-input"},ee={class:"param-group"},te={class:"base-combinations"},se={class:"param-group"},oe={class:"field-controls"},ie={key:0,class:"edit-form"},le={class:"danma-type-checkboxes"},ne={class:"checkbox-label"},re={class:"checkbox-label"},de={class:"checkbox-label"},ae={class:"checkbox-label"},ue={class:"danma-groups"},ce={class:"danma-code"},he={key:0,class:"item-actions"},pe=["onClick"],Ce=["onClick"],me={class:"param-group"},ge={class:"field-controls"},be={key:0,class:"edit-form"},fe={key:1,class:"kill-code-selection"},ke={class:"selection-controls"},ve={class:"selection-group"},ye=["value"],De={key:0,class:"used-marker"},Te={key:1,class:"warning-marker"},Ge={key:0,class:"selected-option-detail"},we={class:"kill-code-tags"},Ke={key:2,class:"kill-code-selector"},Fe={class:"checkbox-group"},Me=["value"],Pe={key:3,class:"selected-kill-codes"},Oe={class:"kill-code-tags"},Re=["onClick"],Ne={key:4,class:"kill-code-groups"},Se={key:0,class:"item-actions"},Ie=["onClick"],xe=["onClick"],_e={class:"param-group"},Ae={class:"field-controls"},Ee={key:0,class:"edit-form"},Ue={class:"kill-two-code-groups"},Ve={key:0,class:"item-actions"},je=["onClick"],Be=["onClick"],We={class:"prediction-controls"},qe={key:0,class:"prediction-results-section"},Le={class:"statistics-card"},ze={class:"statistics-grid"},He={class:"stat-item"},Je={class:"stat-value"},Qe={class:"stat-item"},Xe={class:"stat-value"},Ye={class:"stat-item"},Ze={class:"stat-value"},$e={class:"stat-item"},et={class:"stat-value"},tt={class:"stat-item"},st={class:"stat-value"},ot={class:"result-group"},it={class:"three-digit-results"},lt={class:"result-line"},nt={class:"result-count"},rt={class:"result-group"},dt={class:"five-digit-results"},at={class:"result-line"},ut={class:"result-count"},ct={class:"result-group"},ht={class:"four-code-result"},pt={class:"result-number"};function Ct(s,e,l,r,t,i){return u(),a("div",z,[n("div",H,[e[65]||(e[65]=n("h2",null,"高级数字预测",-1)),e[66]||(e[66]=n("p",{class:"description"},"基于四码组合、胆码、杀码组合和杀二码组合的综合预测系统",-1)),n("div",J,[e[53]||(e[53]=n("h3",null,"预测参数设置",-1)),n("div",Q,[e[32]||(e[32]=n("h4",null,"期号",-1)),n("div",X,[g(n("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.currentPeriod=o),onChange:e[1]||(e[1]=(...o)=>i.onPeriodChange&&i.onPeriodChange(...o)),class:"input-field"},[e[31]||(e[31]=n("option",{value:""},"请选择期号",-1)),(u(!0),a(b,null,f(t.availablePeriods,o=>(u(),a("option",{key:o,value:o},p(o),9,Y))),128))],544),[[M,t.currentPeriod]])]),e[33]||(e[33]=n("p",{class:"param-description"},"期号变更时，四码组合、杀码组合、胆码组字段将同步联动更新",-1))]),n("div",Z,[e[35]||(e[35]=n("h4",null,"组合类型",-1)),n("div",$,[g(n("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>t.selectedCodeType=o),onChange:e[3]||(e[3]=(...o)=>i.onCodeTypeChange&&i.onCodeTypeChange(...o)),class:"input-field"},[...e[34]||(e[34]=[n("option",{value:""},"请选择组合类型",-1),n("option",{value:"三四三断组"},"三四三断组",-1),n("option",{value:"四断组"},"四断组",-1)])],544),[[M,t.selectedCodeType]])]),e[36]||(e[36]=n("p",{class:"param-description"},"选择组合类型后，四码组合基础数据将根据期号和组合类型进行筛选",-1))]),n("div",ee,[e[37]||(e[37]=n("h4",null,"四码组合基础",-1)),n("div",te,[(u(!0),a(b,null,f(t.baseCombinations,(o,d)=>(u(),a("span",{class:"combination-item",key:d},p(o),1))),128))]),e[38]||(e[38]=n("p",{class:"param-description"},"从上述组合中任选两组，其中一组提供2个数字，另一组提供1个数字，共同组成3位数字结果",-1))]),n("div",se,[e[43]||(e[43]=n("h4",null,"胆码组",-1)),n("div",oe,[n("button",{onClick:e[4]||(e[4]=o=>i.toggleEditMode("danmaGroups")),class:"btn-edit"},p(t.editMode.danmaGroups?"取消编辑":"编辑"),1),t.editMode.danmaGroups?(u(),a("button",{key:0,onClick:e[5]||(e[5]=(...o)=>i.addDanma&&i.addDanma(...o)),class:"btn-add"},"添加")):C("",!0)]),t.editMode.danmaGroups?(u(),a("div",ie,[g(n("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>t.editForm.danmaCode=o),placeholder:"输入胆码（如：123）",class:"input-field"},null,512),[[P,t.editForm.danmaCode]]),n("button",{onClick:e[7]||(e[7]=(...o)=>i.saveDanma&&i.saveDanma(...o)),class:"btn-save"},"保存")])):C("",!0),n("div",le,[n("label",ne,[g(n("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=o=>t.danmaTypes=o),value:"2",onChange:e[9]||(e[9]=(...o)=>i.onDanmaTypesChange&&i.onDanmaTypesChange(...o))},null,544),[[w,t.danmaTypes]]),e[39]||(e[39]=k(" 两胆码 ",-1))]),n("label",re,[g(n("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=o=>t.danmaTypes=o),value:"3",onChange:e[11]||(e[11]=(...o)=>i.onDanmaTypesChange&&i.onDanmaTypesChange(...o))},null,544),[[w,t.danmaTypes]]),e[40]||(e[40]=k(" 三胆码 ",-1))]),n("label",de,[g(n("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=o=>t.danmaTypes=o),value:"4",onChange:e[13]||(e[13]=(...o)=>i.onDanmaTypesChange&&i.onDanmaTypesChange(...o))},null,544),[[w,t.danmaTypes]]),e[41]||(e[41]=k(" 四胆码 ",-1))]),n("label",ae,[g(n("input",{type:"checkbox","onUpdate:modelValue":e[14]||(e[14]=o=>t.danmaTypes=o),value:"5",onChange:e[15]||(e[15]=(...o)=>i.onDanmaTypesChange&&i.onDanmaTypesChange(...o))},null,544),[[w,t.danmaTypes]]),e[42]||(e[42]=k(" 五胆码 ",-1))])]),n("div",ue,[(u(!0),a(b,null,f(t.danmaGroups,(o,d)=>(u(),a("div",{key:d,class:"danma-item"},[n("span",ce,p(o.code),1),t.editMode.danmaGroups?(u(),a("span",he,[n("button",{onClick:c=>i.editDanma(d),class:"btn-edit-small"},"编辑",8,pe),n("button",{onClick:c=>i.deleteDanma(d),class:"btn-delete-small"},"删除",8,Ce)])):C("",!0)]))),128))])]),n("div",me,[e[49]||(e[49]=n("h4",null,"杀码组合",-1)),n("div",ge,[n("button",{onClick:e[16]||(e[16]=o=>i.toggleEditMode("killCodeGroups")),class:"btn-edit"},p(t.editMode.killCodeGroups?"取消编辑":"编辑"),1),t.editMode.killCodeGroups?(u(),a("button",{key:0,onClick:e[17]||(e[17]=(...o)=>i.addKillCode&&i.addKillCode(...o)),class:"btn-add"},"添加")):C("",!0)]),t.editMode.killCodeGroups?(u(),a("div",be,[g(n("input",{"onUpdate:modelValue":e[18]||(e[18]=o=>t.editForm.killCode=o),placeholder:"输入杀码组合（如：0123）",class:"input-field"},null,512),[[P,t.editForm.killCode]]),n("button",{onClick:e[19]||(e[19]=(...o)=>i.saveKillCode&&i.saveKillCode(...o)),class:"btn-save"},"保存")])):C("",!0),!t.editMode.killCodeGroups&&t.killCodeGroups.length>0?(u(),a("div",fe,[n("div",ke,[n("div",ve,[e[45]||(e[45]=n("label",{class:"selection-label"},"杀码组合选择：",-1)),g(n("select",{"onUpdate:modelValue":e[20]||(e[20]=o=>t.selectedKillCodeOption=o),onChange:e[21]||(e[21]=(...o)=>i.onKillCodeOptionChange&&i.onKillCodeOptionChange(...o)),class:"selection-dropdown"},[e[44]||(e[44]=n("option",{value:""},"请选择杀码组合",-1)),(u(!0),a(b,null,f(t.killCodeSelectionOptions,(o,d)=>(u(),a("option",{key:d,value:o.value,class:q({"used-option":t.usedKillCodeOptions.has(o.value)})},[k(p(o.label)+" ",1),t.usedKillCodeOptions.has(o.value)?(u(),a("span",De," ✓")):C("",!0),o.hasWarning?(u(),a("span",Te," ⚠")):C("",!0)],10,ye))),128))],544),[[M,t.selectedKillCodeOption]]),n("button",{onClick:e[22]||(e[22]=(...o)=>i.resetUsedKillCodeOptions&&i.resetUsedKillCodeOptions(...o)),class:"btn-reset",title:"重置使用状态"},"重置")]),t.selectedKillCodeOption?(u(),a("div",Ge,[e[46]||(e[46]=n("div",{class:"detail-label"},"当前选中组合：",-1)),n("div",we,[(u(!0),a(b,null,f(i.getSelectedKillCodesFromOption(),(o,d)=>(u(),a("span",{key:d,class:"kill-code-tag"},p(o),1))),128))])])):C("",!0)])])):C("",!0),!t.editMode.killCodeGroups&&t.killCodeGroups.length>0?(u(),a("div",Ke,[e[47]||(e[47]=n("div",{class:"selector-label"},"选择杀码组合：",-1)),n("div",Fe,[(u(!0),a(b,null,f(t.killCodeGroups,(o,d)=>(u(),a("label",{key:d,class:"checkbox-label"},[g(n("input",{type:"checkbox","onUpdate:modelValue":e[23]||(e[23]=c=>t.selectedKillCodes=c),value:o,onChange:e[24]||(e[24]=(...c)=>i.onKillCodeSelectionChange&&i.onKillCodeSelectionChange(...c))},null,40,Me),[[w,t.selectedKillCodes]]),k(" "+p(o),1)]))),128))])])):C("",!0),t.selectedKillCodes.length>0?(u(),a("div",Pe,[e[48]||(e[48]=n("div",{class:"selected-label"},"已选杀码组合：",-1)),n("div",Oe,[(u(!0),a(b,null,f(t.selectedKillCodes,(o,d)=>(u(),a("span",{key:d,class:"kill-code-tag"},[k(p(o)+" ",1),n("button",{onClick:c=>i.removeKillCode(d),class:"tag-remove"},"×",8,Re)]))),128))])])):C("",!0),t.editMode.killCodeGroups?(u(),a("div",Ne,[(u(!0),a(b,null,f(t.killCodeGroups,(o,d)=>(u(),a("span",{key:d,class:"kill-code-item"},[k(p(o)+" ",1),t.editMode.killCodeGroups?(u(),a("span",Se,[n("button",{onClick:c=>i.editKillCode(d),class:"btn-edit-small"},"编辑",8,Ie),n("button",{onClick:c=>i.deleteKillCode(d),class:"btn-delete-small"},"删除",8,xe)])):C("",!0)]))),128))])):C("",!0),e[50]||(e[50]=n("p",{class:"param-description"},[k(" 支持选择多组杀码组合，系统将对所有选中的杀码组合执行联合验证： 每组杀码组合在结果中最多出现1个数字（允许不出现），需同时满足所有选中杀码组的验证条件 "),n("br"),n("strong",null,"杀码组合选择功能："),k("通过下拉框选择预设的杀码组合组合，支持遍历使用所有组合选项 ")],-1))]),n("div",_e,[e[51]||(e[51]=n("h4",null,"杀二码组合",-1)),n("div",Ae,[n("button",{onClick:e[25]||(e[25]=o=>i.toggleEditMode("killTwoCodeGroups")),class:"btn-edit"},p(t.editMode.killTwoCodeGroups?"取消编辑":"编辑"),1),t.editMode.killTwoCodeGroups?(u(),a("button",{key:0,onClick:e[26]||(e[26]=(...o)=>i.addKillTwoCode&&i.addKillTwoCode(...o)),class:"btn-add"},"添加")):C("",!0)]),t.editMode.killTwoCodeGroups?(u(),a("div",Ee,[g(n("input",{"onUpdate:modelValue":e[27]||(e[27]=o=>t.editForm.killTwoCode=o),placeholder:"输入杀二码组合（如：01）",class:"input-field"},null,512),[[P,t.editForm.killTwoCode]]),n("button",{onClick:e[28]||(e[28]=(...o)=>i.saveKillTwoCode&&i.saveKillTwoCode(...o)),class:"btn-save"},"保存")])):C("",!0),n("div",Ue,[(u(!0),a(b,null,f(t.killTwoCodeGroups,(o,d)=>(u(),a("span",{key:d,class:"kill-two-code-item"},[k(p(o)+" ",1),t.editMode.killTwoCodeGroups?(u(),a("span",Ve,[n("button",{onClick:c=>i.editKillTwoCode(d),class:"btn-edit-small"},"编辑",8,je),n("button",{onClick:c=>i.deleteKillTwoCode(d),class:"btn-delete-small"},"删除",8,Be)])):C("",!0)]))),128))]),e[52]||(e[52]=n("p",{class:"param-description"},"3位数字结果中禁止出现以下任意两码组合",-1))])]),n("div",We,[n("button",{onClick:e[29]||(e[29]=(...o)=>i.generatePredictions&&i.generatePredictions(...o)),class:"btn btn-primary"},"生成预测结果"),n("button",{onClick:e[30]||(e[30]=(...o)=>i.clearResults&&i.clearResults(...o)),class:"btn btn-secondary"},"清除结果")]),t.threeDigitResults.length>0||t.fiveDigitResults.length>0||t.fourCodeResult?(u(),a("div",qe,[e[63]||(e[63]=n("h3",null,"预测结果",-1)),n("div",Le,[e[59]||(e[59]=n("h4",null,"预测过程统计",-1)),n("div",ze,[n("div",He,[e[54]||(e[54]=n("span",{class:"stat-label"},"基础3位数字生成数量：",-1)),n("span",Je,p(t.statistics.baseThreeDigitCount),1)]),n("div",Qe,[e[55]||(e[55]=n("span",{class:"stat-label"},"胆码过滤后数量：",-1)),n("span",Xe,p(t.statistics.afterDanmaFilterCount),1)]),n("div",Ye,[e[56]||(e[56]=n("span",{class:"stat-label"},"杀码过滤后数量：",-1)),n("span",Ze,p(t.statistics.afterKillCodeFilterCount),1)]),n("div",$e,[e[57]||(e[57]=n("span",{class:"stat-label"},"杀二码过滤后数量：",-1)),n("span",et,p(t.statistics.afterKillTwoCodeFilterCount),1)]),n("div",tt,[e[58]||(e[58]=n("span",{class:"stat-label"},"去重后数量：",-1)),n("span",st,p(t.statistics.afterDeduplicationCount),1)])])]),n("div",ot,[e[60]||(e[60]=n("h4",null,"3位数字预测结果（实际评分最高的1-20组）",-1)),n("div",it,[(u(!0),a(b,null,f(i.formatResultsByRow(t.threeDigitResults,6),(o,d)=>(u(),a("div",{key:d,class:"result-row"},[n("span",lt,p(o.join(", "))+",",1)]))),128))]),n("div",nt,"共 "+p(t.threeDigitResults.length)+" 组 3位数字结果",1)]),e[64]||(e[64]=n("hr",{class:"result-divider"},null,-1)),n("div",rt,[e[61]||(e[61]=n("h4",null,"5位数字预测结果（实际评分最高的至少3组）",-1)),n("div",dt,[(u(!0),a(b,null,f(i.formatResultsByRow(t.fiveDigitResults,6),(o,d)=>(u(),a("div",{key:d,class:"result-row"},[n("span",at,p(o.join(", "))+",",1)]))),128))]),n("div",ut,"共 "+p(t.fiveDigitResults.length)+" 组 5位数字结果",1)]),n("div",ct,[e[62]||(e[62]=n("h4",null,"四码组合预测结果（包含两码的1组）",-1)),n("div",ht,[n("span",pt,p(t.fourCodeResult),1)])])])):C("",!0)])])}const bt=W(L,[["render",Ct],["__scopeId","data-v-ec0b1896"]]);export{bt as default};
